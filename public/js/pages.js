/*! For license information please see pages.js.LICENSE.txt */
(()=>{var __webpack_modules__={2743:e=>{!function(t,a){var i=a.jQuery;e.exports=i?t(a,i):function(e){if(e&&!e.fn)throw"Provide jQuery or null";return t(a,e)}}((function(e,t){"use strict";var a=!1===t;t=t&&t.fn?t:e.jQuery;var i,n,r,s,o,d,l,c,u,p,m,g,h,v,$,f,y,b,w,C,_,I,x="v1.0.11",S="_ocp",D=/[ \t]*(\r\n|\n|\r)/g,E=/\\(['"\\])/g,P=/['"\\]/g,T=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,L=/^if\s/,M=/<(\w+)[>\s]/,k=/[\x00`><\"'&=]/,j=/^on[A-Z]|^convert(Back)?$/,F=/^\#\d+_`[\s\S]*\/\d+_`$/,B=/[\x00`><"'&=]/g,A=/[&<>]/g,U=/&(amp|gt|lt);/g,R=/\[['"]?|['"]?\]/g,O=0,N={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},H={amp:"&",gt:">",lt:"<"},q="html",V="object",Y="data-jsv-tmpl",z="jsvTmpl",G="For #index in nested block use #getIndex().",Q={},J={},W=e.jsrender,K=W&&t&&!t.render,X={template:{compile:function e(a,i,n,r){function o(i){var s,o;if(""+i===i||i.nodeType>0&&(d=i)){if(!d)if(/^\.?\/[^\\:*?"<>]*$/.test(i))(o=c[a=a||i])?i=o:d=document.getElementById(i);else if("#"===i.charAt(0))d=document.getElementById(i.slice(1));else if(t.fn&&!g.rTmpl.test(i))try{d=t(i,document)[0]}catch(e){}d&&("SCRIPT"!==d.tagName&&Ce(i+": Use script block, not "+d.tagName),r?i=d.innerHTML:((s=d.getAttribute(Y))&&(s!==z?(i=c[s],delete c[s]):t.fn&&(i=t.data(d).jsvTmpl)),s&&i||(a=a||(t.fn?z:i),i=e(a,d.innerHTML,n,r)),i.tmplName=a=a||s,a!==z&&(c[a]=i),d.setAttribute(Y,a),t.fn&&t.data(d,z,i))),d=void 0}else i.fn||(i=void 0);return i}var d,l,p=i=i||"";g._html=u.html,0===r&&(r=void 0,p=o(p));(r=r||(i.markup?i.bnds?re({},i):i:{})).tmplName=r.tmplName||a||"unnamed",n&&(r._parentTmpl=n);!p&&i.markup&&(p=o(i.markup))&&p.fn&&(p=p.markup);if(void 0!==p)return p.render||i.render?p.tmpls&&(l=p):(i=ve(p,r),Ie(p.replace(P,"\\$&"),i)),l||function(e){var t,a,i;for(t in X)e[a=t+"s"]&&(i=e[a],e[a]={},s[a](i,e))}(l=re((function(){return l.render.apply(l,arguments)}),i)),l}},tag:{compile:function(e,t,a){var i,n,r,s=new g._tg;function o(){var t=this;t._={unlinked:!0},t.inline=!0,t.tagName=e}d(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t});if(n=t.baseTag)for(r in t.flow=!!t.flow,(n=""+n===n?a&&a.tags[n]||m[n]:n)||Ce('baseTag: "'+t.baseTag+'" not found'),s=re(s,n),t)s[r]=ee(n[r],t[r]);else s=re(s,t);void 0!==(i=s.template)&&(s.template=""+i===i?c[i]||c(i):i);(o.prototype=s).constructor=s._ctr=o,a&&(s._parentTmpl=a);return s}},viewModel:{compile:function(e,a){var i,n,r,s=this,c=a.getters,u=a.extend,p=a.id,m=t.extend({_is:e||"unnamed",unmap:_,merge:C},u),g="",h="",v=c?c.length:0,$=t.observable,f={};function y(e){n.apply(this,e)}function b(){return new y(arguments)}function w(e,t){for(var a,i,n,r,o,d=0;d<v;d++)a=void 0,(n=c[d])+""!==n&&(n=(a=n).getter,o=a.parentRef),void 0===(r=e[n])&&a&&void 0!==(i=a.defaultVal)&&(r=ge(i,e)),t(r,a&&s[a.type],n,o)}function C(e,t,a){e=e+""===e?JSON.parse(e):e;var i,n,r,s,d,c,u,m,g,h,v=0,y=this;if(l(y)){for(u={},g=[],n=e.length,r=y.length;v<n;v++){for(m=e[v],c=!1,i=0;i<r&&!c;i++)u[i]||(d=y[i],p&&(u[i]=c=p+""===p?m[p]&&(f[p]?d[p]():d[p])===m[p]:p(d,m)));c?(d.merge(m),g.push(d)):(g.push(h=b.map(m)),a&&he(h,a,t))}$?$(y).refresh(g,!0):y.splice.apply(y,[0,y.length].concat(g))}else for(s in w(e,(function(e,t,a,i){t?y[a]().merge(e,y,i):y[a]()!==e&&y[a](e)})),e)s===o||f[s]||(y[s]=e[s])}function _(){var e,t,a,i,n=0,r=this;function u(e){for(var t=[],a=0,i=e.length;a<i;a++)t.push(e[a].unmap());return t}if(l(r))return u(r);for(e={};n<v;n++)a=void 0,(t=c[n])+""!==t&&(t=(a=t).getter),i=r[t](),e[t]=a&&i&&s[a.type]?l(i)?u(i):i.unmap():i;for(t in r)!r.hasOwnProperty(t)||"_"===t.charAt(0)&&f[t.slice(1)]||t===o||d(r[t])||(e[t]=r[t]);return e}for(y.prototype=m,i=0;i<v;i++)!function(e){e=e.getter||e,f[e]=i+1;var t="_"+e;g+=(g?",":"")+e,h+="this."+t+" = "+e+";\n",m[e]=m[e]||function(a){if(!arguments.length)return this[t];$?$(this).setProperty(e,a):this[t]=a},$&&(m[e].set=m[e].set||function(e){this[t]=e})}(c[i]);return h=new Function(g,h),(n=function(){h.apply(this,arguments),(r=arguments[v+1])&&he(this,arguments[v],r)}).prototype=m,m.constructor=n,b.map=function(t){t=t+""===t?JSON.parse(t):t;var a,i,n,r,s=0,d=t,u=[];if(l(t)){for(a=(t=t||[]).length;s<a;s++)u.push(this.map(t[s]));return u._is=e,u.unmap=_,u.merge=C,u}if(t){for(w(t,(function(e,t){t&&(e=t.map(e)),u.push(e)})),d=this.apply(this,u),s=v;s--;)if(n=u[s],(r=c[s].parentRef)&&n&&n.unmap)if(l(n))for(a=n.length;a--;)he(n[a],r,d);else he(n,r,d);for(i in t)i===o||f[i]||(d[i]=t[i])}return d},b.getters=c,b.extend=u,b.id=p,b}},helper:{},converter:{}};function Z(e,t){return function(){var a,i=this,n=i.base;return i.base=e,a=t.apply(i,arguments),i.base=n,a}}function ee(e,t){return d(t)&&((t=Z(e?e._d?e:Z(ie,e):ie,t))._d=(e&&e._d||0)+1),t}function te(e,t){var a,i=t.props;for(a in i)!j.test(a)||e[a]&&e[a].fix||(e[a]="convert"!==a?ee(e.constructor.prototype[a],i[a]):i[a])}function ae(e){return e}function ie(){return""}function ne(e){this.name=(t.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function re(e,t){if(e){for(var a in t)e[a]=t[a];return e}}function se(){var e=this.get("item");return e?e.index:void 0}function oe(){return this.index}function de(e,t,a,i){var n,r,s,o=0;if(1===a&&(i=1,a=void 0),t)for(s=(r=t.split(".")).length;e&&o<s;o++)n=e,e=r[o]?e[r[o]]:e;return a&&(a.lt=a.lt||o<s),void 0===e?i?ie:"":i?function(){return e.apply(n,arguments)}:e}function le(a,i,n){var r,s,o,l,c,u,m,h=this,v=!I&&arguments.length>1,$=h.ctx;if(a){if(h._||(c=h.index,h=h.tag),u=h,$&&$.hasOwnProperty(a)||($=p).hasOwnProperty(a)){if(o=$[a],"tag"===a||"tagCtx"===a||"root"===a||"parentTags"===a)return o}else $=void 0;if((!I&&h.tagCtx||h.linked)&&(o&&o._cxp||(h=h.tagCtx||d(o)?h:!(h=h.scope||h).isTop&&h.ctx.tag||h,void 0!==o&&h.tagCtx&&(h=h.tagCtx.view.scope),$=h._ocps,(o=$&&$.hasOwnProperty(a)&&$[a]||o)&&o._cxp||!n&&!v||(($||(h._ocps=h._ocps||{}))[a]=o=[{_ocp:o,_vw:u,_key:a}],o._cxp={path:S,ind:0,updateValue:function(e,a){return t.observable(o[0]).setProperty(S,e),this}})),l=o&&o._cxp)){if(arguments.length>2)return(s=o[1]?g._ceo(o[1].deps):[S]).unshift(o[0]),s._cxp=l,s;if(c=l.tagElse,m=o[1]?l.tag&&l.tag.cvtArgs?l.tag.cvtArgs(c,1)[l.ind]:o[1](o[0].data,o[0],g):o[0]._ocp,v)return g._ucp(a,i,h,l),h;o=m}return o&&d(o)&&re(r=function(){return o.apply(this&&this!==e?this:u,arguments)},o),r||o}}function ce(e,t){var a,i,n,r,s,o,d,c=this;if(c.tagName){if(!(c=((o=c).tagCtxs||[c])[e||0]))return}else o=c.tag;if(s=o.bindFrom,r=c.args,(d=o.convert)&&""+d===d&&(d="true"===d?void 0:c.view.getRsc("converters",d)||Ce("Unknown converter: '"+d+"'")),d&&!t&&(r=r.slice()),s){for(n=[],a=s.length;a--;)i=s[a],n.unshift(ue(c,i));t&&(r=n)}if(d){if(void 0===(d=d.apply(o,n||r)))return r;if(a=(s=s||[0]).length,l(d)&&(!1===d.arg0||1!==a&&d.length===a&&!d.arg0)||(d=[d],s=[0],a=1),t)r=d;else for(;a--;)+(i=s[a])===i&&(r[i]=d[a])}return r}function ue(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}function pe(e){return this.cvtArgs(e,1)}function me(e,t,a,i,n,r,s,o){var d,l,c,u=this,p="array"===t;u.content=o,u.views=p?[]:{},u.data=i,u.tmpl=n,c=u._={key:0,useKey:p?0:1,id:""+O++,onRender:s,bnds:{}},u.linked=!!s,u.type=t||"top",t&&(u.cache={_ct:h._cchCt}),a&&"top"!==a.type||((u.ctx=e||{}).root=u.data),(u.parent=a)?(u.root=a.root||u,d=a.views,l=a._,u.isTop=l.scp,u.scope=(!e.tag||e.tag===a.ctx.tag)&&!u.isTop&&a.scope||u,l.useKey?(d[c.key="_"+l.useKey++]=u,u.index=G,u.getIndex=se):d.length===(c.key=u.index=r)?d.push(u):d.splice(r,0,u),u.ctx=e||a.ctx):t&&(u.root=u)}function ge(e,t){return d(e)?e.call(t):e}function he(e,t,a){Object.defineProperty(e,t,{value:a,configurable:!0})}function ve(e,a){var i,n=v._wm||{},r={tmpls:[],links:{},bnds:[],_is:"template",render:be};return a&&(r=re(r,a)),r.markup=e,r.htmlTag||(i=M.exec(e),r.htmlTag=i?i[1].toLowerCase():""),(i=n[r.htmlTag])&&i!==n.div&&(r.markup=t.trim(r.markup)),r}function $e(e,t){var a=e+"s";s[a]=function i(n,r,o){var d,l,c,u=g.onStore[e];if(n&&typeof n===V&&!n.nodeType&&!n.markup&&!n.getTgt&&!("viewModel"===e&&n.getters||n.extend)){for(l in n)i(l,n[l],r);return r||s}return n&&""+n!==n&&(o=r,r=n,n=void 0),c=o?"viewModel"===e?o:o[a]=o[a]||{}:i,d=t.compile,void 0===r&&(r=d?n:c[n],n=void 0),null===r?n&&delete c[n]:(d&&((r=d.call(c,n,r,o,0)||{})._is=e),n&&(c[n]=r)),u&&u(n,r,o,d),r}}function fe(e){$[e]=$[e]||function(t){return arguments.length?(h[e]=t,$):h[e]}}function ye(e){function t(t,a){this.tgt=e.getTgt(t,a),a.map=this}return d(e)&&(e={getTgt:e}),e.baseMap&&(e=re(re({},e.baseMap),e)),e.map=function(e,a){return new t(e,a)},e}function be(e,t,a,i,n,s){var o,c,u,p,m,h,$,f,y=i,b="";if(!0===t?(a=t,t=void 0):typeof t!==V&&(t=void 0),(u=this.tag)?(m=this,p=(y=y||m.view)._getTmpl(u.template||m.tmpl),arguments.length||(e=u.contentCtx&&d(u.contentCtx)?e=u.contentCtx(e):y)):p=this,p){if(!i&&e&&"view"===e._is&&(y=e),y&&e===y&&(e=y.data),h=!y,I=I||h,h&&((t=t||{}).root=e),!I||v.useViews||p.useViews||y&&y!==r)b=we(p,e,t,a,y,n,s,u);else{if(y?($=y.data,f=y.index,y.index=G):($=(y=r).data,y.data=e,y.ctx=t),l(e)&&!a)for(o=0,c=e.length;o<c;o++)y.index=o,y.data=e[o],b+=p.fn(e[o],y,g);else y.data=e,b+=p.fn(e,y,g);y.data=$,y.index=f}h&&(I=void 0)}return b}function we(e,t,a,i,n,r,s,o){var d,c,u,p,m,h,v,$,f,y,b,w,C,_="";if(o&&(f=o.tagName,w=o.tagCtx,a=a?Pe(a,o.ctx):o.ctx,e===n.content?v=e!==n.ctx._wrp?n.ctx._wrp:void 0:e!==w.content?e===o.template?(v=w.tmpl,a._wrp=w.content):v=w.content||n.content:v=n.content,!1===w.props.link&&((a=a||{}).link=!1)),n&&(s=s||n._.onRender,(C=a&&!1===a.link)&&n._.nl&&(s=void 0),a=Pe(a,n.ctx),w=!o&&n.tag?n.tag.tagCtxs[n.tagElse]:w),(y=w&&w.props.itemVar)&&("~"!==y[0]&&_e("Use itemVar='~myItem'"),y=y.slice(1)),!0===r&&(h=!0,r=0),s&&o&&o._.noVws&&(s=void 0),$=s,!0===s&&($=void 0,s=n._.onRender),b=a=e.helpers?Pe(e.helpers,a):a,l(t)&&!i)for((u=h?n:void 0!==r&&n||new me(a,"array",n,t,e,r,s,v))._.nl=C,n&&n._.useKey&&(u._.bnd=!o||o._.bnd&&o,u.tag=o),d=0,c=t.length;d<c;d++)p=new me(b,"item",u,t[d],e,(r||0)+d,s,u.content),y&&((p.ctx=re({},b))[y]=g._cp(t[d],"#data",p)),m=e.fn(t[d],p,g),_+=u._.onRender?u._.onRender(m,p):m;else u=h?n:new me(b,f||"data",n,t,e,r,s,v),y&&((u.ctx=re({},b))[y]=g._cp(t,"#data",u)),u.tag=o,u._.nl=C,_+=e.fn(t,u,g);return o&&(u.tagElse=w.index,w.contentView=u),$?$(_,u):_}function Ce(e){throw new g.Err(e)}function _e(e){Ce("Syntax error\n"+e)}function Ie(e,t,a,i,r){function s(t){(t-=v)&&C.push(e.substr(v,t).replace(D,"\\n"))}function o(t,a){t&&(t+="}}",_e((a?"{{"+a+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}var d,l,c,u,p,m=h.allowCode||t&&t.allowCode||!0===$.allowCode,g=[],v=0,y=[],C=g,_=[,,g];if(m&&t._is&&(t.allowCode=m),a&&(void 0!==i&&(e=e.slice(0,-i.length-2)+b),e=f+e+w),o(y[0]&&y[0][2].pop()[0]),e.replace(n,(function(n,d,l,p,g,h,$,f,b,w,I,x){($&&d||b&&!l||f&&":"===f.slice(-1)||w)&&_e(n),h&&(g=":",p=q);var S,P,M,k=(d||a)&&[[]],F="",B="",A="",U="",R="",O="",N="",H="",V=!(b=b||a&&!r)&&!g;l=l||(f=f||"#data",g),s(x),v=x+n.length,$?m&&C.push(["*","\n"+f.replace(/^:/,"ret+= ").replace(E,"$1")+";\n"]):l?("else"===l&&(L.test(f)&&_e('For "{{else if expr}}" use "{{else expr}}"'),k=_[9]&&[[]],_[10]=e.substring(_[10],x),P=_[11]||_[0]||_e("Mismatched: "+n),_=y.pop(),C=_[2],V=!0),f&&De(f.replace(D," "),k,t,a).replace(T,(function(e,t,a,i,n,r,s,o){return"this:"===i&&(r="undefined"),o&&(M=M||"@"===o[0]),i="'"+n+"':",s?(B+=a+r+",",U+="'"+o+"',"):a?(A+=i+"j._cp("+r+',"'+o+'",view),',O+=i+"'"+o+"',"):t?N+=r:("trigger"===n&&(H+=r),"lateRender"===n&&(S="false"!==o),F+=i+r+",",R+=i+"'"+o+"',",u=u||j.test(n)),""})).slice(0,-1),k&&k[0]&&k.pop(),c=[l,p||!!i||u||"",V&&[],Se(U||(":"===l?"'#data',":""),R,O),Se(B||(":"===l?"data,":""),F,A),N,H,S,M,k||0],C.push(c),V&&(y.push(_),(_=c)[10]=v,_[11]=P)):I&&(o(I!==_[0]&&I!==_[11]&&I,_[0]),_[10]=e.substring(_[10],x),_=y.pop()),o(!_&&I),C=_[2]})),s(e.length),(v=g[g.length-1])&&o(""+v!==v&&+v[10]===v[10]&&v[0]),a){for(l=Ee(g,e,a),p=[],d=g.length;d--;)p.unshift(g[d][9]);xe(l,p)}else l=Ee(g,t);return l}function xe(e,t){var a,i,n=0,r=t.length;for(e.deps=[],e.paths=[];n<r;n++)for(a in e.paths.push(i=t[n]),i)"_jsvto"!==a&&i.hasOwnProperty(a)&&i[a].length&&!i[a].skp&&(e.deps=e.deps.concat(i[a]))}function Se(e,t,a){return[e.slice(0,-1),t.slice(0,-1),a.slice(0,-1)]}function De(e,a,i,n){var r,s,o,d,l,c=a&&a[0],u={bd:c},p={0:u},m=0,h=0,$=0,f={},y=0,b={},w={},C={},_={0:0},I={0:""},x=0;return"@"===e[0]&&(e=e.replace(R,".")),o=(e+(i?" ":"")).replace(g.rPrm,(function(i,o,S,D,E,T,L,M,k,j,F,B,A,U,R,O,N,H,q,V,Y){D&&!M&&(E=D+E),T=T||"",A=A||"",S=S||o||A,E=E||k,j&&(j=!/\)|]/.test(Y[V-1]))&&(E=E.slice(1).split(".").join("^")),F=F||H||"";var z,G,J,W,K,X,Z,ee=V;if(!l&&!d){if(L&&_e(e),N&&c){if(z=C[$-1],Y.length-1>ee-(z||0)){if(z=t.trim(Y.slice(z,ee+i.length)),G=s||p[$-1].bd,(J=G[G.length-1])&&J.prm){for(;J.sb&&J.sb.prm;)J=J.sb;W=J.sb={path:J.sb,bnd:J.bnd}}else G.push(W={path:G.pop()});J&&J.sb===W&&(I[$]=I[$-1].slice(J._cpPthSt)+I[$],I[$-1]=I[$-1].slice(0,J._cpPthSt)),W._cpPthSt=_[$-1],W._cpKey=z,I[$]+=Y.slice(x,V),x=V,W._cpfn=Q[z]=Q[z]||new Function("data,view,j","//"+z+"\nvar v;\nreturn ((v="+I[$]+("]"===O?")]":O)+")!=null?v:null);"),I[$-1]+=w[h]&&v.cache?'view.getCache("'+z.replace(P,"\\$&")+'"':I[$],W.prm=u.bd,W.bnd=W.bnd||W.path&&W.path.indexOf("^")>=0}I[$]=""}"["===F&&(F="[j._sq("),"["===S&&(S="[j._sq(")}return Z=l?(l=!U)?i:A+'"':d?(d=!R)?i:A+'"':(S?(b[++h]=!0,f[h]=0,c&&(C[$++]=ee++,u=p[$]={bd:[]},I[$]="",_[$]=1),S):"")+(q?h?"":(m=Y.slice(m,ee),(r?(r=s=!1,"\b"):"\b,")+m+(m=ee+i.length,c&&a.push(u.bd=[]),"\b")):M?($&&_e(e),c&&a.pop(),r="_"+E,D,m=ee+i.length,c&&((c=u.bd=a[r]=[]).skp=!D),E+":"):E?E.split("^").join(".").replace(g.rPath,(function(e,t,i,o,d,l,p,m){if(K="."===i,i&&(E=E.slice(t.length),/^\.?constructor$/.test(m||E)&&_e(e),K||(e=(j?(n?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(o?'view.ctxPrm("'+o+'")':d?"view":"data")+(j?")===undefined"+(n?"":")")+'?"":view._getOb(ob,"':"")+(m?(l?"."+l:o||d?"":"."+i)+(p||""):(m=o?"":d?l||"":i,"")),e=t+("view.data"===(e+=m?"."+m:"").slice(0,9)?e.slice(5):e)+(j?(n?'"':'",ltOb')+(F?",1)":")"):"")),c)){if(G="_linkTo"===r?s=a._jsvto=a._jsvto||[]:u.bd,J=K&&G[G.length-1]){if(J._cpfn){for(;J.sb;)J=J.sb;J.prm&&(J.bnd&&(E="^"+E.slice(1)),J.sb=E,J.bnd=J.bnd||"^"===E[0])}}else G.push(E);F&&!K&&(C[$]=ee,_[$]=I[$].length)}return e}))+(F||T):T||(O?"]"===O?")]":")":B?(w[h]||_e(e),","):o?"":(l=U,d=R,'"'))),l||d||O&&(w[h]=!1,h--),c&&(l||d||(O&&(b[h+1]&&(u=p[--$],b[h+1]=!1),y=f[h+1]),F&&(f[h+1]=I[$].length+(S?1:0),(E||O)&&(u=p[++$]={bd:[]},b[h+1]=!0))),I[$]=(I[$]||"")+Y.slice(x,V),x=V+i.length,l||d||((X=S&&b[h+1])&&(I[$-1]+=S,_[$-1]++),"("===F&&K&&!W&&(I[$]=I[$-1].slice(y)+I[$],I[$-1]=I[$-1].slice(0,y))),I[$]+=X?Z.slice(1):Z),l||d||!F||(h++,E&&"("===F&&(w[h]=!0)),l||d||!H||(c&&(I[$]+=F),Z+=F),Z})),c&&(o=I[0]),!h&&o||_e(e)}function Ee(e,t,a){var i,n,r,s,o,d,l,c,u,p,g,$,f,y,b,w,C,_,I,x,S,P,T,L,M,k,j,F,B,A,U,R,O,N,H=0,V=v.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,Y="",z={},G=e.length;for(""+t===t?(C=a?'data-link="'+t.replace(D," ").slice(1,-1)+'"':t,t=0):(C=t.tmplName||"unnamed",t.allowCode&&(z.allowCode=!0),t.debug&&(z.debug=!0),p=t.bnds,w=t.tmpls),i=0;i<G;i++)if(""+(n=e[i])===n)Y+='+"'+n+'"';else if("*"===(r=n[0]))Y+=";\n"+n[1]+"\nret=ret";else{if(s=n[1],x=!a&&n[2],O=n[3],N=$=n[4],o="\n\tparams:{args:["+O[0]+"],\n\tprops:{"+O[1]+"}"+(O[2]?",\n\tctx:{"+O[2]+"}":"")+"},\n\targs:["+N[0]+"],\n\tprops:{"+N[1]+"}"+(N[2]?",\n\tctx:{"+N[2]+"}":""),B=n[6],A=n[7],n[8]?(U="\nvar ob,ltOb={},ctxs=",R=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(U="\nreturn ",R=""),S=n[10]&&n[10].replace(E,"$1"),(L="else"===r)?g&&g.push(n[9]):(j=n[5]||!1!==h.debugMode&&"undefined",p&&(g=n[9])&&(g=[g],H=p.push(1))),V=V||$[1]||$[2]||g||/view.(?!index)/.test($[0]),(M=":"===r)?s&&(r=s===q?">":s+r):(x&&((_=ve(S,z)).tmplName=C+"/"+r,_.useViews=_.useViews||V,Ee(x,_),V=_.useViews,w.push(_)),L||(I=r,V=V||r&&(!m[r]||!m[r].flow),T=Y,Y=""),P=(P=e[i+1])&&"else"===P[0]),F=j?";\ntry{\nret+=":"\n+",f="",y="",M&&(g||B||s&&s!==q||A)){if((k=new Function("data,view,j","// "+C+" "+ ++H+" "+r+U+"{"+o+"};"+R))._er=j,k._tag=r,k._bd=!!g,k._lr=A,a)return k;xe(k,g),u=!0,f=(b='c("'+s+'",view,')+H+",",y=")"}if(Y+=M?(a?(j?"try{\n":"")+"return ":F)+(u?(u=void 0,V=c=!0,b+(k?(p[H-1]=k,H):"{"+o+"}")+")"):">"===r?(l=!0,"h("+$[0]+")"):(!0,"((v="+$[0]+")!=null?v:"+(a?"null)":'"")'))):(d=!0,"\n{view:view,content:false,tmpl:"+(x?w.length:"false")+","+o+"},"),I&&!P){if(Y="["+Y.slice(0,-1)+"]",b='t("'+I+'",view,this,',a||g){if((Y=new Function("data,view,j"," // "+C+" "+H+" "+I+U+Y+R))._er=j,Y._tag=I,g&&xe(p[H-1]=Y,g),Y._lr=A,a)return Y;f=b+H+",undefined,",y=")"}Y=T+F+b+(g&&H||Y)+")",g=0,I=0}j&&!P&&(V=!0,Y+=";\n}catch(e){ret"+(a?"urn ":"+=")+f+"j._err(e,view,"+j+")"+y+";}"+(a?"":"\nret=ret"))}Y="// "+C+(z.debug?"\ndebugger;":"")+"\nvar v"+(d?",t=j._tag":"")+(c?",c=j._cnvt":"")+(l?",h=j._html":"")+(a?(n[8]?", ob":"")+";\n":',ret=""')+Y+(a?"\n":";\nreturn ret;");try{Y=new Function("data,view,j",Y)}catch(e){_e("Compiled template code:\n\n"+Y+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=Y,t.useViews=!!V),Y}function Pe(e,t){return e&&e!==t?t?re(re({},t),e):e:t&&re({},t)}function Te(e,a){var i,n,r,s=a.tag,o=a.props,c=a.params.props,u=o.filter,p=o.sort,m=!0===p,g=parseInt(o.step),h=o.reverse?-1:1;if(!l(e))return e;if(m||p&&""+p===p?((i=e.map((function(e,t){return{i:t,v:""+(e=m?e:de(e,p))===e?e.toLowerCase():e}}))).sort((function(e,t){return e.v>t.v?h:e.v<t.v?-h:0})),e=i.map((function(t){return e[t.i]}))):(p||h<0)&&!s.dataMap&&(e=e.slice()),d(p)&&(e=e.sort((function(){return p.apply(a,arguments)}))),h<0&&(!p||d(p))&&(e=e.reverse()),e.filter&&u&&(e=e.filter(u,a),a.tag.onFilter&&a.tag.onFilter(a)),c.sorted&&(i=p||h<0?e:e.slice(),s.sorted?t.observable(s.sorted).refresh(i):a.map.sorted=i),n=o.start,r=o.end,(c.start&&void 0===n||c.end&&void 0===r)&&(n=r=0),isNaN(n)&&isNaN(r)||(n=+n||0,r=void 0===r||r>e.length?e.length:+r,e=e.slice(n,r)),g>1){for(n=0,r=e.length,i=[];n<r;n+=g)i.push(e[n]);e=i}return c.paged&&s.paged&&$observable(s.paged).refresh(e),e}function Le(e,a,i){var n=this.jquery&&(this[0]||Ce("Unknown template")),r=n.getAttribute(Y);return be.call(r&&t.data(n).jsvTmpl||c(n),e,a,i)}function Me(e){return N[e]||(N[e]="&#"+e.charCodeAt(0)+";")}function ke(e,t){return H[t]||""}function je(e){return null!=e?k.test(e)&&(""+e).replace(B,Me)||e:""}if(s={jsviews:x,sub:{rPath:/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,rPrm:/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(?:(\()\s*)?\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,View:me,Err:ne,tmplFn:Ie,parse:De,extend:re,extendCtx:Pe,syntaxErr:_e,onStore:{template:function(e,t){null===t?delete J[e]:e&&(J[e]=t)}},addSetting:fe,settings:{allowCode:!1},advSet:ie,_thp:te,_gm:ee,_tg:function(){},_cnvt:function(e,t,a,i){var n,r,s,o,d,l="number"==typeof a&&t.tmpl.bnds[a-1];void 0===i&&l&&l._lr&&(i="");void 0!==i?a=i={props:{},args:[i]}:l&&(a=l(t.data,t,g));if(l=l._bd&&l,e||l){if(r=t._lc,n=r&&r.tag,a.view=t,!n){if(n=re(new g._tg,{_:{bnd:l,unlinked:!0,lt:a.lt},inline:!r,tagName:":",convert:e,onArrayChange:!0,flow:!0,tagCtx:a,tagCtxs:[a],_is:"tag"}),(o=a.args.length)>1)for(d=n.bindTo=[];o--;)d.unshift(o);r&&(r.tag=n,n.linkCtx=r),a.ctx=Pe(a.ctx,(r?r.view:t).ctx),te(n,a)}n._er=i&&s,n.ctx=a.ctx||n.ctx||{},a.ctx=void 0,s=n.cvtArgs()[0],n._er=i&&s}else s=a.args[0];return null!=(s=l&&t._.onRender?t._.onRender(s,t,n):s)?s:""},_tag:function(e,t,a,i,n,s){function o(e){var t=d[e];if(void 0!==t)for(t=l(t)?t:[t],$=t.length;$--;)B=t[$],isNaN(parseInt(B))||(t[$]=parseInt(B));return t||[0]}var d,c,p,m,h,v,$,f,y,b,w,C,_,I,x,S,D,E,P,T,L,M,k,j,B,A,U,R,O,N=0,H="",V=(t=t||r)._lc||!1,Y=t.ctx,z=a||t.tmpl,G="number"==typeof i&&t.tmpl.bnds[i-1];"tag"===e._is?(e=(d=e).tagName,i=d.tagCtxs,d.template):(c=t.getRsc("tags",e)||Ce("Unknown tag: {{"+e+"}} "),c.template);void 0===s&&G&&(G._lr=c.lateRender&&!1!==G._lr||G._lr)&&(s="");void 0!==s?(H+=s,i=s=[{props:{},args:[],params:{props:{}}}]):G&&(i=G(t.data,t,g));for(v=i.length;N<v;N++)b=i[N],S=b.tmpl,(!V||!V.tag||N&&!V.tag.inline||d._er||S&&+S===S)&&(S&&z.tmpls&&(b.tmpl=b.content=z.tmpls[S-1]),b.index=N,b.ctxPrm=le,b.render=be,b.cvtArgs=ce,b.bndArgs=pe,b.view=t,b.ctx=Pe(Pe(b.ctx,c&&c.ctx),Y)),(a=b.props.tmpl)&&(b.tmpl=t._getTmpl(a),b.content=b.content||b.tmpl),d?V&&V.fn._lr&&(D=!!d.init):(d=new c._ctr,D=!!d.init,d.parent=h=Y&&Y.tag,d.tagCtxs=i,V&&(d.inline=!1,V.tag=d),d.linkCtx=V,(d._.bnd=G||V.fn)?(d._.ths=b.params.props.this,d._.lt=i.lt,d._.arrVws={}):d.dataBoundOnly&&Ce(e+" must be data-bound:\n{^{"+e+"}}")),k=d.dataMap,b.tag=d,k&&i&&(b.map=i[N].map),d.flow||(w=b.ctx=b.ctx||{},p=d.parents=w.parentTags=Y&&Pe(w.parentTags,Y.parentTags)||{},h&&(p[h.tagName]=h),p[d.tagName]=w.tag=d,w.tagCtx=b);if(!(d._er=s)){for(te(d,i[0]),d.rendering={rndr:d.rendering},N=0;N<v;N++){if(b=d.tagCtx=i[N],M=b.props,d.ctx=b.ctx,!N){if(D&&(d.init(b,V,d.ctx),D=void 0),b.args.length||!1===b.argDefault||!1===d.argDefault||(b.args=T=[b.view.data],b.params.args=["#data"]),_=o("bindTo"),void 0!==d.bindTo&&(d.bindTo=_),void 0!==d.bindFrom?d.bindFrom=o("bindFrom"):d.bindTo&&(d.bindFrom=d.bindTo=_),I=d.bindFrom||_,U=_.length,A=I.length,d._.bnd&&(R=d.linkedElement)&&(d.linkedElement=R=l(R)?R:[R],U!==R.length&&Ce("linkedElement not same length as bindTo")),(R=d.linkedCtxParam)&&(d.linkedCtxParam=R=l(R)?R:[R],A!==R.length&&Ce("linkedCtxParam not same length as bindFrom/bindTo")),I)for(d._.fromIndex={},d._.toIndex={},f=A;f--;)for(B=I[f],$=U;$--;)B===_[$]&&(d._.fromIndex[$]=f,d._.toIndex[f]=$);V&&(V.attr=d.attr=V.attr||d.attr||V._dfAt),m=d.attr,d._.noVws=m&&m!==q}if(T=d.cvtArgs(N),d.linkedCtxParam)for(L=d.cvtArgs(N,1),$=A,O=d.constructor.prototype.ctx;$--;)(C=d.linkedCtxParam[$])&&(B=I[$],x=L[$],b.ctx[C]=g._cp(O&&void 0===x?O[C]:x,void 0!==x&&ue(b.params,B),b.view,d._.bnd&&{tag:d,cvt:d.convert,ind:$,tagElse:N}));(E=M.dataMap||k)&&(T.length||M.dataMap)&&((P=b.map)&&P.src===T[0]&&!n||(P&&P.src&&P.unmap(),E.map(T[0],b,P,!d._.bnd),P=b.map),T=[P.tgt]),y=void 0,d.render&&(y=d.render.apply(d,T),t.linked&&y&&!F.test(y)&&((a={links:[]}).render=a.fn=function(){return y},y=we(a,t.data,void 0,!0,t,void 0,void 0,d))),T.length||(T=[t]),void 0===y&&(j=T[0],d.contentCtx&&(j=!0===d.contentCtx?t:d.contentCtx(j)),y=b.render(j,!0)||(n?void 0:"")),H=H?H+(y||""):void 0!==y?""+y:void 0}d.rendering=d.rendering.rndr}d.tagCtx=i[0],d.ctx=d.tagCtx.ctx,d._.noVws&&d.inline&&(H="text"===m?u.html(H):"");return G&&t._.onRender?t._.onRender(H,t,d):H},_er:Ce,_err:function(e,t,a){var i=void 0!==a?d(a)?a.call(t.data,e,t):a||"":"{Error: "+(e.message||e)+"}";h.onError&&void 0!==(a=h.onError.call(t.data,e,a&&i,t))&&(i=a);return t&&!t._lc?u.html(i):i},_cp:ae,_sq:function(e){return"constructor"===e&&_e(""),e}},settings:{delimiters:function e(t,a,i){if(!t)return h.delimiters;if(l(t))return e.apply(s,t);C=i?i[0]:C,/^(\W|_){5}$/.test(t+a+C)||Ce("Invalid delimiters");return f=t[0],y=t[1],b=a[0],w=a[1],h.delimiters=[f+y,b+w,C],t="\\"+f+"(\\"+C+")?\\"+y,a="\\"+b+"\\"+w,n="(?:(\\w+(?=[\\/\\s\\"+b+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+b+"]|\\"+b+"(?!\\"+w+"))*?)",g.rTag="(?:"+n+")",n=new RegExp("(?:"+t+n+"(\\/)?|\\"+f+"(\\"+C+")?\\"+y+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+a,"g"),g.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+t+".*"+a),$},advanced:function(e){return e?(re(v,e),g.advSet(),$):v}},map:ye},(ne.prototype=new Error).constructor=ne,se.depends=function(){return[this.get("item"),"index"]},oe.depends="index",me.prototype={get:function(e,t){t||!0===e||(t=e,e=void 0);var a,i,n,r,s=this,o="root"===t;if(e){if(!(r=t&&s.type===t&&s))if(a=s.views,s._.useKey){for(i in a)if(r=t?a[i].get(e,t):a[i])break}else for(i=0,n=a.length;!r&&i<n;i++)r=t?a[i].get(e,t):a[i]}else if(o)r=s.root;else if(t)for(;s&&!r;)r=s.type===t?s:void 0,s=s.parent;else r=s.parent;return r||void 0},getIndex:oe,ctxPrm:le,getRsc:function(e,t){var a,i,n=this;if(""+t===t){for(;void 0===a&&n;)a=(i=n.tmpl&&n.tmpl[e])&&i[t],n=n.parent;return a||s[e][t]}},_getTmpl:function(e){return e&&(e.fn?e:this.getRsc("templates",e)||c(e))},_getOb:de,getCache:function(e){return h._cchCt>this.cache._ct&&(this.cache={_ct:h._cchCt}),void 0!==this.cache[e]?this.cache[e]:this.cache[e]=Q[e](this.data,this,g)},_is:"view"},g=s.sub,$=s.settings,!(W||t&&t.render)){for(i in X)$e(i,X[i]);if(u=s.converters,p=s.helpers,m=s.tags,g._tg.prototype={baseApply:function(e){return this.base.apply(this,e)},cvtArgs:ce,bndArgs:pe,ctxPrm:le},r=g.topView=new me,t){if(t.fn.render=Le,o=t.expando,t.observable){if(x!==(x=t.views.jsviews))throw"jquery.observable.js requires jsrender.js "+x;re(g,t.views.sub),s.map=t.views.map}}else t={},a&&(e.jsrender=t),t.renderFile=t.__express=t.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},t.isFunction=function(e){return"function"==typeof e},t.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},g._jq=function(e){e!==t&&(re(e,t),(t=e).fn.render=Le,delete t.jsrender,o=t.expando)},t.jsrender=x;for(_ in(h=g.settings).allowCode=!1,d=t.isFunction,t.render=J,t.views=s,t.templates=c=s.templates,h)fe(_);($.debugMode=function(e){return void 0===e?h.debugMode:(h._clFns&&h._clFns(),h.debugMode=e,h.onError=e+""===e?function(){return e}:d(e)?e:void 0,$)})(!1),v=h.advanced={cache:!0,useViews:!1,_jsv:!1},m({if:{render:function(e){var t=this,a=t.tagCtx;return t.rendering.done||!e&&(a.args.length||!a.index)?"":(t.rendering.done=!0,void(t.selected=a.index))},contentCtx:!0,flow:!0},for:{sortDataMap:ye(Te),init:function(e,t){this.setDataMap(this.tagCtxs)},render:function(e){var t,a,i,n,r,s=this,o=s.tagCtx,d=!1===o.argDefault,c=o.props,u=d||o.args.length,p="",m=0;if(!s.rendering.done){if(t=u?e:o.view.data,d)for(d=c.reverse?"unshift":"push",n=+c.end,r=+c.step||1,t=[],i=+c.start||0;(n-i)*r>0;i+=r)t[d](i);void 0!==t&&(a=l(t),p+=o.render(t,!u||c.noIteration),m+=a?t.length:1),(s.rendering.done=m)&&(s.selected=o.index)}return p},setDataMap:function(e){for(var t,a,i,n=e.length;n--;)a=(t=e[n]).props,i=t.params.props,t.argDefault=void 0===a.end||t.args.length>0,a.dataMap=!1!==t.argDefault&&l(t.args[0])&&(i.sort||i.start||i.end||i.step||i.filter||i.reverse||a.sort||a.start||a.end||a.step||a.filter||a.reverse)&&this.sortDataMap},flow:!0},props:{baseTag:"for",dataMap:ye((function(e,a){var i,n,r=a.map,s=r&&r.propsArr;if(!s){if(s=[],typeof e===V||d(e))for(i in e)n=e[i],i===o||!e.hasOwnProperty(i)||a.props.noFunctions&&t.isFunction(n)||s.push({key:i,prop:n});r&&(r.propsArr=r.options&&s)}return Te(s,a)})),init:ie,flow:!0},include:{flow:!0},"*":{render:ae,flow:!0},":*":{render:ae,flow:!0},dbg:p.dbg=u.dbg=function(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}}),u({html:je,attr:je,encode:function(e){return""+e===e?e.replace(A,Me):e},unencode:function(e){return""+e===e?e.replace(U,ke):e},url:function(e){return null!=e?encodeURI(""+e):null===e?e:""}})}return h=g.settings,l=(t||W).isArray,$.delimiters("{{","}}","^"),K&&W.views.sub._jq(t),t||W}),window)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](a,a.exports,__webpack_require__),a.exports}__webpack_require__.d=(e,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{PageRenderer:()=>oe,PageSnapshot:()=>q,clearCache:()=>be,connectStreamSource:()=>$e,disconnectStreamSource:()=>fe,navigator:()=>me,registerAdapter:()=>he,renderStreamMessage:()=>ye,session:()=>pe,setConfirmMethod:()=>Ce,setProgressBarDelay:()=>we,start:()=>ge,visit:()=>ve}),function(){if(void 0===window.Reflect||void 0===window.customElements||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement,t=function(){return Reflect.construct(e,[],this.constructor)};window.HTMLElement=t,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}(),function(e){function t(e,t,a){throw new e("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+t+".",a)}"function"!=typeof e.requestSubmit&&(e.requestSubmit=function(e){e?(!function(e,a){e instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==e.type||t(TypeError,"The specified element is not a submit button"),e.form==a||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}(e,this),e.click()):((e=document.createElement("input")).type="submit",e.hidden=!0,this.appendChild(e),e.click(),this.removeChild(e))})}(HTMLFormElement.prototype);const t=new WeakMap;function a(e){const a=function(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null,a=t?t.closest("input, button"):null;return"submit"==(null==a?void 0:a.type)?a:null}(e.target);a&&a.form&&t.set(a.form,a)}var i,n,r,s,o,d;!function(){if("submitter"in Event.prototype)return;let e;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else{if("SubmitEvent"in window)return;e=window.Event.prototype}addEventListener("click",a,!0),Object.defineProperty(e,"submitter",{get(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return t.get(this.target)}})}(),function(e){e.eager="eager",e.lazy="lazy"}(i||(i={}));class l extends HTMLElement{constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new l.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){const{src:e}=this;this.src=null,this.src=e}attributeChangedCallback(e){"loading"==e?this.delegate.loadingStyleChanged():"src"==e?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return function(e){switch(e.toLowerCase()){case"lazy":return i.lazy;default:return i.eager}}(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return null===(t=null===(e=this.ownerDocument)||void 0===e?void 0:e.documentElement)||void 0===t?void 0:t.hasAttribute("data-turbo-preview")}}function c(e){return new URL(e.toString(),document.baseURI)}function u(e){let t;return e.hash?e.hash.slice(1):(t=e.href.match(/#(.*)$/))?t[1]:void 0}function p(e,t){return c((null==t?void 0:t.getAttribute("formaction"))||e.getAttribute("action")||e.action)}function m(e){return(function(e){return function(e){return e.pathname.split("/").slice(1)}(e).slice(-1)[0]}(e).match(/\.[^.]*$/)||[])[0]||""}function g(e,t){const a=function(e){return t=e.origin+e.pathname,t.endsWith("/")?t:t+"/";var t}(t);return e.href===c(a).href||e.href.startsWith(a)}function h(e,t){return g(e,t)&&!!m(e).match(/^(?:|\.(?:htm|html|xhtml))$/)}function v(e){const t=u(e);return null!=t?e.href.slice(0,-(t.length+1)):e.href}function $(e){return v(e)}class f{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return c(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}function y(e,{target:t,cancelable:a,detail:i}={}){const n=new CustomEvent(e,{cancelable:a,bubbles:!0,detail:i});return t&&t.isConnected?t.dispatchEvent(n):document.documentElement.dispatchEvent(n),n}function b(){return new Promise((e=>requestAnimationFrame((()=>e()))))}function w(e=""){return(new DOMParser).parseFromString(e,"text/html")}function C(e,...t){const a=function(e,t){return e.reduce(((e,a,i)=>e+a+(null==t[i]?"":t[i])),"")}(e,t).replace(/^\n/,"").split("\n"),i=a[0].match(/^\s+/),n=i?i[0].length:0;return a.map((e=>e.slice(n))).join("\n")}function _(){return Array.apply(null,{length:36}).map(((e,t)=>8==t||13==t||18==t||23==t?"-":14==t?"4":19==t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16))).join("")}function I(e,...t){for(const a of t.map((t=>null==t?void 0:t.getAttribute(e))))if("string"==typeof a)return a;return null}function x(...e){for(const t of e)"turbo-frame"==t.localName&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function S(...e){for(const t of e)"turbo-frame"==t.localName&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}!function(e){e[e.get=0]="get",e[e.post=1]="post",e[e.put=2]="put",e[e.patch=3]="patch",e[e.delete=4]="delete"}(n||(n={}));class D{constructor(e,t,a,i=new URLSearchParams,n=null){this.abortController=new AbortController,this.resolveRequestPromise=e=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=i,this.url=a,this.target=n}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){var e,t;const{fetchOptions:a}=this;null===(t=(e=this.delegate).prepareHeadersForRequest)||void 0===t||t.call(e,this.headers,this),await this.allowRequestToBeIntercepted(a);try{this.delegate.requestStarted(this);const e=await fetch(this.url.href,a);return await this.receive(e)}catch(e){if("AbortError"!==e.name)throw this.delegate.requestErrored(this,e),e}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new f(e);return y("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:n[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isIdempotent?null:this.body,signal:this.abortSignal,referrer:null===(e=this.delegate.referrer)||void 0===e?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isIdempotent(){return this.method==n.get}get abortSignal(){return this.abortController.signal}async allowRequestToBeIntercepted(e){const t=new Promise((e=>this.resolveRequestPromise=e));y("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}}class E{constructor(e,t){this.started=!1,this.intersect=e=>{const t=e.slice(-1)[0];(null==t?void 0:t.isIntersecting)&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class P{constructor(e){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=e}static wrap(e){return"string"==typeof e?new this(e):e}get fragment(){const e=document.createDocumentFragment();for(const t of this.foreignElements)e.appendChild(document.importNode(t,!0));return e}get foreignElements(){return this.templateChildren.reduce(((e,t)=>"turbo-stream"==t.tagName.toLowerCase()?[...e,t]:e),[])}get templateChildren(){return Array.from(this.templateElement.content.children)}}P.contentType="text/vnd.turbo-stream.html",function(e){e[e.initialized=0]="initialized",e[e.requesting=1]="requesting",e[e.waiting=2]="waiting",e[e.receiving=3]="receiving",e[e.stopping=4]="stopping",e[e.stopped=5]="stopped"}(r||(r={})),function(e){e.urlEncoded="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.plain="text/plain"}(s||(s={}));class T{constructor(e,t,a,i=!1){this.state=r.initialized,this.delegate=e,this.formElement=t,this.submitter=a,this.formData=function(e,t){const a=new FormData(e),i=null==t?void 0:t.getAttribute("name"),n=null==t?void 0:t.getAttribute("value");i&&null!=n&&a.get(i)!=n&&a.append(i,n);return a}(t,a),this.location=c(this.action),this.method==n.get&&function(e,t){const a=new URLSearchParams;for(const[e,i]of t)i instanceof File||a.append(e,i);e.search=a.toString()}(this.location,[...this.body.entries()]),this.fetchRequest=new D(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=i}static confirmMethod(e,t){return confirm(e)}get method(){var e;return function(e){switch(e.toLowerCase()){case"get":return n.get;case"post":return n.post;case"put":return n.put;case"patch":return n.patch;case"delete":return n.delete}}(((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"").toLowerCase())||n.get}get action(){var e;const t="string"==typeof this.formElement.action?this.formElement.action:null;return(null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formaction"))||this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==s.urlEncoded||this.method==n.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return function(e){switch(e.toLowerCase()){case s.multipart:return s.multipart;case s.plain:return s.plain;default:return s.urlEncoded}}((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isIdempotent(){return this.fetchRequest.isIdempotent}get stringFormData(){return[...this.formData].reduce(((e,[t,a])=>e.concat("string"==typeof a?[[t,a]]:[])),[])}get confirmationMessage(){return this.formElement.getAttribute("data-turbo-confirm")}get needsConfirmation(){return null!==this.confirmationMessage}async start(){const{initialized:e,requesting:t}=r;if(this.needsConfirmation){if(!T.confirmMethod(this.confirmationMessage,this.formElement))return}if(this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=r;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareHeadersForRequest(e,t){if(!t.isIdempotent){const t=function(e){if(null!=e){const t=(document.cookie?document.cookie.split("; "):[]).find((t=>t.startsWith(e)));if(t){const e=t.split("=").slice(1).join("=");return e?decodeURIComponent(e):void 0}}}(L("csrf-param"))||L("csrf-token");t&&(e["X-CSRF-Token"]=t),e.Accept=[P.contentType,e.Accept].join(", ")}}requestStarted(e){var t;this.state=r.waiting,null===(t=this.submitter)||void 0===t||t.setAttribute("disabled",""),y("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&function(e){return 200==e.statusCode&&!e.redirected}(t)){const e=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,e)}else this.state=r.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=r.stopped,null===(t=this.submitter)||void 0===t||t.removeAttribute("disabled"),y("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(e){return!e.isIdempotent&&this.mustRedirect}}function L(e){const t=document.querySelector(`meta[name="${e}"]`);return t&&t.content}class M{constructor(e){this.element=e}get children(){return[...this.element.children]}hasAnchor(e){return null!=this.getElementForAnchor(e)}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return this.element.querySelector("[autofocus]")}get permanentElements(){return[...this.element.querySelectorAll("[id][data-turbo-permanent]")]}getPermanentElementById(e){return this.element.querySelector(`#${e}[data-turbo-permanent]`)}getPermanentElementMapForSnapshot(e){const t={};for(const a of this.permanentElements){const{id:i}=a,n=e.getPermanentElementById(i);n&&(t[i]=[a,n])}return t}}class k{constructor(e,t){this.submitBubbled=e=>{const t=e.target;if(!e.defaultPrevented&&t instanceof HTMLFormElement&&t.closest("turbo-frame, html")==this.element){const a=e.submitter||void 0;"dialog"!=((null==a?void 0:a.getAttribute("formmethod"))||t.method)&&this.delegate.shouldInterceptFormSubmission(t,a)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmissionIntercepted(t,a))}},this.delegate=e,this.element=t}start(){this.element.addEventListener("submit",this.submitBubbled)}stop(){this.element.removeEventListener("submit",this.submitBubbled)}}class j{constructor(e,t){this.resolveRenderPromise=e=>{},this.resolveInterceptionPromise=e=>{},this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(u(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:a,newSnapshot:i}=e;if(a)try{this.renderPromise=new Promise((e=>this.resolveRenderPromise=e)),this.renderer=e,this.prepareToRenderSnapshot(e);const a=new Promise((e=>this.resolveInterceptionPromise=e));this.delegate.allowsImmediateRender(i,this.resolveInterceptionPromise)||await a,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(i,t),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate()}invalidate(){this.delegate.viewInvalidated()}prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class F extends j{invalidate(){this.element.innerHTML=""}get snapshot(){return new M(this.element)}}class B{constructor(e,t){this.clickBubbled=e=>{this.respondsToEventTarget(e.target)?this.clickEvent=e:delete this.clickEvent},this.linkClicked=e=>{this.clickEvent&&this.respondsToEventTarget(e.target)&&e.target instanceof Element&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url)),delete this.clickEvent},this.willVisit=()=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}}class A{constructor(e,t,a,i=!0){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=a,this.willRender=i,this.promise=new Promise(((e,t)=>this.resolvingFunctions={resolve:e,reject:t}))}get shouldRender(){return!0}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}createScriptElement(e){if("false"==e.getAttribute("data-turbo-eval"))return e;{const t=document.createElement("script");return this.cspNonce&&(t.nonce=this.cspNonce),t.textContent=e.textContent,t.async=!1,function(e,t){for(const{name:a,value:i}of[...t.attributes])e.setAttribute(a,i)}(t,e),t}}preservingPermanentElements(e){(class{constructor(e){this.permanentElementMap=e}static preservingPermanentElements(e,t){const a=new this(e);a.enter(),t(),a.leave()}enter(){for(const e in this.permanentElementMap){const[,t]=this.permanentElementMap[e];this.replaceNewPermanentElementWithPlaceholder(t)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=function(e){const t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",e.id),t}(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);null==t||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find((t=>t.content==e))}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}).preservingPermanentElements(this.permanentElementMap,e)}focusFirstAutofocusableElement(){const e=this.connectedSnapshot.firstAutofocusableElement;(function(e){return e&&"function"==typeof e.focus})(e)&&e.focus()}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get cspNonce(){var e;return null===(e=document.head.querySelector('meta[name="csp-nonce"]'))||void 0===e?void 0:e.getAttribute("content")}}class U extends A{get shouldRender(){return!0}async render(){await b(),this.preservingPermanentElements((()=>{this.loadFrameElement()})),this.scrollFrameIntoView(),await b(),this.focusFirstAutofocusableElement(),await b(),this.activateScriptElements()}loadFrameElement(){var e;const t=document.createRange();t.selectNodeContents(this.currentElement),t.deleteContents();const a=this.newElement,i=null===(e=a.ownerDocument)||void 0===e?void 0:e.createRange();i&&(i.selectNodeContents(a),this.currentElement.appendChild(i.extractContents()))}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const a=this.currentElement.firstElementChild,i=(e=this.currentElement.getAttribute("data-autoscroll-block"),t="end","end"==e||"start"==e||"center"==e||"nearest"==e?e:t);if(a)return a.scrollIntoView({block:i}),!0}var e,t;return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=this.createScriptElement(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}class R{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return C`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 9999;
        transition:
          width ${R.animationDuration}ms ease-out,
          opacity ${R.animationDuration/2}ms ${R.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement((()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1})))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,1.5*R.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,R.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame((()=>{this.progressElement.style.width=10+90*this.value+"%"}))}createStylesheetElement(){const e=document.createElement("style");return e.type="text/css",e.textContent=R.defaultCSS,e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}}R.animationDuration=300;class O extends M{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter((e=>!function(e){return"noscript"==e.tagName.toLowerCase()}(e))).map((e=>function(e){e.hasAttribute("nonce")&&e.setAttribute("nonce","");return e}(e))).reduce(((e,t)=>{const{outerHTML:a}=t,i=a in e?e[a]:{type:N(t),tracked:H(t),elements:[]};return Object.assign(Object.assign({},e),{[a]:Object.assign(Object.assign({},i),{elements:[...i.elements,t]})})}),{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter((e=>this.detailsByOuterHTML[e].tracked)).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter((e=>!(e in t.detailsByOuterHTML))).map((e=>this.detailsByOuterHTML[e])).filter((({type:t})=>t==e)).map((({elements:[e]})=>e))}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce(((e,t)=>{const{type:a,tracked:i,elements:n}=this.detailsByOuterHTML[t];return null!=a||i?n.length>1?[...e,...n.slice(1)]:e:[...e,...n]}),[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce(((t,a)=>{const{elements:[i]}=this.detailsByOuterHTML[a];return function(e,t){return"meta"==e.tagName.toLowerCase()&&e.getAttribute("name")==t}(i,e)?i:t}),void 0)}}function N(e){return function(e){return"script"==e.tagName.toLowerCase()}(e)?"script":function(e){const t=e.tagName.toLowerCase();return"style"==t||"link"==t&&"stylesheet"==e.getAttribute("rel")}(e)?"stylesheet":void 0}function H(e){return"reload"==e.getAttribute("data-turbo-track")}class q extends M{constructor(e,t){super(e),this.headSnapshot=t}static fromHTMLString(e=""){return this.fromDocument(w(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new O(e))}clone(){return new q(this.element.cloneNode(!0),this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;return c(null!==(e=this.getSetting("root"))&&void 0!==e?e:"/")}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return"no-preview"!=this.cacheControlValue}get isCacheable(){return"no-cache"!=this.cacheControlValue}get isVisitable(){return"reload"!=this.getSetting("visit-control")}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}!function(e){e.visitStart="visitStart",e.requestStart="requestStart",e.requestEnd="requestEnd",e.visitEnd="visitEnd"}(o||(o={})),function(e){e.initialized="initialized",e.started="started",e.canceled="canceled",e.failed="failed",e.completed="completed"}(d||(d={}));const V={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0};var Y,z;!function(e){e[e.networkFailure=0]="networkFailure",e[e.timeoutFailure=-1]="timeoutFailure",e[e.contentTypeMismatch=-2]="contentTypeMismatch"}(Y||(Y={}));class G{constructor(e,t,a,i={}){this.identifier=_(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.snapshotCached=!1,this.state=d.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=a||_();const{action:n,historyChanged:r,referrer:s,snapshotHTML:o,response:l,visitCachedSnapshot:c,willRender:u}=Object.assign(Object.assign({},V),i);this.action=n,this.historyChanged=r,this.referrer=s,this.snapshotHTML=o,this.response=l,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=c,this.willRender=u,this.scrolled=!u}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==d.initialized&&(this.recordTimingMetric(o.visitStart),this.state=d.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==d.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=d.canceled)}complete(){this.state==d.started&&(this.recordTimingMetric(o.visitEnd),this.state=d.completed,this.adapter.visitCompleted(this),this.delegate.visitCompleted(this),this.followRedirect())}fail(){this.state==d.started&&(this.state=d.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged){const t=this.location.href===(null===(e=this.referrer)||void 0===e?void 0:e.href)?"replace":this.action,a=this.getHistoryMethodForAction(t);this.history.update(a,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new D(this,n.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(o.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;Q(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(o.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render((async()=>{this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Q(e)&&null!=t?(await this.view.renderPage(q.fromHTMLString(t),!1,this.willRender),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(q.fromHTMLString(t)),this.adapter.visitRendered(this),this.fail())}))}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!u(this.location)||e.hasAnchor(u(this.location)))&&("restore"==this.action||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return q.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return null!=this.getCachedSnapshot()}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render((async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender),this.adapter.visitRendered(this),t||this.complete())}))}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(null===(e=this.response)||void 0===e?void 0:e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render((async()=>{this.cacheSnapshot(),this.adapter.visitRendered(this)}))}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const a=await t.responseHTML,{redirected:i,statusCode:n}=t;null==a?this.recordResponse({statusCode:Y.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:n,responseHTML:a,redirected:i}))}async requestFailedWithResponse(e,t){const a=await t.responseHTML,{redirected:i,statusCode:n}=t;null==a?this.recordResponse({statusCode:Y.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:n,responseHTML:a,redirected:i})}requestErrored(e,t){this.recordResponse({statusCode:Y.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){this.scrolled||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=u(this.location);if(null!=e)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=(new Date).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return"object"==typeof this.response}shouldIssueRequest(){return!this.isSamePage&&("restore"==this.action?!this.hasCachedSnapshot():this.willRender)}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot().then((e=>e&&this.visitCachedSnapshot(e))),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise((e=>{this.frame=requestAnimationFrame((()=>e()))})),await e(),delete this.frame,this.performScroll()}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function Q(e){return e>=200&&e<300}class J{constructor(e){this.progressBar=new R,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,_(),t)}visitStarted(e){e.loadCachedSnapshot(),e.issueRequest(),e.changeHistory(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!=e.action?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case Y.networkFailure:case Y.timeoutFailure:case Y.contentTypeMismatch:return this.reload();default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(){this.reload()}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),null!=this.visitProgressBarTimeout&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){null==this.formProgressBarTimeout&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),null!=this.formProgressBarTimeout&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(){window.location.reload()}get navigator(){return this.session.navigator}}class W{constructor(){this.started=!1}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeStaleElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeStaleElements,!1))}removeStaleElements(){const e=[...document.querySelectorAll('[data-turbo-cache="false"]')];for(const t of e)t.remove()}}class K{constructor(e){this.started=!1,this.submitCaptured=()=>{removeEventListener("submit",this.submitBubbled,!1),addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,a=e.submitter||void 0;if(t){"dialog"!=((null==a?void 0:a.getAttribute("formmethod"))||t.getAttribute("method"))&&this.delegate.willSubmitForm(t,a)&&(e.preventDefault(),this.delegate.formSubmitted(t,a))}}},this.delegate=e}start(){this.started||(addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}class X{constructor(e){this.element=e,this.linkInterceptor=new B(this,e),this.formInterceptor=new k(this,e)}start(){this.linkInterceptor.start(),this.formInterceptor.start()}stop(){this.linkInterceptor.stop(),this.formInterceptor.stop()}shouldInterceptLinkClick(e,t){return this.shouldRedirect(e)}linkClickIntercepted(e,t){const a=this.findFrameElement(e);a&&a.delegate.linkClickIntercepted(e,t)}shouldInterceptFormSubmission(e,t){return this.shouldSubmit(e,t)}formSubmissionIntercepted(e,t){const a=this.findFrameElement(e,t);a&&(a.removeAttribute("reloadable"),a.delegate.formSubmissionIntercepted(e,t))}shouldSubmit(e,t){var a;const i=p(e,t),n=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),r=c(null!==(a=null==n?void 0:n.content)&&void 0!==a?a:"/");return this.shouldRedirect(e,t)&&h(i,r)}shouldRedirect(e,t){const a=this.findFrameElement(e,t);return!!a&&a!=e.closest("turbo-frame")}findFrameElement(e,t){const a=(null==t?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(a&&"_top"!=a){const e=this.element.querySelector(`#${a}:not([disabled])`);if(e instanceof l)return e}}}class Z{constructor(e){this.restorationIdentifier=_(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:e}=t;this.restorationIdentifier=e,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,e)}}},this.onPageLoad=async e=>{await Promise.resolve(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,a=_()){const i={turbo:{restorationIdentifier:a}};e.call(history,i,"",t.href),this.location=t,this.restorationIdentifier=a}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,a=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},a),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(e=history.scrollRestoration)&&void 0!==e?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||"complete"==document.readyState}}class ee{constructor(e){this.started=!1,this.clickCaptured=()=>{removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=e=>{if(this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,a=this.findLinkFromClickTarget(t);if(a){const t=this.getLocationForLink(a);this.delegate.willFollowLinkToLocation(a,t)&&(e.preventDefault(),this.delegate.followedLinkToLocation(a,t))}}},this.delegate=e}start(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){if(e instanceof Element)return e.closest("a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return c(e.getAttribute("href")||"")}}function te(e){return"advance"==e||"replace"==e||"restore"==e}class ae{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(h(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,a={}){this.stop(),this.currentVisit=new G(this,c(e),t,Object.assign({referrer:this.location},a)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new T(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){"function"==typeof this.adapter.formSubmissionStarted&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const a=await t.responseHTML;if(a){e.method!=n.get&&this.view.clearSnapshotCache();const{statusCode:i,redirected:r}=t,s={action:this.getActionForFormSubmission(e),response:{statusCode:i,responseHTML:a,redirected:r}};this.proposeVisit(t.location,s)}}}async formSubmissionFailedWithResponse(e,t){const a=await t.responseHTML;if(a){const e=q.fromHTMLString(a);t.serverError?await this.view.renderError(e):await this.view.renderPage(e),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){"function"==typeof this.adapter.formSubmissionFinished&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){const a=u(e),i=u(this.view.lastRenderedLocation),n="restore"===t&&void 0===a;return"replace"!==t&&v(e)===v(this.view.lastRenderedLocation)&&(n||null!=a&&a!==i)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission(e){const{formElement:t,submitter:a}=e,i=I("data-turbo-action",a,t);return te(i)?i:"advance"}}!function(e){e[e.initial=0]="initial",e[e.loading=1]="loading",e[e.interactive=2]="interactive",e[e.complete=3]="complete"}(z||(z={}));class ie{constructor(e){this.stage=z.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:e}=this;"interactive"==e?this.pageIsInteractive():"complete"==e&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==z.initial&&(this.stage=z.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==z.loading&&(this.stage=z.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==z.interactive&&(this.stage=z.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class ne{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class re{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=e=>{const t=function(e){var t;const a=null===(t=e.detail)||void 0===t?void 0:t.fetchResponse;if(a instanceof f)return a}(e);t&&function(e){var t;return(null!==(t=e.contentType)&&void 0!==t?t:"").startsWith(P.contentType)}(t)&&(e.preventDefault(),this.receiveMessageResponse(t))},this.receiveMessageEvent=e=>{this.started&&"string"==typeof e.data&&this.receiveMessageHTML(e.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(new P(e))}}class se extends A{async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t,body:a}=document;e.replaceChild(this.newHead,t),e.replaceChild(this.newElement,a)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const a=this.createScriptElement(e);t.replaceChild(a,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return[...document.documentElement.querySelectorAll("script")]}}class oe extends A{get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}prepareToRender(){this.mergeHead()}async render(){this.willRender&&this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}mergeHead(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()}replaceBody(){this.preservingPermanentElements((()=>{this.activateNewBody(),this.assignNewBody()}))}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}copyNewHeadStylesheetElements(){for(const e of this.newHeadStylesheetElements)document.head.appendChild(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(this.createScriptElement(e))}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=this.createScriptElement(e);e.replaceWith(t)}}assignNewBody(){document.body&&this.newElement instanceof HTMLBodyElement?document.body.replaceWith(this.newElement):document.documentElement.appendChild(this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class de{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return $(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[$(e)]}write(e,t){this.snapshots[$(e)]=t}touch(e){const t=$(e),a=this.keys.indexOf(t);a>-1&&this.keys.splice(a,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class le extends j{constructor(){super(...arguments),this.snapshotCache=new de(10),this.lastRenderedLocation=new URL(location.href)}renderPage(e,t=!1,a=!0){const i=new oe(this.snapshot,e,t,a);return this.render(i)}renderError(e){const t=new se(this.snapshot,e,!1);return this.render(t)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(){if(this.shouldCacheSnapshot){this.delegate.viewWillCacheSnapshot();const{snapshot:e,lastRenderedLocation:t}=this;await new Promise((e=>setTimeout((()=>e()),0)));const a=e.clone();return this.snapshotCache.put(t,a),a}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return q.fromElement(this.element)}get shouldCacheSnapshot(){return this.snapshot.isCacheable}}function ce(e){Object.defineProperties(e,ue)}const ue={absoluteURL:{get(){return this.toString()}}},pe=new class{constructor(){this.navigator=new ae(this),this.history=new Z(this),this.view=new le(this,document.documentElement),this.adapter=new J(this),this.pageObserver=new ie(this),this.cacheObserver=new W,this.linkClickObserver=new ee(this),this.formSubmitObserver=new K(this),this.scrollObserver=new ne(this),this.streamObserver=new re(this),this.frameRedirector=new X(document.documentElement),this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){this.navigator.proposeVisit(c(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){document.documentElement.appendChild(P.wrap(e).fragment)}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated()}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willFollowLinkToLocation(e,t){return this.elementDriveEnabled(e)&&h(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t)}followedLinkToLocation(e,t){const a=this.getActionForLink(e);this.convertLinkWithMethodClickToFormSubmission(e)||this.visit(t.href,{action:a})}convertLinkWithMethodClickToFormSubmission(e){const t=e.getAttribute("data-turbo-method");if(t){const a=document.createElement("form");a.method=t,a.action=e.getAttribute("href")||"undefined",a.hidden=!0,e.hasAttribute("data-turbo-confirm")&&a.setAttribute("data-turbo-confirm",e.getAttribute("data-turbo-confirm"));const i=this.getTargetFrameForLink(e);return i?(a.setAttribute("data-turbo-frame",i),a.addEventListener("turbo:submit-start",(()=>a.remove()))):a.addEventListener("submit",(()=>a.remove())),document.body.appendChild(a),y("submit",{cancelable:!0,target:a})}return!1}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){ce(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){ce(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const a=p(e,t);return this.elementDriveEnabled(e)&&(!t||this.elementDriveEnabled(t))&&h(c(a),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(null===(e=this.navigator.currentVisit)||void 0===e?void 0:e.silent)||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){return!this.notifyApplicationBeforeRender(e,t).defaultPrevented}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}viewInvalidated(){this.adapter.pageInvalidated()}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t){return y("turbo:click",{target:e,detail:{url:t.href},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return y("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return x(document.documentElement),y("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return y("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return y("turbo:before-render",{detail:{newBody:e,resume:t},cancelable:!0})}notifyApplicationAfterRender(){return y("turbo:render")}notifyApplicationAfterPageLoad(e={}){return S(document.documentElement),y("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return y("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return y("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}elementDriveEnabled(e){const t=null==e?void 0:e.closest("[data-turbo]");return this.drive?!t||"false"!=t.getAttribute("data-turbo"):!!t&&"true"==t.getAttribute("data-turbo")}getActionForLink(e){const t=e.getAttribute("data-turbo-action");return te(t)?t:"advance"}getTargetFrameForLink(e){const t=e.getAttribute("data-turbo-frame");if(t)return t;{const t=e.closest("turbo-frame");if(t)return t.id}}get snapshot(){return this.view.snapshot}},{navigator:me}=pe;function ge(){pe.start()}function he(e){pe.registerAdapter(e)}function ve(e,t){pe.visit(e,t)}function $e(e){pe.connectStreamSource(e)}function fe(e){pe.disconnectStreamSource(e)}function ye(e){pe.renderStreamMessage(e)}function be(){pe.clearCache()}function we(e){pe.setProgressBarDelay(e)}function Ce(e){T.confirmMethod=e}var _e=Object.freeze({__proto__:null,navigator:me,session:pe,PageRenderer:oe,PageSnapshot:q,start:ge,registerAdapter:he,visit:ve,connectStreamSource:$e,disconnectStreamSource:fe,renderStreamMessage:ye,clearCache:be,setProgressBarDelay:we,setConfirmMethod:Ce});class Ie{constructor(e){this.visitCachedSnapshot=({element:e})=>{var t;const{id:a,clone:i}=this;null===(t=e.querySelector("#"+a))||void 0===t||t.replaceWith(i)},this.clone=e.cloneNode(!0),this.id=e.id}}function xe(e){if(null!=e){const t=document.getElementById(e);if(t instanceof l)return t}}function Se(e,t){if(e){const i=e.getAttribute("src");if(null!=i&&null!=t&&(a=t,c(i).href==c(a).href))throw new Error(`Matching <turbo-frame id="${e.id}"> element has a source URL which references itself`);if(e.ownerDocument!==document&&(e=document.importNode(e,!0)),e instanceof l)return e.connectedCallback(),e.disconnectedCallback(),e}var a}const De={after(){this.targetElements.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e.nextSibling)}))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((e=>e.append(this.templateContent)))},before(){this.targetElements.forEach((e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e)}))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach((e=>e.prepend(this.templateContent)))},remove(){this.targetElements.forEach((e=>e.remove()))},replace(){this.targetElements.forEach((e=>e.replaceWith(this.templateContent)))},update(){this.targetElements.forEach((e=>{e.innerHTML="",e.append(this.templateContent)}))}};class Ee extends HTMLElement{async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return null!==(e=this.renderPromise)&&void 0!==e?e:this.renderPromise=(async()=>{this.dispatchEvent(this.beforeRenderEvent)&&(await b(),this.performAction())})()}disconnect(){try{this.remove()}catch(e){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach((e=>e.remove()))}get duplicateChildren(){var e;const t=this.targetElements.flatMap((e=>[...e.children])).filter((e=>!!e.id)),a=[...null===(e=this.templateContent)||void 0===e?void 0:e.children].filter((e=>!!e.id)).map((e=>e.id));return t.filter((e=>a.includes(e.id)))}get performAction(){if(this.action){const e=De[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return null!==(t=(null!==(e=this.outerHTML.match(/<[^>]+>/))&&void 0!==e?e:[])[0])&&void 0!==t?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})}get targetElementsById(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.getElementById(this.target);return null!==t?[t]:[]}get targetElementsByQuery(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.querySelectorAll(this.targets);return 0!==t.length?Array.prototype.slice.call(t):[]}}l.delegateConstructor=class{constructor(e){this.fetchResponseLoaded=e=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.settingSourceURL=!1,this.element=e,this.view=new F(this,this.element),this.appearanceObserver=new E(this,this.element),this.linkInterceptor=new B(this,this.element),this.formInterceptor=new k(this,this.element)}connect(){this.connected||(this.connected=!0,this.reloadable=!1,this.loadingStyle==i.lazy&&this.appearanceObserver.start(),this.linkInterceptor.start(),this.formInterceptor.start(),this.sourceURLChanged())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.linkInterceptor.stop(),this.formInterceptor.stop())}disabledChanged(){this.loadingStyle==i.eager&&this.loadSourceURL()}sourceURLChanged(){(this.loadingStyle==i.eager||this.hasBeenLoaded)&&this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==i.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){if(!this.settingSourceURL&&this.enabled&&this.isActive&&(this.reloadable||this.sourceURL!=this.currentURL)){const e=this.currentURL;if(this.currentURL=this.sourceURL,this.sourceURL)try{this.element.loaded=this.visit(c(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0}catch(t){throw this.currentURL=e,t}}}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const{body:a}=w(t),i=new M(await this.extractForeignFrameElement(a)),n=new U(this.view.snapshot,i,!1,!1);this.view.renderPromise&&await this.view.renderPromise,await this.view.render(n),pe.frameRendered(e,this.element),pe.frameLoaded(this.element),this.fetchResponseLoaded(e)}}catch(e){console.error(e),this.view.invalidate()}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.loadSourceURL()}shouldInterceptLinkClick(e,t){return!e.hasAttribute("data-turbo-method")&&this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.reloadable=!0,this.navigateFrame(e,t)}shouldInterceptFormSubmission(e,t){return this.shouldInterceptNavigation(e,t)}formSubmissionIntercepted(e,t){this.formSubmission&&this.formSubmission.stop(),this.reloadable=!1,this.formSubmission=new T(this,e,t);const{fetchRequest:a}=this.formSubmission;this.prepareHeadersForRequest(a.headers,a),this.formSubmission.start()}prepareHeadersForRequest(e,t){e["Turbo-Frame"]=this.id}requestStarted(e){x(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestFailedWithResponse(e,t){console.error(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){S(this.element)}formSubmissionStarted({formElement:e}){x(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){const a=this.findFrameElement(e.formElement,e.submitter);this.proposeVisitIfNavigatedWithAction(a,e.formElement,e.submitter),a.delegate.loadResponse(t)}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t)}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){S(e,this.findFrameElement(e))}allowsImmediateRender(e,t){return!0}viewRenderedSnapshot(e,t){}viewInvalidated(){}async visit(e){var t;const a=new D(this,n.get,e,new URLSearchParams,this.element);return null===(t=this.currentFetchRequest)||void 0===t||t.cancel(),this.currentFetchRequest=a,new Promise((e=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,e()},a.perform()}))}navigateFrame(e,t,a){const i=this.findFrameElement(e,a);this.proposeVisitIfNavigatedWithAction(i,e,a),i.setAttribute("reloadable",""),i.src=t}proposeVisitIfNavigatedWithAction(e,t,a){const i=I("data-turbo-action",a,t,e);if(te(i)){const{visitCachedSnapshot:t}=new Ie(e);e.delegate.fetchResponseLoaded=a=>{if(e.src){const{statusCode:n,redirected:r}=a,s={statusCode:n,redirected:r,responseHTML:e.ownerDocument.documentElement.outerHTML};pe.visit(e.src,{action:i,response:s,visitCachedSnapshot:t,willRender:!1})}}}}findFrameElement(e,t){var a;return null!==(a=xe(I("data-turbo-frame",t,e)||this.element.getAttribute("target")))&&void 0!==a?a:this.element}async extractForeignFrameElement(e){let t;const a=CSS.escape(this.id);try{if(t=Se(e.querySelector(`turbo-frame#${a}`),this.currentURL))return t;if(t=Se(e.querySelector(`turbo-frame[src][recurse~=${a}]`),this.currentURL))return await t.loaded,await this.extractForeignFrameElement(t);console.error(`Response has no matching <turbo-frame id="${a}"> element`)}catch(e){console.error(e)}return new l}formActionIsVisitable(e,t){return h(c(p(e,t)),this.rootLocation)}shouldInterceptNavigation(e,t){const a=I("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t))return!1;if(!this.enabled||"_top"==a)return!1;if(a){const e=xe(a);if(e)return!e.disabled}return!!pe.elementDriveEnabled(e)&&!(t&&!pe.elementDriveEnabled(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}get reloadable(){return this.findFrameElement(this.element).hasAttribute("reloadable")}set reloadable(e){const t=this.findFrameElement(this.element);e?t.setAttribute("reloadable",""):t.removeAttribute("reloadable")}set sourceURL(e){this.settingSourceURL=!0,this.element.src=null!=e?e:null,this.currentURL=this.element.src,this.settingSourceURL=!1}get loadingStyle(){return this.element.loading}get isLoading(){return void 0!==this.formSubmission||void 0!==this.resolveVisitPromise()}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]');return c(null!==(e=null==t?void 0:t.content)&&void 0!==e?e:"/")}},customElements.define("turbo-frame",l),customElements.define("turbo-stream",Ee),(()=>{let e=document.currentScript;if(e&&!e.hasAttribute("data-turbo-suppress-warning"))for(;e=e.parentElement;)if(e==document.body)return console.warn(C`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,e.outerHTML)})(),window.Turbo=_e,ge(),window.Turbo=e,ge()})(),(()=>{"use strict";window.isEmpty=function(e){return null==e||""===e},window.randomCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6;return Math.random().toString(36).slice(-e)},window.listen=function(e,t,a){$(document).on(e,t,a)},window.listenClick=function(e,t){$(document).on("click",e,t)},window.listenSubmit=function(e,t){$(document).on("submit",e,t)},window.listenHiddenBsModal=function(e,t){$(document).on("hidden.bs.modal",e,t)},window.listenChange=function(e,t){$(document).on("change",e,t)},window.listenKeyup=function(e,t){$(document).on("keyup",e,t)},window.listenShownBsModal=function(e,t){$(document).on("shown.bs.modal",e,t)}})(),(()=>{"use strict";var e=__webpack_require__(2743),t=$('meta[name="csrf-token"]').attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),document.addEventListener("turbo:load",(function(){$('[data-control="select2"]').each((function(){$(this).select2()})),t=$('meta[name="csrf-token"]').attr("content"),$.ajaxSetup({headers:{"X-CSRF-TOKEN":t}}),$(".alert").delay(5e3).slideUp(300),a(),i(),IOInitImageComponent(),IOInitSidebar(),[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)})),listen("keypress",".price-format",(function(){46==event.which&&-1==$(this).val().indexOf(".")||!(event.which<48||event.which>57)||0==event.which||8==event.which||event.preventDefault();var e=$(this).val();-1!=e.indexOf(".")&&e.substring(e.indexOf(".")).length>2&&0!=event.which&&8!=event.which&&$(this)[0].selectionStart>=e.length-2&&event.preventDefault()}))}));var a=function(){$((function(){$(".modal").on("shown.bs.modal",(function(){$(this).find("input:text").first().focus()}))}))},i=function(){$('input:text:not([readonly="readonly"]):not([name="search"]):not(.front-input)').first().focus()};$(document).on("keydown",(function(e){27===e.keyCode&&$(".modal").modal("hide")})),$('input:text:not([readonly="readonly"])').first().focus(),$(document).on("select2:open",(function(){var e=document.querySelectorAll(".select2-container--open .select2-search__field");e[e.length-1].focus()})),$('[data-control="select2"]').each((function(){$(this).select2()})),document.addEventListener("livewire:load",(function(){window.livewire.hook("message.processed",(function(){$('[data-control="select2"]').each((function(){$(this).select2()}))}))})),$(document).ready((function(){$('[data-bs-toggle="tooltip"]').tooltip(),$(document).find(".nav-item.nav-dropdown ul li.nav-item").hasClass("active")&&$(document).find(".nav-item.nav-dropdown ul li.nav-item.active").parent("ul").parent("li").addClass("open"),listenClick(".nav-item.nav-dropdown",(function(){$(document).find(".nav-item.nav-dropdown").hasClass("open")&&$(this).hasClass("open")?setTimeout((function(){$(this).removeClass("open")}),1e3):$(document).find(".nav-item.nav-dropdown").removeClass("open")})),listenKeyup('input[name="email"]',(function(){this.value=this.value.toLowerCase()})),$('input[name="email"]').keypress((function(e){if(32===e.which)return!1}))})),$((function(){listenShownBsModal(".modal",(function(){$(this).find("input:text").first().focus()})),listenHiddenBsModal(".modal",(function(){$(".image-input.image-input-empty").attr("style","display:inline-block")}))})),window.resetModalForm=function(e,t){var a=$(e)[0].elements;$.each(a,(function(e,t){void 0!==t._flatpickr&&(t._flatpickr.clear(),t._flatpickr.setDate(new Date))})),$(e)[0].reset(),$("select.select2Selector").each((function(e,t){var a="#"+$(this).attr("id");$(a).val(""),$(a).trigger("change")})),$(t).hide()},window.processingBtn=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=$(e).find(t);"loading"===a?i.button("loading"):i.button("reset")},window.printErrorMessage=function(e,t){displayErrorMessage(t.responseJSON.message)},toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},window.manageAjaxErrors=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"editValidationErrorsBox";404==e.status?toastr.error(e.responseJSON.message):printErrorMessage("#"+t,e)},window.displaySuccessMessage=function(e){toastr.success(e)},window.displayErrorMessage=function(e){toastr.error(e)},window.displayPhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(i.readAsDataURL(e.files[0]),$(t).show())}},window.isValidFile=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["gif","png","jpg","jpeg"])?($(e).val(""),$(t).html("The image must be a file of type: jpeg, jpg, png.").removeClass("d-none").show(),setTimeout((function(){$(t).slideUp(300)}),5e3),!1):($(t).addClass("d-none"),!0)},window.format=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return moment(e).format(t)},window.DatetimepickerDefaults=function(e){return $.extend({},{sideBySide:!0,ignoreReadonly:!0,icons:{up:"icon-arrow-up-circle icons font-2xl",down:"icon-arrow-down-circle icons font-2xl",previous:"icon-arrow-left icons",next:"icon-arrow-right icons",time:"fa fa-clock-o",date:"fa fa-calendar",today:"fa fa-crosshairs",clear:"fa fa-trash",close:"fa fa-times"}},e)},window.screenLock=function(){$("#overlay-screen-lock").show(),$("body").css({"pointer-events":"none",opacity:"0.6"})},window.screenUnLock=function(){$("body").css({"pointer-events":"auto",opacity:"1"}),$("#overlay-screen-lock").hide()},window.prepareTemplateRender=function(t,a){return e.templates(t).render(a)},window.getCurrentCurrencyClass=function(){return"<b>"+$(".currentCurrency").val()+"</b>"},window.hideDropdownManually=function(e,t){e.removeClass("show"),t.removeClass("show")},window.displayDocument=function(e,t,a){var i=!0;if(e.files&&e.files[0]){var n=new FileReader;n.onload=function(e){var n=new Image;-1==$.inArray(a,["pdf","doc","docx","mp3","mp4"])?n.src=e.target.result:"pdf"==a?($("#editPhoto").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'),n.src=$(".pdfDocumentImageUrl").val()):n.src="mp3"==a?$(".audioDocumentImageUrl").val():"mp4"==a?$(".videoDocumentImageUrl").val():$(".docxDocumentImageUrl").val(),n.onload=function(){$(t).attr("src",n.src),$(t).css("background-image",'url("'+n.src+'")'),i=!0}},i&&(n.readAsDataURL(e.files[0]),$(t).show())}};$(".ajaxCallIsRunning").val();window.ajaxCallInProgress=function(){!0},window.ajaxCallCompleted=function(){!1},window.UnprocessableInputError=function(e){toastr.error(e.responseJSON.message)},window.setValueOfEmptySpan=function(){$("span.showSpan").each((function(){$(this).text()||$(this).text("N/A")}))},window.addCommas=function(e){for(var t=(e+="").split("."),a=t[0],i=t.length>1?"."+t[1]:"",n=/(\d+)(\d{3})/;n.test(a);)a=a.replace(n,"$1,$2");return a+i},$((function(){listenClick(".notification",(function(e){e.stopPropagation();var t=$(this).data("id"),a=$(this);$('[data-toggle="tooltip"]').tooltip("hide"),$.ajax({type:"get",url:"/notification/"+t+"/read",success:function(){a.remove(),displaySuccessMessage(Lang.get("js.notification_read"));var e=document.getElementsByClassName("notification").length;$("#counter").text(e),0==e&&($(".read-all-notification").addClass("d-none"),$(".empty-state").removeClass("d-none"),$("#counter").text(e),$(".notification-count").addClass("d-none"))},error:function(e){manageAjaxErrors(e)}})})),listenClick("#readAllNotification",(function(e){e.stopPropagation(),$.ajax({type:"post",url:"/read-all-notification",success:function(){$(".notification").remove(),displaySuccessMessage(Lang.get("js.all_notification_read"));var e=document.getElementsByClassName("notification").length;$("#counter").text(e),$("#readAllNotification").addClass("d-none"),$(".empty-state").addClass("d-none"),$(".empty-state.empty-notification").removeClass("d-none"),$(".notification-count").addClass("d-none")},error:function(e){manageAjaxErrors(e)}})}))})),window.avoidSpace=function(e){if(32==(e?e.which:window.event.keyCode)&&e.path[0].value.length<=0)return!1};var n="asset('assets/img/avatar.png')";window.defaultImagePreview=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;1==t?$(e).css("background-image",'url("'+n+'")'):$(e).css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')},listenClick(".assign-workspace",(function(e){e.stopPropagation(),$.ajax({type:"post",url:"/assign-workspace",data:{tenant_id:"81becc9c-c7ea-4748-b894-71ddd855fdf2"},success:function(){},error:function(e){manageAjaxErrors(e)}})}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#phoneNumber").length)return!1;$("#phoneNumber").attr("placeholder",Lang.get("js.phone_number")),Lang.setLocale($(".userCurrentLanguage").val());var e=document.querySelector("#phoneNumber"),t=document.querySelector("#error-msg"),a=document.querySelector("#valid-msg"),i=[Lang.get("js.invalid_number"),Lang.get("js.invalid_country_code"),Lang.get("js.too_short"),Lang.get("js.too_long"),Lang.get("js.invalid_number")];if($(".isEdit").val())$(".country_iso").val();else defaultCountryCodeValue;var n=window.intlTelInput(e,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,t){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){var a=t&&t.country?t.country:"";e(a)}))},utilsScript:$(".utilsScript").val()}),r=function(){e.classList.remove("error"),t.innerHTML="",t.classList.add("d-none"),a.classList.add("d-none")};e.addEventListener("blur",(function(){if(r(),e.value.trim())if(n.isValidNumber())a.classList.remove("d-none");else{e.classList.add("error");var s=n.getValidationError();t.innerHTML=i[s]||$(".invalidNumber").val(),t.classList.remove("d-none")}})),e.addEventListener("change",r),e.addEventListener("keyup",r);var s=$(".phoneNo").val();void 0!==s&&""!==s&&setTimeout((function(){$("#phoneNumber").trigger("change")}),500);if(listen("blur keyup change countrychange",(function(){void 0!==s&&""!==s&&(n.setNumber("+"+s),s="");var e=n.selectedCountryData.dialCode;$(".prefix_code").val(e)})),$(".isEdit").val()){var o=n.selectedCountryData.dialCode,d=n.selectedCountryData.iso2;$(".prefix_code").val(o),$(".country_iso").val(d)}$("#phoneNumber").focus(),$("#phoneNumber").blur();var l=$("#phoneNumber").val().replace(/\s/g,"");$("#phoneNumber").val(l)}))})(),(()=>{"use strict";window.newRecord=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#AddModal",i=""===e.formSelector?e.formData:new FormData($(e.formSelector)[0]);$(t).attr("disabled",!0),$.ajax({url:e.url,type:e.type,dataType:"json",data:i,processData:!1,contentType:!1,success:function(e){e.success&&($(t).attr("disabled",!1),displaySuccessMessage(e.message),$(a).modal("hide"),Livewire.dispatch("refresh"))},error:function(e){$(t).attr("disabled",!1),printErrorMessage("#validationErrorsBox",e)},complete:function(){t.button("reset")}})},window.editRecord=function(e,t,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";$(t).attr("disabled",!0);var n=""===e.formSelector?e.formData:new FormData($(e.formSelector)[0]);$.ajax({url:e.url,type:e.type,data:n,processData:!1,contentType:!1,success:function(e){e.success&&($(t).attr("disabled",!1),displaySuccessMessage(e.message),$(a).modal("hide"),Livewire.dispatch("refresh"))},error:function(e){$(t).attr("disabled",!1),UnprocessableInputError(e)},complete:function(){t.button("reset"),$(i).attr("disabled",!0)}})},window.editRecordWithForm=function(e,t,a){var i=""===e.formSelector?e.formData:$(e.formSelector).serialize();$(t).attr("disabled",!0),$.ajax({url:e.url,type:e.type,data:i,success:function(e){e.success&&(displaySuccessMessage(e.message),$(a).modal("hide"),Livewire.dispatch("refresh"),$(t).attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})}})(),(()=>{"use strict";function deleteItemAjax(url){var tableId=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,header=arguments.length>2?arguments[2]:void 0,callFunction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$.ajax({url,type:"DELETE",dataType:"json",success:function success(obj){obj.success&&(Livewire.dispatch("resetPage"),Livewire.dispatch("refresh")),swal({icon:"success",title:$(".deletedVariable").val(),confirmButtonColor:"#f62947",text:header+" "+$(".hasBeenDeletedVariable").val(),timer:2e3,buttons:{confirm:$(".okVariable").val()}}),callFunction&&eval(callFunction)},error:function(e){swal({title:"",text:e.responseJSON.message,confirmButtonColor:"#009ef7",icon:"error",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})}window.deleteItem=function(e){var t=arguments.length>2?arguments[2]:void 0;swal({title:$(".deleteVariable").val()+"!",text:$(".confirmVariable").val()+t+"?",icon:sweetAlertIcon,buttons:{confirm:$(".yesVariable").val()+","+$(".deleteVariable").val(),cancel:$(".noVariable").val()+","+$(".cancelVariable").val()}}).then((function(a){a&&deleteItemAjax(e,null,t,null)}))}})(),(()=>{"use strict";$("#AddModal").on("hidden.bs.modal",(function(){$(".preview-image").prop("src",defaultImageUrl),$(".select2-dd").val("").trigger("change.select2"),resetModalForm("#addNewForm","#validationErrorsBox")})),$("#EditModal").on("hidden.bs.modal",(function(){$(".preview-image").prop("src",defaultImageUrl),$(".select2-dd").val("").trigger("change.select2"),resetModalForm("#editForm","#editValidationErrorsBox")}))})(),(()=>{"use strict";listenChange("#profileImage",(function(){var e=isValidDocument($(this),"#customValidationErrorsBox");isEmpty(e)||0==e||($("#customValidationErrorsBox").html("").hide(),displayPhoto(this,"#previewImage"))})),window.isValidDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["gif","png","jpg","jpeg"])?($(e).val(""),$(t).html("The profile image must be a file of type: jpeg, jpg, png, gif.").removeClass("d-none").show(),setTimeout((function(){$(t).slideUp(300)}),5e3),!1):($(t).addClass("d-none"),a)},window.displayPhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(i.readAsDataURL(e.files[0]),$(t).show())}}})(),(()=>{"use strict";function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var t=moment().startOf("week"),a=moment().endOf("week");Livewire.hook("element.init",(function(i){"appointment-table"==i.component.name&&function(){var i=$("#time_range"),n="",r="";$("#appointmentStatus").length&&$("#appointmentStatus").select2();null!=t&&null!=a&&o(t,a);if(i.length){var s;Lang.setLocale($(".userCurrentLanguage").val()),i.daterangepicker({startDate:t,endDate:a,locale:{customRangeLabel:Lang.get("js.custom"),applyLabel:Lang.get("js.apply"),cancelLabel:Lang.get("js.cancel"),fromLabel:Lang.get("js.from"),toLabel:Lang.get("js.to"),monthNames:[Lang.get("js.jan"),Lang.get("js.feb"),Lang.get("js.mar"),Lang.get("js.apr"),Lang.get("js.may"),Lang.get("js.jun"),Lang.get("js.jul"),Lang.get("js.aug"),Lang.get("js.sep"),Lang.get("js.oct"),Lang.get("js.nov"),Lang.get("js.dec")],daysOfWeek:[Lang.get("js.sun"),Lang.get("js.mon"),Lang.get("js.tue"),Lang.get("js.wed"),Lang.get("js.thu"),Lang.get("js.fri"),Lang.get("js.sat")]},ranges:(s={},e(s,Lang.get("js.today"),[moment(),moment()]),e(s,Lang.get("js.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(s,Lang.get("js.this_week"),[moment().startOf("week"),moment().endOf("week")]),e(s,Lang.get("js.last_7_days"),[moment().subtract(6,"days"),moment()]),e(s,Lang.get("js.last_30_days"),[moment().subtract(29,"days"),moment()]),e(s,Lang.get("js.this_month"),[moment().startOf("month"),moment().endOf("month")]),e(s,Lang.get("js.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),s)},o),o(t,a),i.on("apply.daterangepicker",(function(e,i){n=i.startDate.format("YYYY-MM-D  H:mm:ss"),r=i.endDate.format("YYYY-MM-D  H:mm:ss"),Livewire.dispatch("changeDateFilter",{dateFilter:[n,r]}),t=i.startDate,a=i.endDate}))}function o(e,t){$("#time_range").html(e.format("MMM D, YYYY")+" - "+t.format("MMM D, YYYY"))}function d(e,t,a,i){$.ajax({url:e,type:"POST",success:function(e){e.success&&(1==$(t).DataTable().data().count()?$(t).DataTable().page("previous").draw("page"):Livewire.dispatch("refresh")),swal({title:Lang.get("js.canceled")+" "+Lang.get("js.appointment")+" !",text:Lang.get("js.appointment_cancel"),icon:"success",confirmButtonColor:"#D9214E",timer:2e3,buttons:{confirm:$(".okVariable").val()}})},error:function(e){swal({title:"Error",icon:"error",text:e.responseJSON.message,type:"error",confirmButtonColor:"#D9214E",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})}function l(e,t,a,i){swal({title:Lang.get("js.change_status"),text:Lang.get("js.are_you_sure_want_to_change")+"?",type:"warning",icon:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#50cd89",showLoaderOnConfirm:!0,buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()}}).then((function(n){n&&c(e,t,a,i)}))}function c(e,t,a,i){$.ajax({url:e,type:"POST",success:function(e){e.success&&(1==$(t).DataTable().data().count()?$(t).DataTable().page("previous").draw("page"):Livewire.dispatch("refresh"),Livewire.dispatch("refresh")),swal({title:Lang.get("js.changed_appointment"),text:a+" "+Lang.get("js.has_been_changed"),icon:"success",confirmButtonColor:"#50cd89",timer:2e3,buttons:{confirm:$(".okVariable").val()}})},error:function(e){swal({title:"Error",icon:"error",text:e.responseJSON.message,type:"error",confirmButtonColor:"#50cd89",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})}listenClick(".appointment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".appointmentURL").val()+"/"+t,"#appointmentsTbl",$("#appointmentLang").val())})),listenChange("#appointmentStatus",(function(){var e=$(this).val();Livewire.dispatch("changeFilter",{statusFilter:[n,r,e]})})),listenClick("#appointmentResetFilter",(function(){var e=$("#time_range");n=e.data("daterangepicker").setStartDate(moment().startOf("week").format("MM/DD/YYYY")),r=e.data("daterangepicker").setEndDate(moment().endOf("week").format("MM/DD/YYYY")),Livewire.dispatch("changeFilter",{statusFilter:[n,r,2]}),$("#appointmentStatus").val(2),hideDropdownManually($("#appointmentFilterBtn"),$(".dropdown-menu"))})),listenClick(".appointment-complete-status",(function(e){var t=$(e.currentTarget).attr("data-id");l($(".appointmentURL").val()+"/"+t+"/status","#appointmentsTbl",Lang.get("js.appointment")+" "+Lang.get("js.status"))})),listenClick(".cancel-appointment",(function(){var e=$(this).attr("data-id");cancelAppointment($(".appointmentURL").val()+"/"+e+"/cancel","#appointmentsTbl",Lang.get("js.appointment"))})),window.cancelAppointment=function(e,t,a,i){swal({title:Lang.get("js.cancel")+" "+Lang.get("js.appointment"),text:Lang.get("js.are_you_sure_want_to_cancel")+" "+a+" ?",type:"warning",icon:"warning",closeOnConfirm:!1,confirmButtonColor:"#000000",showLoaderOnConfirm:!0,buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()}}).then((function(n){n&&d(e,t,a,i)}))},listenKeyup(".charge-appointment",(function(e){var t=$(this).val();t=t.replace(/[e\+\-]/gi,""),$(this).val(t)}))}()}))})(),(()=>{"use strict";var e;document.addEventListener("turbo:load",(function(){if($("#appointmentForm").length||$("#editAppointmentForm").length){var e=$("#appointmentsPatientId"),t=$("#appointmentDoctorId"),a=$("#appointmentDepartmentId"),i=$("#customFieldDate").val(),n=$("#customFieldDateTime").val();if($("#customFieldDate").flatpickr({defaultDate:i||new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#customFieldDateTime").flatpickr({enableTime:!0,defaultDate:n||new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),e.length&&($("#appointmentsPatientId").select2({width:"100%"}),$("#appointmentsPatientId").first().focus()),t.length&&$("#appointmentDoctorId").select2({width:"100%"}),a.length&&$("#appointmentDepartmentId").select2({width:"100%"}),!$("#appointmentPayment").length)return!1;var r,s,o,d,l=function(e){var t=new Date;return t.setHours(e.substring(11,13)),t.setMinutes(e.substring(14,16)),t},c=function(e,t,a){for(var i=[];e<t;)i.push(e.toTimeString().substring(0,5)),e.setMinutes(e.getMinutes()+a);return i};$("#appointmentPayment").select2({width:"100%"}),$(".isEdit").val()&&($(".appointmentCharge").removeClass("d-none"),$(".editSlotTime").removeClass("d-none"));var u,p=$(".opdDate").flatpickr({enableTime:!1,minDate:moment(new Date).format("YYYY-MM-DD"),dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val(),onChange:function(e,t,a){if(!isEmpty(t)){if($(".doctor-schedule").css("display","none"),$(".error-message").css("display","none"),$(".available-slot-heading").css("display","none"),$(".color-information").css("display","none"),$(".available-slot").css("display","none"),$(".time-slot").remove(),""==$("#appointmentDepartmentId").val())return $("#createAppointmentErrorsBox").show().html(Lang.get("js.please_select_doctor")+" "+Lang.get("js.department")),$("#createAppointmentErrorsBox").delay(5e3).fadeOut(),$(".opdDate").val(""),p.clear(),!1;if(""==$("#appointmentDoctorId").val())return $("#createAppointmentErrorsBox").show().html(Lang.get("js.please_select_doctor")),$("#createAppointmentErrorsBox").delay(5e3).fadeOut(),$(".opdDate").val(""),p.clear(),!1;var i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(t).getDay()];if(r=t,null==i||""==i)return!1;if($.ajax({type:"GET",url:$(".doctorScheduleList").val(),data:{day_name:i,doctor_id:u,date:r},success:function(e){if(e.success&&""!=e.data)if(0!=e.data.scheduleDay.length&&0==e.data.doctorHoliday.length){var a="";moment(new Date).format("YYYY-MM-DD")===t?(a=moment().ceil(moment.duration(e.data.perPatientTime[0].per_patient_time).asMinutes(),"minute"),a=moment(a.toString()).format("H:mm:ss")):a=e.data.scheduleDay[0].available_from;var i=r+" "+a,n=r+" "+e.data.scheduleDay[0].available_to;if(moment(n).isBefore(moment()))return $(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".available-slot").css("display","none"),$(".error-message").css("display","block"),void $(".error-message").html(Lang.get("js.doctor_schedule_not_available_on_this_date"));var o=e.data.perPatientTime[0].per_patient_time.split(":"),u=60*+o[0]+ +o[1],p=l(i),m=l(n);if(s=c(p,m,u),null!=e.data.doctorBreak)for(var g=0;g<e.data.doctorBreak.length;++g){var h=l(r+" "+e.data.doctorBreak[g].break_from),v=l(r+" "+e.data.doctorBreak[g].break_to);d=c(h,v,1),s=s.filter((function(e){return!d.includes(e)}))}if(s.length>0){var f;$(".available-slot-heading").css("display","block"),$(".color-information").css("display","block"),$(".available-slot").css("display","block");var y="";for(f=0;f<s.length;++f){var b=[{index:f,timeSlot:s[f]}];y+=prepareTemplateRender("#appointmentSlotTemplate",b)}$(".available-slot").append(y)}"00:00:00"!=a&&"00:00:00"!=e.data.scheduleDay[0].available_to&&i!=n?($(".doctor-schedule").css("display","block"),$(".color-information").css("display","block"),$(".available-slot").css("display","block"),$(".day-name").html(e.data.scheduleDay[0].available_on),$(".schedule-time").html("["+a+" - "+e.data.scheduleDay[0].available_to+"]")):($(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".available-slot").css("display","none"),$(".error-message").css("display","block"),$(".error-message").html(Lang.get("js.doctor_schedule_not_available_on_this_date")))}else $(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".available-slot").css("display","none"),$(".error-message").css("display","block"),$(".error-message").html(Lang.get("js.doctor_schedule_not_available_on_this_date"))},error:function(e){displayErrorMessage(e.responseJSON.message)}}),$(".isCreate").val()||$(".isEdit").val()){setTimeout((function(){if($(".isCreate").val())var e={editSelectedDate:r,doctor_id:u};else e={editSelectedDate:r,editId:$("#appointmentEditsID").val(),doctor_id:u};$.ajax({url:$(".getBookingSlot").val(),type:"GET",data:e,success:function(e){o=e.data.bookingSlotArr,e.data.hasOwnProperty("onlyTime")?(e.data.bookingSlotArr.length>0&&(m=e.data.onlyTime.toString(),$.each(e.data.bookingSlotArr,(function(e,t){$.each(s,(function(e,a){t==a&&$(".time-interval").each((function(){$(this).data("id")==e&&$(this).html()!=m&&($(this).parent().css({"background-color":"#ffa721",border:"1px solid #ffa721",color:"#ffffff"}),$(this).parent().addClass("booked"),$(this).parent().children().prop("disabled",!0))}))}))}))),$(".time-interval").each((function(){$(this).html()==m&&e.data.bookingSlotArr.length>0&&($(this).parent().addClass("time-slot-book"),$(this).parent().removeClass("booked"),$(this).parent().children().prop("disabled",!1),$(this).click())}))):o.length>0&&$.each(o,(function(e,t){$.each(s,(function(e,a){t==a&&$(".time-interval").each((function(){$(this).data("id")==e&&($(this).parent().addClass("time-slot-book"),$(".time-slot-book").css({"background-color":"#ffa721",border:"1px solid #ffa721",color:"#ffffff"}),$(this).parent().addClass("booked"),$(this).parent().children().prop("disabled",!0))}))}))}))}})}),200)}}}});listenChange("#appointmentDepartmentId",(function(){$(".error-message").css("display","none"),p.clear(),$(".doctor-schedule").css("display","none"),$(".available-slot-heading").css("display","none"),$(".available-slot").css("display","none"),$.ajax({url:$(".doctorDepartmentUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){$("#appointmentDoctorId").empty(),$("#appointmentDoctorId").append($('<option value="">'+Lang.get("js.select_doctor")+"</option>")),$.each(e.data,(function(e,t){$("#appointmentDoctorId").append($("<option></option>").attr("value",e).text(t))}))}})}));var m,g=!1;listenChange("#appointmentDoctorId",(function(){g&&($(".doctor-schedule").css("display","none"),$(".available-slot-heading").css("display","none"),$(".available-slot").css("display","none"),$(".error-message").css("display","none"),$("#appointmentCharge").val(""),$("#appointmentPayment").prop("required",!1),p.clear(),g=!0),$(".error-message").css("display","none"),u=$(this).val(),g=!0,$.ajax({url:route("get-appointment-charge"),type:"get",dataType:"json",data:{doctor_id:u},success:function(e){if(e.success&&null!=e.data){var t=e.data.appointment_charge;t>=0&&0!=t&&($(".appointmentCharge").removeClass("d-none"),$("#appointmentCharge").val(t),$(".appointment-payment").removeClass("d-none"),$("#appointmentPayment").prop("required",!0)),(t<=0||null==t)&&($(".appointment-payment").addClass("d-none"),$(".appointmentCharge").addClass("d-none"))}},error:function(e){printErrorMessage("#editAppointmentErrorsBox",e)}})})),$(".isEdit").val()&&($("#appointmentDoctorId").trigger("change",(function(e){u=$(this).val()})),$(".opdDate").trigger("dp.change",(function(){new Date($(this).val())}))),listenClick(".time-interval",(function(){m=$(this).text()})),listenSubmit("#editAppointmentForm",(function(e){var t=$("#appointmentOpdDate").val(),a=$("#editTimeSlot").val(),i=!0;if(isEmpty(t))return $("#editAppointmentErrorsBox").show().removeClass("d-none").html(Lang.get("js.select_appointment_date")).delay(5e3).slideUp(300),!1;if(!(null!=m&&""!=m||null!=a&&""!=a))return $("#editAppointmentErrorsBox").show().html(Lang.get("js.select_time_slot")).delay(5e3).slideUp(300),!1;if($(".dynamic-field").each((function(){var e=$(this).val(),t=$(this).closest(".form-group").find("label").text().replace(":","").trim();if($(this).is(':input[type="text"], :input[type="number"], textarea')){if(!e||""===e.trim())return $("#editAppointmentErrorsBox").show().removeClass("d-none").html(t+" field is required.").delay(5e3).slideUp(300),i=!1,!1}else if($(this).is(':input[type="checkbox"]')){if(!$(this).is(":checked"))return $("#editAppointmentErrorsBox").show().removeClass("d-none").html(t+" field is required.").delay(5e3).slideUp(300),i=!1,!1}else if($(this).is("select")&&!e&&0===$(this).val().length&&""===e.trim())return $("#editAppointmentErrorsBox").show().removeClass("d-none").html("Please select "+t).delay(5e3).slideUp(300),i=!1,!1})),e.preventDefault(),i){screenLock();var n=m||a,r=$(this).serialize()+"&time="+n;$.ajax({url:$("#appointmentUpdateUrl").val(),type:"POST",dataType:"json",data:r,success:function(e){displaySuccessMessage(e.message),screenUnLock(),setTimeout((function(){window.location.href=$(".appointmentIndexPage").val()}),2e3)},error:function(e){printErrorMessage("#editAppointmentErrorsBox",e),screenUnLock()}})}}))}})),listenClick(".time-interval",(function(t){var a=$(t.currentTarget).attr("data-id");$(this).data("id")==a&&$(this).parent().hasClass("booked")&&$(".time-slot-book").css("background-color","#ffa0a0"),e=$(this).text(),$(".time-slot").removeClass("time-slot-book"),$(this).parent().addClass("time-slot-book"),$(".isEdit").val()&&$("#editTimeSlot").val(e)})),listenSubmit("#appointmentForm",(function(t){var a=$("#appointmentOpdDate").val();if($(".dynamic-field").each((function(){var e=$(this).val(),t=$(this).closest(".form-group").find("label").text().replace(":","").trim();if($(this).is(':input[type="text"], :input[type="number"], textarea')){if(!e||""===e.trim())return $("#createAppointmentErrorsBox").show().removeClass("d-none").html(t+" field is required.").delay(5e3).slideUp(300),!1,!1}else if($(this).is(':input[type="checkbox"]')){if(!$(this).is(":checked"))return $("#createAppointmentErrorsBox").show().removeClass("d-none").html(t+" field is required.").delay(5e3).slideUp(300),!1,!1}else if($(this).is("select")&&!e&&0===$(this).val().length&&""===e.trim())return $("#createAppointmentErrorsBox").show().removeClass("d-none").html("Please select "+t).delay(5e3).slideUp(300),!1,!1})),isEmpty(a))return $("#createAppointmentErrorsBox").show().removeClass("d-none").html(Lang.get("js.select_appointment_date")).delay(5e3).slideUp(300),!1;if(null!=$("#appointmentCharge").val()&&null==$("#appointmentPayment").val())return displayErrorMessage(Lang.get("Select Payment Mode")),hideScreenLoader(),!1;if(null==e||""==e)return $("#createAppointmentErrorsBox").show().removeClass("d-none").html(Lang.get("js.select_time_slot")).delay(5e3).slideUp(300),!1;t.preventDefault(),screenLock();var i=$(this).serialize()+"&time="+e;$.ajax({url:$("#saveAppointmentURLID").val(),type:"POST",dataType:"json",data:i,success:function(e){if(screenUnLock(),e.data&&e.data.payment_type)if("1"==e.data.payment_type){var t=$("#stripeConfigKey").val(),a=Stripe(t),i={appointment_id:e.data.appointment_id,payment_type:e.data.payment_type,amount:e.data.amount};$(this).html('<div class="spinner-border spinner-border-sm " role="status">\n                                            <span class="sr-only">Loading...</span>\n                                        </div>').addClass("disabled"),$.post(route("appointment.stripe.session"),i).done((function(e){var t=e.data.sessionId;a.redirectToCheckout({sessionId:t}).then((function(e){manageAjaxErrors(e)}))})).catch((function(e){manageAjaxErrors(e)}))}else if("2"==e.data.payment_type){var n=e.data.appointment_id,r=$("#appointmentForm").serialize()+"&appointment_id="+n;$.ajax({url:route("appointmentRazorpay.init"),type:"POST",data:r,processData:!1,success:function(e){if(e.success){options.order_id=e.data.id,options.appointment_id=e.data.appointment_id,options.amount=e.data.amount,options.payment_mode=e.data.payment_mode;var t=new Razorpay(options);screenUnLock(),t.open()}},error:function(e){screenUnLock(),displayErrorMessage(e.responseJSON.message),setTimeout((function(){window.location.href=$(".appointmentIndexPage").val()}),2e3)},complete:function(){}})}else"3"==e.data.payment_type?$.ajax({type:"GET",url:route("appointment.paypal.init"),data:{appointment_id:e.data.appointment_id,payment_type:e.data.payment_type,amount:e.data.amount},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){setTimeout((function(){window.location.href=$(".appointmentIndexPage").val()}),2e3),displayErrorMessage(e.responseJSON.message)},complete:function(){}}):5==e.data.payment_type?$.ajax({type:"GET",url:route("appointment.flutterwave.payment"),data:{appointment_id:e.data.appointment_id,payment_type:e.data.payment_type,amount:e.data.amount},success:function(e){e.data.url&&(window.location.href=e.data.url)},error:function(e){setTimeout((function(){window.location.href=$(".appointmentIndexPage").val()}),2e3),displayErrorMessage(e.responseJSON.message)}}):"7"==e.data.payment_type?$.ajax({type:"GET",url:route("appointment.phone.pay.init"),data:{data:e.data.input,payment_type:e.data.payment_type,amount:e.data.amount},success:function(e){e.data.url&&(window.location.href=e.data.url)},error:function(e){$("#appointmentForm")[0].reset(),displayErrorMessage(e.responseJSON.message)}}):null!=e.data.payStackData&&8==e.data.payStackData.payment_type&&window.location.replace(route("appointment.paystack.init",{data:e.data.payStackData}));else displaySuccessMessage(e.message),setTimeout((function(){window.location.href=$(".appointmentIndexPage").val()}),2e3)},error:function(e){printErrorMessage("#createAppointmentErrorsBox",e),screenUnLock()},complete:function(){processingBtn("#appointmentForm","#saveAppointment")}})}))})(),(()=>{"use strict";listenClick(".brand-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexBrandUrl").val()+"/"+t,"",$("#medicineBrandLang").val())})),listenSubmit("#createBrandForm, #editBrandForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1}))})(),Livewire.hook("element.init",(function(){$("#medicineCategoryHead").select2({width:"100%"})})),listenSubmit("#addMedicineCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#medicineCategorySave");t.button("loading"),$.ajax({url:$("#indexCategoryCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_categories_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#medicineCategoryErrorsBox",e)},complete:function(){t.button("reset")}})})),listenSubmit("#editMedicineCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editCategorySave");t.button("loading");var a=$("#editMedicineCategoryId").val();$.ajax({url:$("#indexCategoriesUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_categories_modal").modal("hide"),$("#categoriesShowUrl").length?window.location.href=$("#categoriesShowUrl").val():Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_categories_modal",(function(){resetModalForm("#addMedicineCategoryForm","#medicineCategoryErrorsBox")})),listenHiddenBsModal("#edit_categories_modal",(function(){resetModalForm("#editMedicineCategoryForm","#editMedicineCategoryErrorsBox")})),window.renderCategoryData=function(e){$.ajax({url:$("#indexCategoriesUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#editMedicineCategoryId").val(t.id),$("#edit_name").val(t.name),1===t.is_active?$("#edit_is_active").prop("checked",!0):$("#edit_is_active").prop("checked",!1),$("#edit_categories_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".category-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderCategoryData(t)}})),listenClick(".category-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexCategoriesUrl").val()+"/"+t,"#categoriesTable",$("#medicineCategoryLang").val())})),listenChange(".category-status",(function(e){var t=$(e.currentTarget).data("id");activeDeActiveCategory(t)})),listenClick("#categoryResetFilter",(function(){$("#medicineCategoryHead").val(2).trigger("change"),hideDropdownManually($("#medicineCategoryFilterBtn"),$(".dropdown-menu"))})),window.activeDeActiveCategory=function(e){$.ajax({url:$("#indexCategoriesUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})},listenChange("#medicineCategoryHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()}),hideDropdownManually($("#medicineCategoryFilterBtn"),$("#medicineCategoryFilter"))})),Livewire.hook("element.init",(function(){$("#nurse_filter_status").select2({width:"100%"})})),listenClick(".deleteNurseBtn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($("#nurseURL").val()+"/"+t,"#nursesTbl",$("#nurseLang").val())})),listenChange("#nurse_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange(".nurseStatus",(function(e){var t=$(e.currentTarget).data("id");updateNurseStatus(t)})),listenClick("#nurseResetFilter",(function(){$("#nurse_filter_status").val(0).trigger("change"),hideDropdownManually($("#nursesFilter"),$(".dropdown-menu"))})),window.updateNurseStatus=function(e){$.ajax({url:$("#nurseURL").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){($("#createNurseForm").length||$("#editNurseForm").length)&&($("#nurseBloodGroup").select2({width:"100%"}),$("#editNurseBloodGroup").select2({width:"100%"}),$(".nurseBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#createNurseForm, #editNurseForm").find("input:text:visible:first").focus())})),listenSubmit("#createNurseForm, #editNurseForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#doctorsHead").select2({width:"100%"})})),listenClick(".doctor-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexDoctorUrl").val()+"/"+t,"#doctorsTable",$("#doctorLang").val())})),listenChange(".doctor-active-status",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexDoctorUrl").val()+"/"+ +t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick("#doctorResetFilter",(function(){$("#doctorsHead").val(2).trigger("change"),hideDropdownManually($("#doctorsFilterBtn"),$(".dropdown-menu"))})),listenChange("#doctorsHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})}))})(),document.addEventListener("turbo:load",(function(){if($(".price-input").trigger("input"),!$("#createDoctorForm").length&&!$("#editDoctorForm").length)return!1;var e=$("#doctorBloodGroup"),t=$("#editDoctorBloodGroup"),a=$("#departmentId"),i=$("#doctorsDepartmentId"),n=$("#editDoctorsDepartmentId"),r=$("#createDoctorForm"),s=$("#editDoctorForm"),o=$("#doctorBirthDate"),d=$("#editDoctorBirthDate");e.length&&$("#doctorBloodGroup").select2({width:"100%"}),t.length&&$("#editDoctorBloodGroup").select2({width:"100%"}),a.length&&$("#departmentId").select2({width:"100%"}),i.length&&$("#doctorsDepartmentId").select2({width:"100%"}),n.length&&$("#editDoctorsDepartmentId").select2({width:"100%"}),r.length&&$("#createDoctorForm").find("input:text:visible:first").focus(),s.length&&$("#editDoctorForm").find("input:text:visible:first").focus(),o.length&&$("#doctorBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),d.length&&$("#editDoctorBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()})})),listenKeyup("#doctorFacebookUrl,#editDoctorFacebookUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#doctorTwitterUrl,#editDoctorTwitterUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#doctorInstagramUrl,#editDoctorInstagramUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#doctorLinkedInUrl,#editDoctorLinkedInUrl",(function(){this.value=this.value.toLowerCase()})),listenSubmit("#createDoctorForm, #editDoctorForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;var e=$(".facebookUrl").val(),t=$(".twitterUrl").val(),a=$(".instagramUrl").val(),i=$(".linkedInUrl").val();Lang.setLocale($(".userCurrentLanguage").val());var n=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i);return""==e||e.match(n)?""==t||t.match(r)?""==a||a.match(s)?""==i||i.match(o)?void 0:(displayErrorMessage(Lang.get("js.please_enter_valid_linkedin_url")),!1):(displayErrorMessage(Lang.get("js.please_enter_valid_Instagram_url")),!1):(displayErrorMessage(Lang.get("js.please_enter_valid_twitter_url")),!1):(displayErrorMessage(Lang.get("js.please_enter_valid_facebook_url")),!1)})),listenClick(".doctor-remove-image",(function(){defaultImagePreview(".previewImage",1)})),Livewire.hook("element.init",(function(){$("#technicianFilterStatus").select2({width:"100%"})})),listen("click",".deleteTechnicianBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#labTechnicianURL").val()+"/"+t,"",$("#labTechnicianLang").val())})),listenChange(".technicianStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updateLabTechnicianStatus(t)})),listenChange("#technicianFilterStatus",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listen("click","#technicianResetFilter",(function(){$("#technicianFilterStatus").val(0).trigger("change"),hideDropdownManually($("#labTechnicianFilterBtn"),$(".dropdown-menu"))})),window.updateLabTechnicianStatus=function(e){$.ajax({url:$("#labTechnicianURL").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){($("#createLabTechnicianForm").length||$("#editLabTechnicianForm").length)&&($("#technicianBloodGroup").select2({width:"100%"}),$("#editTechnicianBloodGroup").select2({width:"100%"}),$(".departmentId").select2({width:"100%"}),$(".technicianBirthDate").flatpickr({dateFormat:"Y-m-d",useCurrent:!1,locale:$(".userCurrentLanguage").val()}).set("maxDate",new Date))})),listenSubmit("#createLabTechnicianForm, #editLabTechnicianForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),$("#createLabTechnicianForm, #editLabTechnicianForm").find("input:text:visible:first").focus(),Livewire.hook("element.init",(function(){$("#receptionist_filter_status").select2({width:"100%"})})),listenClick(".delete-receptionist-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#receptionistUrl").val()+"/"+t,"#receptionistsTbl",$("#receptionistLang").val())})),listenChange("#receptionist_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange(".receptionistStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updateReceptionistStatus(t)})),listenClick("#receptionistResetFilter",(function(){$("#receptionist_filter_status").val(2).trigger("change"),hideDropdownManually($("#receptionistFilter"),$(".dropdown-menu"))})),window.updateReceptionistStatus=function(e){$.ajax({url:$("#receptionistUrl").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){$("#receptionistBirthDate").length&&($("#receptionistBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#receptionistBloodGroup").select2({width:"100%"}),$("#createReceptionForm").find("input:text:visible:first").focus()),$("#editReceptionistBirthDate").length&&($("#editReceptionistBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#editReceptionistBloodGroup").select2({width:"100%"}),$("#editReceptionForm").find("input:text:visible:first").focus())})),listenSubmit("#createReceptionForm, #editReceptionForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenClick(".remove-receptionist-image",(function(){defaultImagePreview("#receptionistPreviewImage",1)})),Livewire.hook("element.init",(function(){$("#pharmacist_filter_status").select2({width:"100%"})})),listenClick(".delete-pharmacist-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPharmacistUrl").val()+"/"+t,"#pharmacistsTable",$("#pharmacistLang").val())})),listenChange("#pharmacist_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange(".pharmacistStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updatePharmacistsStatus(t)})),listenClick("#pharmacistResetFilter",(function(){$("#pharmacist_filter_status").val(0).trigger("change"),hideDropdownManually($("#pharmacistsFilter"),$(".dropdown-menu"))})),window.updatePharmacistsStatus=function(e){$.ajax({url:$("#indexPharmacistUrl").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){($("#createPharmacistForm").length||$("#editPharmacistForm").length)&&($(".pharmacistBirthDate").flatpickr({dateFormat:"Y-m-d",useCurrent:!1,locale:$(".userCurrentLanguage").val()}).set("maxDate",new Date),$("#createPharmacistForm, #editPharmacistForm").find("input:text:visible:first").focus())})),listenSubmit("#createPharmacistForm, #editPharmacistForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenClick(".remove-pharmacist-image",(function(){defaultImagePreview(".previewImage",1)})),Livewire.hook("element.init",(function(){$("#patientFilterStatus").select2({width:"100%"})})),listenChange("#patientFilterStatus",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange(".patient-status",(function(e){var t=$(e.currentTarget).attr("data-id");updatePatientStatus(t)})),listenClick("#resetPatientFilter",(function(){$("#patientFilterStatus").val(0).trigger("change"),hideDropdownManually($("#patientFilterBtn"),$(".dropdown-menu"))})),listenClick(".delete-patient-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPatientUrl").val()+"/"+t,"",$("#patientLang").val())})),window.updatePatientStatus=function(e){$.ajax({url:$("#indexPatientUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenChange(".is-verified",(function(e){var t=$(e.currentTarget).data("id");$.ajax({url:$("#userUrl").val()+"/"+t+"/is-verified",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#patientsTable").DataTable().ajax.reload(null,!1))}})})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#showPatientUrl").length)return;$("#editPatientPaymentDate").flatpickr({dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#editAdvancedPaymentModal").on("shown.bs.modal",(function(){$("#editPatientPaymentId:first").focus()})),$("#editVaccinationDoesGivenDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),listenShownBsModal("#editPatientVaccinationModal",(function(){$("#editPatientVaccinationName, #editVaccinationPatientName").select2({width:"100%",dropdownParent:$("#editPatientVaccinationModal")})})),function(){if(!$("#showPatientUrl").length)return;listenClick(".delete-btn",(function(e){$(this);var t=$(e.currentTarget).attr("data-id"),a=$(this).data("url"),i=$(this).data("message");deleteItem(a+"/"+t,"",i)}))}()})),listenClick(".edit-advancedPayment-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderPatientListingData(t)}})),window.renderPatientListingData=function(e){$.ajax({url:$("#showPatientAdvancedPaymentUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#patientAdvancePaymentId").val(e.data.id),$("#editPatientPaymentId").val(e.data.patient_id).trigger("change.select2"),$("#editPatientPaymentReceiptNo").val(e.data.receipt_no),$("#editPatientPaymentAmount").val(e.data.amount),$(".price-input").trigger("input"),document.querySelector("#editPatientPaymentDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editAdvancedPaymentModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editAdvancedPaymentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditSave");t.button("loading");var a=$("#patientAdvancePaymentId").val();$.ajax({url:$("#showPatientAdvancedPaymentUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editAdvancedPaymentModal").modal("hide"),location.reload())},error:function(e){manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#editAdvancedPaymentModal",(function(){resetModalForm("#editAdvancedPaymentForm","#editPatientPaymentErrorsBox")})),listenClick(".edit-vaccination-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderVaccinationedData(t)}})),window.renderVaccinationedData=function(e){$.ajax({url:$("#showVaccinatedPatientUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#vaccinatedPatientId").val(t.id),$("#editVaccinationPatientName").val(t.patient_id).trigger("change.select2"),$("#editPatientVaccinationName").val(t.vaccination_id).trigger("change.select2"),$("#editVaccinationSerialNo").val(t.vaccination_serial_number),$("#editVaccinationDoseNumber").val(t.dose_number),document.querySelector("#editVaccinationDoesGivenDate")._flatpickr.setDate(moment(t.dose_given_date).format()),$("#editVaccinationDescription").val(t.description),$("#editPatientVaccinationModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editPatientVaccinationForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editBtnSave");t.button("loading");var a=$("#vaccinatedPatientId").val();$.ajax({url:$("#showVaccinatedPatientUrl").val()+"/"+a+"/update",type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editPatientVaccinationModal").modal("hide"),location.reload())},error:function(e){manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#editPatientVaccinationModal",(function(){resetModalForm("#editPatientVaccinationForm","#editPatientVaccinationErrorsBox1")}))})(),(()=>{function e(e){var t=!0,a=$(e);if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;var i=$(".patientFacebookUrl").val(),n=$(".patientTwitterUrl").val(),r=$(".patientInstagramUrl").val(),s=$(".patientLinkedInUrl").val(),o=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),d=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),l=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),c=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i);return a.find(".dynamic-field").each((function(){var e=$(this).val(),a=$(this).closest(".form-group").find("label").text().replace(":","").trim();if($(this).is(':input[type="text"], :input[type="number"], textarea')){if(!e||""===e.trim())return displayErrorMessage(a+" field is required."),t=!1,!1}else if($(this).is(':input[type="checkbox"]')){if(!$(this).is(":checked"))return displayErrorMessage(a+" field is required."),t=!1,!1}else if($(this).is("select")&&!e&&0===$(this).val().length&&""===e.trim())return displayErrorMessage("Please select "+a),t=!1,!1})),Lang.setLocale($(".userCurrentLanguage").val()),""!=i&&!i.match(o)?(displayErrorMessage(Lang.get("js.please_enter_valid_facebook_url")),!1):""!=n&&!n.match(d)?(displayErrorMessage(Lang.get("js.please_enter_valid_twitter_url")),!1):""!=r&&!r.match(l)?(displayErrorMessage(Lang.get("js.please_enter_valid_Instagram_url")),!1):""!=s&&!s.match(c)?(displayErrorMessage(Lang.get("js.please_enter_valid_linkedin_url")),!1):(event.preventDefault(),void(t&&a.submit()))}document.addEventListener("turbo:load",(function(){if(!$("#createPatientForm").length&&!$("#editPatientForm").length)return;var e=$("#customFieldDate").val(),t=$("#customFieldDateTime").val(),a=$(".patient-multi-select").data("placeholder");$(".patient-multi-select").select2({placeholder:a}),$(".patientBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#customFieldDate").flatpickr({defaultDate:e||new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#customFieldDateTime").flatpickr({enableTime:!0,defaultDate:t||new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()})})),listenKeyup(".patientFacebookUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup(".patientTwitterUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup(".patientInstagramUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup(".patientLinkedInUrl",(function(){this.value=this.value.toLowerCase()})),listenClick("#btnSave",(function(){e("#createPatientForm")})),listenClick("#editPatientSave",(function(){e("#editPatientForm")})),$("#createPatientForm, #editPatientForm").find("input:text:visible:first").focus(),listenClick(".remove-patient-image",(function(){defaultImagePreview(".previewImage",1)}))})(),Livewire.hook("element.init",(function(){$("#accountant_filter_status").select2({width:"100%"})})),listenClick(".accountant-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#accountantIndexURL").val()+"/"+t,"#accountantsTbl",$("#Accountant").val())})),listenChange(".accountant-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateAccountantStatus(t)})),window.updateAccountantStatus=function(e){$.ajax({url:$("#accountantIndexURL").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listen("change","#accountant_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#accountantResetFilter",(function(){$("#accountant_filter_status").val(0).trigger("change"),hideDropdownManually($("#accountantFilterBtn"),$(".dropdown-menu"))})),document.addEventListener("turbo:load",(function(){$("#accountantBloodGroup, #editAccountantBloodGroup").select2({width:"100%"}),$("#accountantBirthDate, #editAccountantBirthDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),listenSubmit("#createAccountantForm, #editAccountantForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),$("#createAccountantForm, #editAccountantForm").find("input:text:visible:first").focus(),listenClick(".remove-image",(function(){defaultImagePreview("#previewImage",1)}))})),(()=>{"use strict";window.setPrice=function(e,t){if(""!=t||t>0){"number"!=typeof t&&(t=t.replace(/,/g,""));var a=addCommas(t);$(e).val(a)}},window.addCommas=function(e){for(var t=(e+="").split("."),a=t[0],i=t.length>1?"."+t[1]:"",n=/(\d+)(\d{3})/;n.test(a);)a=a.replace(n,"$1,$2");return a+i},window.getFormattedPrice=function(e){if(""!=e||e>0)return"number"!=typeof e&&(e=e.replace(/,/g,"")),addCommas(e)},window.priceFormatSelector=function(e){listen("input keyup keydown keypress",e,(function(e){var t=$(this).val();""===t?$(this).val(""):(t=(t=t.replace(/,/g,"")).replace(/^(\d+\.?\d{0,2}).*/,"$1"),/^\d*\.?\d{0,2}$/.test(t)?$(this).val(getFormattedPrice(t)):$(this).val(t.replace(/[^0-9.]/g,"")))}))},window.removeCommas=function(e){return e.replace(/,/g,"")},priceFormatSelector(".price-input"),listenKeyup(".decimal-number",(function(){var e=$(this);e.val(e.val().replace(/[^\d.]/g,"")),e.val().includes(".")&&$(this).val().substring($(this).val().indexOf("."),$(this).val().indexOf(".").length).length>3&&e.val(e.val().slice(0,-1))}))})(),(()=>{"use strict";Livewire.hook("element.init",(function(){$(".make-bill-payment").select2({width:"100%"})})),listenClick(".bill-delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($("#indexBillUrl").val()+"/"+t,"",$("#billLang").val())})),listenChange(".make-bill-payment",(function(e){var t=this;console.log($(".bill-amount").val()),e.preventDefault(),swal({title:Lang.get("js.are_u_sure"),text:Lang.get("js.u_want_to_complete_this_payment"),icon:"warning",buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()+", "+$(".cancelVariable").val()}}).then((function(e){if(e){var a=$(t).attr("data-id"),i=$(t).val();$.ajax({url:route("bill.payment",a),method:"post",cache:!1,data:{id:a,paymentType:i},success:function(e){if(null==e.data)displaySuccessMessage(e.message),Livewire.dispatch("refresh");else{if(0==e.data.payment_type){var t=Stripe(e.data.stripe_key),a=e.data[0].sessionId;t.redirectToCheckout({sessionId:a}).then((function(e){return manageAjaxErrors(e)}))}1==e.data.payment_type&&(window.location.href=e.data.url),3==e.data.payment_type&&(window.location.href=e.data.url)}},error:function(e){displayErrorMessage(e.responseJSON.message)}})}else Livewire.dispatch("refresh")}))})),listenChange(".bill-payment-approve",(function(){var e=$(this).attr("data-id"),t=$(this).val();$.ajax({url:route("change-bill-payment-status",e),type:"GET",data:{id:e,status:t},success:function(e){displaySuccessMessage(e.message),Livewire.dispatch("refresh")},error:function(e){displayErrorMessage(e.responseJSON.message)}})}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#billForm").length)return!1;var t=$("#female"),a=$("#male"),i=$("#patient_id"),n=$("#patientAdmissionId"),r=$("#bill_date"),s=$("#editBillDate");$('input:text:not([readonly="readonly"])').first().blur(),t.length&&$("#female").attr("disabled",!0);a.length&&$("#male").attr("disabled",!0);i.length&&$("#patient_id").select2({width:"100%"});n.length&&$("#patientAdmissionId").select2({width:"100%"});r.length&&$("#bill_date").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()});s.length&&$("#editBillDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()});e(".accountId")}));var e=function(e){$(e).select2({placeholder:Lang.get("js.select_medicine"),width:"100%"})};listenClick("#addBillItem",(function(){var a=$(".uniqueId").val(),i={medicines:JSON.parse($(".associateMedicines").val()),uniqueId:a},n=prepareTemplateRender("#billItemTemplate",i);$(".bill-item-container").append(n),e(".medicineId"),a++,t()}));var t=function(){var e=1;$(".bill-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++})),e-1==0&&$("#billTbl tbody").append('<tr><td class="text-center item-number">1</td><td class="table__item-desc"><input class="form-control itemName" required name="item_name[]" type="text"></td><td class="table__qty"><input class="form-control qty quantity" required name="qty[]" type="text"></td><td><input class="form-control price-input price" required name="price[]" type="text"></td><td class="amount text-right itemTotal"></td><td class="text-center"><i class="fa fa-trash text-danger delete-bill-bulk-item pointer"></i></td></tr>')};listenClick(".delete-bill-bulk-item",(function(){$(this).parents("tr").remove(),t(),n()}));var a=function(e){return e.replace(/,/g,"")};listenKeyup(".qty",(function(){var e=parseFloat($(this).val()),t=$(this).parent().siblings().find(".price").val();t=parseFloat(a(t));var r=i(e,t);$(this).parent().siblings(".amount").text(addCommas(parseFloat(r))),n()})),listenKeyup(".price",(function(){var e=$(this).val();e=parseFloat(a(e));var t=parseFloat($(this).parent().siblings().find(".qty").val()),r=i(t,e);$(this).parent().siblings(".amount").text(addCommas(parseFloat(r))),n()}));var i=function(e,t){return e>0&&t>0?e*t:0},n=function(){var e=0;$(".bill-item-container>tr").each((function(){var t=$(this).find(".itemTotal").text();t=a(t),t=isEmpty($.trim(t))?0:parseFloat(t),e+=t})),e=parseFloat(e),$("#totalPrice").text(addCommas(e.toFixed(2))),$("#totalAmount").val(e)};listenSubmit("#billForm",(function(e){e.preventDefault(),$("#billSave").attr("disabled",!0),jQuery(this).find("#saveInvoiceBtn").button("loading");var t=new FormData($(this)[0]);$.ajax({url:$(".billSaveUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".billUrl").val()+"/"+e.data.id},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#billSave").attr("disabled",!1)}})})),listenChange("#patientAdmissionId",(function(){var e;$("#patientAdmissionId").attr("disabled",!0),""!=$(this).val()&&null!=$(this).val()?($("#patientAdmissionId").attr("disabled",!1),e=$(".isEdit").val()?{editBillId:$(".billId").val(),patient_admission_id:$(this).val()}:{patient_admission_id:$(this).val()},$.ajax({url:$(".patientAdmissionDetailUrl").val(),type:"GET",data:e,success:function(e){if(e.success){var t=e.data;if($("#pAdmissionId").val($("#patientAdmissionId").find(":selected").val()),$("#female,#male").attr("disabled",!0),$("#billsPatientId").val(t.patientDetails.owner_id),$("#name").val(t.patientDetails.full_name),$("#userEmail").val(t.patientDetails.email),$("#userPhone").val(null!=t.patientDetails.phone?t.patientDetails.phone:"N/A"),1==t.patientDetails.gender?$("#female").prop("checked",!0):$("#male").prop("checked",!0),$("#dob").val(null!=t.patientDetails.dob?t.patientDetails.dob:"N/A"),$("#billDoctorId").val(t.doctorName),$("#admissionDate").val(t.admissionDetails.admission_date),$("#dischargeDate").val(null!=t.admissionDetails.discharge_date?t.admissionDetails.discharge_date:"N/A"),""!=t.package?$("#packageId").val(null!=t.package.name?t.package.name:"N/A"):$("#packageId").val("N/A"),null!=t.admissionDetails.insurance?$("#insuranceId").val(t.admissionDetails.insurance.name):$("#insuranceId").val("N/A"),$("#totalDays").val(t.admissionDetails.totalDays),$("#policyNo").val(""!=t.admissionDetails.policy_no?t.admissionDetails.policy_no:"N/A"),(""!=t.package||""==t.package||!t.hasOwnProperty("billItems")||t.hasOwnProperty("billItems")||t.billItems.length<=0||t.billItems.length>=0)&&($(".bill-item-container tr").each((function(){$(this).closest("tr").remove()})),$("#totalPrice").text("0"),$("#billTbl tbody").append('<tr><td class="text-center item-number">1</td><td class="table__item-desc"><input class="form-control itemName" required name="item_name[]" type="text"></td><td class="table__qty"><input class="form-control qty quantity" required name="qty[]" type="text"></td><td><input class="form-control price-input price" required name="price[]" type="text"></td><td class="amount text-right itemTotal"></td><td class="text-center"><i class="fa fa-trash text-danger delete-bill-bulk-item pointer"></i></td></tr>')),""!=t.package&&t.hasOwnProperty("billItems")&&t.billItems.length>0){var a=t.billItems.length-1;$("#totalAmount").val(0);for(var i=0,n=1;n<=a;n++)$("#addBillItem").trigger("click");$(".bill-item-container tr").each((function(e){var a=$(this);a.find(".itemName").val(t.billItems[e].item_name),a.find(".quantity").val(t.billItems[e].qty),a.find(".price").val(parseFloat(t.billItems[e].price)),a.find(".amount").text(parseFloat(t.billItems[e].amount.toFixed(2))),i+=parseFloat(a.find(".itemTotal").text()),$("#totalPrice").text(i)})),$("#totalAmount").val($("#total").text()),setTimeout((function(){$(".price").trigger("keyup")}),500)}else if(""!=t.package){if(t.package.package_services_items.length>0){var r=t.package.package_services_items.length-1;$("#totalAmount").val(0);for(var s=0,o=1;o<=r;o++)$("#addBillItem").trigger("click");$(".bill-item-container tr").each((function(e){var a=$(this);a.find(".itemName").val(t.package.package_services_items[e].service.name),a.find(".quantity").val(t.package.package_services_items[e].quantity),a.find(".price").val(t.package.package_services_items[e].rate),a.find(".amount").text(t.package.package_services_items[e].amount),s+=parseFloat(a.find(".itemTotal").text()),$("#totalPrice").text(s)})),$("#totalAmount").val($("#total").text())}}else if(t.hasOwnProperty("billItems")&&t.billItems.length>0){var d=t.billItems.length-1;$("#totalAmount").val(0);for(var l=0,c=1;c<=d;c++)$("#addBillItem").trigger("click");$(".bill-item-container tr").each((function(e){var a=$(this);a.find(".itemName").val(t.billItems[e].item_name),a.find(".quantity").val(t.billItems[e].qty),a.find(".price").val(parseFloat(t.billItems[e].price)),a.find(".amount").text(parseFloat(t.billItems[e].amount)),l+=parseFloat(a.find(".itemTotal").text()),$("#totalPrice").text(l)})),$("#totalAmount").val($("#total").text())}}},error:function(e){manageAjaxErrors(e),$("#patientAdmissionId").attr("disabled",!1)}})):$("#patientAdmissionId").attr("disabled",!1)}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#editBillPatientAdmissionId").length)return!1;setTimeout((function(){$("#patientAdmissionId").val($("#editBillPatientAdmissionId").val()),$("#patientAdmissionId").trigger("change")}),500)}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#bloodGroup").select2({width:"100%",dropdownParent:$("#bloodDonorsAddModal")}),$("#editBloodGroup").select2({width:"100%",dropdownParent:$("#bloodDonorsEditModal")});$("#lastDonationDate").flatpickr({format:"YYYY-MM-DD HH:mm:ss",dateFormat:"Y-m-d H:i",sideBySide:!0,enableTime:!0,locale:$(".userCurrentLanguage").val()}),$("#editLastDonationDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,locale:$(".userCurrentLanguage").val()})})),listenSubmit("#bloodDonorsAddNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodDonorsBtnSave");t.button("loading"),$(t).attr("disabled",!0),$.ajax({url:$("#bloodDonorCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodDonorsAddModal").modal("hide"),Livewire.dispatch("refresh"),$(t).attr("disabled",!1))},error:function(e){printErrorMessage("#bloodDonorsValidationErrorsBox",e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#bloodDonorsEditForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodDonorEditBtnSave");t.button("loading"),$(t).attr("disabled",!0);var a=$("#bloodDonorId").val();$.ajax({url:$("#bloodDonorUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodDonorsEditModal").modal("hide"),Livewire.dispatch("refresh"),$(t).attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#bloodDonorsAddModal",(function(){resetModalForm("#bloodDonorsAddNewForm","#bloodDonorsValidationErrorsBox"),$("#bloodDonorsBtnSave").attr("disabled",!1)})),listenHiddenBsModal("#bloodDonorsEditModal",(function(){resetModalForm("#bloodDonorsEditForm","#bloodDonorsEditValidationErrorsBox"),$("#bloodDonorEditBtnSave").attr("disabled",!1)})),listenClick(".blood-donors-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bloodDonorUrl").val()+"/"+t,"#bloodDonorsTable",$("#bloodDonorLang").val())})),listenClick(".blood-donors-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bloodDonorUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bloodDonorId").val(t.id),$("#editName").val(t.name),$("#editAge").val(t.age),$("#male,#female").prop("checked",!1),0==t.gender?$("#female").prop("checked",!0):$("#male").prop("checked",!0),$("#editBloodGroup").val(t.blood_group),$("#editBloodGroup").trigger("change"),$("#editLastDonationDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,locale:$(".userCurrentLanguage").val()}).setDate(t.last_donate_date+1),$("#bloodDonorsEditModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}}))})(),(()=>{"use strict";listenSubmit("#bloodBanksAddNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodBanksBtnSave");t.button("loading"),$(t).attr("disabled",!0),$.ajax({url:$("#bloodBankCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(Livewire.dispatch("refresh"),displaySuccessMessage(e.message),$("#bloodBanksAddModal").modal("hide"),$(t).attr("disabled",!1))},error:function(e){printErrorMessage("#bloodBanksValidationErrorsBox",e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#bloodBanksEditForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodBanksEditBtnSave");t.button("loading"),$(t).attr("disabled",!0);var a=$("#bloodBankId").val();$.ajax({url:$("#bloodBankUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(Livewire.dispatch("refresh"),displaySuccessMessage(e.message),$("#bloodBanksEditModal").modal("hide"),$(t).attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#bloodBanksAddModal",(function(){$("#bloodBanksBtnSave").attr("disabled",!1),resetModalForm("#bloodBanksAddNewForm","#bloodBanksValidationErrorsBox")})),listenHiddenBsModal("#bloodBanksEditModal",(function(){$("#bloodBanksEditBtnSave").attr("disabled",!1),resetModalForm("#bloodBanksEditForm","#bloodBanksEditValidationErrorsBox")})),listenClick(".blood-banks-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bloodBankUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bloodBankId").val(t.id),$("#editBloodGroupBank").val(t.blood_group),$("#editRemainedBags").val(t.remained_bags),$("#bloodBanksEditModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".blood-banks-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bloodBankUrl").val()+"/"+t,"#bloodBankTable",$("#bloodBankLang").val())}))})(),document.addEventListener("turbo:load",(function(){})),listenClick(".bed-type-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderBedTypeData(t)}})),listenClick(".bed-type-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bedTypeIndexUrl").val()+"/"+t,"#bedTypesTbl",$("#bedTypeLang").val())})),window.renderBedTypeData=function(e){$.ajax({url:$("#bedTypeIndexUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bedTypeId").val(t.id),$("#editTitle").val(t.title),$("#editDescription").val(t.description),$("#editBedTypeModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#addNewBedTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnSave");t.button("loading"),$(t).attr("disabled",!0),$.ajax({url:$("#bedTypesCreateURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$(t).attr("disabled",!1),$("#addBedTypeModal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#validationErrorsBox",e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editBedTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditSave");t.button("loading"),$(t).attr("disabled",!0);var a=$("#bedTypeId").val();$.ajax({url:$("#bedTypeIndexUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editBedTypeModal").modal("hide"),Livewire.dispatch("refresh"),$(t).attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addBedTypeModal",(function(){resetModalForm("#addNewBedTypeForm","#validationErrorsBox"),$("#btnSave").attr("disabled",!1)})),listenHiddenBsModal("#editBedTypeModal",(function(){resetModalForm("#editBedTypeForm","#editValidationErrorsBox"),$("#btnEditSave").attr("disabled",!1)})),(()=>{"use strict";listenClick(".bed-delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($(".bedUrl").val()+"/"+t,"#bedsTbl",$("#bedLang").val())})),listenChange(".bed-status",(function(e){var t,a=$(e.currentTarget).data("id");t=a,$.ajax({url:$(".bedUrl").val()+"/"+t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&Livewire.dispatch("refresh")}})})),listenChange("#bed_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#bedResetFilter",(function(){$("#bed_filter_status").val(0).trigger("change"),hideDropdownManually($("#bedAssignFilterBtn"),$(".dropdown-menu"))}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#purchaseUniqueId").length)return;$(".purchaseMedicineExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#paymentMode").select2({width:"100%"})}));var e="";listenClick(".add-medicine-btn-purchase",(function(){e=$("#purchaseUniqueId").val();var a={medicines:JSON.parse($(".associatePurchaseMedicines").val()),uniqueId:e},i=prepareTemplateRender("#purchaseMedicineTemplate",a);$(".prescription-medicine-container").append(i),t(".purchaseMedicineId"),$(".purchaseMedicineExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"}),e++,$("#purchaseUniqueId").val(e)}));var t=function(e){$(e).select2({placeholder:Lang.get("js.select_medicine"),width:"100%"})};listenChange(".purchaseMedicineId",(function(){var e=$(this).val(),t=$(this).attr("data-id"),a="#sale_price"+t,i="#purchase_price"+t;if(""==e)return $(a).val("0.00"),$(i).val("0.00"),!1;$.ajax({type:"get",url:route("get-medicine",e),success:function(e){$(a).val(e.data.selling_price.toFixed(2)),$(i).val(e.data.buying_price.toFixed(2))}})})),listenKeyup(".purchase-quantity,.purchase-price,purchase-quantity,.purchase-tax,.purchase-discount",(function(){var e=$(this).val();$(this).val(e.replace(/[^0-9\.]/g,""));var t=$(this).closest("tr"),a=t.find(".purchase-quantity").val(),i=t.find(".purchase-price").val(),n=parseFloat(i*a);t.find(".purchase-amount").val(n.toFixed(2));for(var r=$(".purchase-tax"),s=$(".purchase-amount"),o=0,d=0,l=0,c=0,u=0;u<s.length;u++)if(o+=parseFloat(s[u].value),c=$(".purchase-discount").val(),0!=r[u].value&&""!=r[u].value){if(r[u].value>99){var p=r[u].value.slice(0,-1);return t.find(".purchase-tax").val(p),displayErrorMessage(Lang.get("js.tax_less_100")),$("#discountAmount").val(c),!1}d+=s[u].value*r[u].value/100}else parseFloat(s[u].value);if(c=""==c?0:c,l=parseFloat(o)+parseFloat(d),l=parseFloat(l)-parseFloat(c),c>o&&$(this).hasClass("purchase-discount"))return c=c.slice(0,-1),displayErrorMessage(Lang.get("js.discount_less_than_amount")),$("#discountAmount").val(c),!1;c>o&&(l=0),$("#total").val(o.toFixed(2)),$("#purchaseTaxId").val(d.toFixed(2)),$("#netAmount").val(l.toFixed(2))})),listenClick(".delete-purchase-medicine-item",(function(){var e=$(this).closest("tr"),t=e.find(".purchase-amount").val(),a=e.find(".purchase-tax").val(),i=parseFloat(t)*parseFloat(a/100),n=parseFloat($("#purchaseTaxId").val())-parseFloat(i);$("#purchaseTaxId").val(n.toFixed(2));var r=parseFloat($("#total").val())-parseFloat(t);$("#total").val(r.toFixed(2));var s=parseFloat(i)+parseFloat(t),o=parseFloat($("#netAmount").val())-parseFloat(s);$("#netAmount").val(o.toFixed(2)),$(this).parents("tr").remove()})),listenSubmit("#purchaseMedicineFormId",(function(e){e.preventDefault();var t=$("#purchaseUniqueId").val()-1,a=1,i=!0;$(".saveBtnPurchaseMedicne").prop("disabled",!0);$(".saveBtnPurchaseMedicne").prop("disabled",!1);for(var n=1;n<=t;n++){var r="#medicineChooseId"+n,s="tax"+n;if(void 0!==$(s).val()&&(null!=$(s).val()&&""!=$(s).val()||(a=0)),void 0!==$(r).val()&&(null==$(r).val()||""==$(r).val()))return displayErrorMessage(Lang.get("js.select_medicine")),i=!1,!1;var o="#lot_no"+n;if(void 0!==$(o).val()&&(null==$(o).val()||""==$(o).val()))return displayErrorMessage(Lang.get("js.enter_lot_no")),i=!1,!1;var d="#expiry_date"+n;if(null==$(d).val()||""==$(d).val())return displayErrorMessage(Lang.get("js.expiry_date")+" "+Lang.get("js.field_required")),i=!1,!1;var l="#sale_price"+n;if(void 0!==$(l).val()&&(null==$(l).val()||""==$(l).val()))return displayErrorMessage(Lang.get("js.enter_sale_price")),i=!1,!1;var c="#purchase_price"+n;if(void 0!==$(c).val()){if(null==$(c).val()||""==$(c).val())return displayErrorMessage(Lang.get("js.enter_purchase_price")),i=!1,!1;if(0==$(c).val())return displayErrorMessage(Lang.get("js.quantity_greater_than_0")),i=!1,!1}var u="#quantity"+n;if(void 0!==$(u).val()){if(null==$(u).val()||""==$(u).val())return displayErrorMessage(Lang.get("js.enter_quantity")),i=!1,!1;if(0==$(u).val())return displayErrorMessage(Lang.get("js.quantity_greater_than_0")),i=!1,!1}}var p="#netAmount";if(null==$(p).val()||""==$(p).val())return displayErrorMessage(Lang.get("js.net_amount_not_empty")),i=!1,!1;if(0==$(p).val())return displayErrorMessage(Lang.get("js.net_amount_not_zero")),i=!1,!1;if(0==a&&(null==$("#purchaseTaxId").val()||""==$("#purchaseTaxId").val()))return displayErrorMessage(Lang.get("js.tax_not_empty")),i=!1,!1;var m="#paymentMode";if(null==$(m).val()||""==$(m).val())return displayErrorMessage(Lang.get("js.payment_type")),i=!1,!1;i&&$.ajax({url:route("medicine-purchase.store"),type:"POST",data:$("#purchaseMedicineFormId").serialize(),success:function(e){if(null==e.data)displaySuccessMessage(e.message),setTimeout((function(){location.href=route("medicine-purchase.index")}),1e3),$(".saveBtnPurchaseMedicne").prop("disabled",!1);else{if(5==e.data.payment_type){var t=e.data[0].sessionId;stripe.redirectToCheckout({sessionId:t})}2==e.data.payment_type&&$.ajax({url:route("purchase.medicine.razorpay.init"),type:"POST",data:$("#purchaseMedicineFormId").serialize(),success:function(e){if(e.success){var t=e.data,a=t.id,i=t.amount;options.order_id=a,options.amount=parseInt(i),new Razorpay(options).open()}},error:function(e){displayErrorMessage(e.responseJSON.message)}}),null!=e.data.payStackData&&3==e.data.payStackData.payment_type&&window.location.replace(route("purchase.medicine.paystack.init",{data:e.data.payStackData,net_amount:e.data.payStackData.net_amount,purchase_no:e.data.payStackData.purchase_no})),4==e.data.payment_type&&(window.location.href=e.data.url),6==e.data.payment_type&&(window.location.href=e.data.url)}},error:function(e){manageAjaxErrors(e),$(".saveBtnPurchaseMedicne").prop("disabled",!1)}})})),listenClick(".purchaseMedicineDelete",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("medicine-purchase.destroy",t),"",Lang.get("js.purchase_medicine"))}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#medicineUniqueId").length)return;$(".medicine_bill_date").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i"}),$(".edit_medicine_bill_date").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i"}),$(".medicineBillExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"}),$(".medicine-payment-mode").select2({width:"100%"}),$(".medicineBillCategoriesId").select2({width:"100%"})}));var e="";Lang.setLocale(UserCurrentLang),listenChange(".medicineBillCategoriesId",(function(){var e=$(this).val(),t=$(this).attr("data-id"),a=$(this).closest("tr"),i=a.find(".purchaseMedicineId");if(""==e)return $(i).find("option").remove(),$(i).append($("<option></option>").attr("placeholder","").text(Lang.get("js.select_medicine"))),$("#medicine_sale_price"+t).val("0.00"),a.find("#medicineAvailableQuantity"+t).text("0"),!1;$.ajax({type:"get",url:route("get-medicine-category",e),success:function(e){0==e.data.medicine.length&&a.find("#medicineAvailableQuantity"+t).text("0");var n=e.data.medicine;$(i).find("option").remove(),$(i).attr("required",!0),$("#medicine_sale_price"+t).val("0.00"),a.find("#medicineAvailableQuantity"+t).text("0"),$(i).append($('<option value="">'+Lang.get("js.select_medicine")+"</option>")),$.each(n,(function(e,t){$(i).append($("<option></option>").attr("value",e).text(t))}))}})})),listenChange(".medicinePurchaseId",(function(){var e=$(this).closest("tr"),t=$(this).val(),a=$(this).attr("data-id"),i="#medicine_sale_price"+a,n="#medicineAvailableQuantity"+a,r="#expiry_date"+a;if(""==t||t==Lang.get("js.select_medicine"))return $(i).val("0.00"),$(n).text("0"),!1;$.ajax({type:"get",url:route("get-medicine",t),success:function(t){$(n).text(t.data.available_quantity),$(i).val(t.data.selling_price.toFixed(2)),null!==t.data.expiry_date&&""!=t.data.expiry_date&&$(r).val(t.data.expiry_date);var a=e.find(".medicineBill-quantity").val(),s=e.find(".medicineBill-sale-price").val(),o=parseFloat(s*a);e.find(".medicine-bill-amount").val(o.toFixed(2));for(var d=$(".medicineBill-tax"),l=$(".medicine-bill-amount"),c=0,u=0,p=0,m=0,g=0;g<l.length;g++)c+=parseFloat(l[g].value),m=$(".medicineBill-discount").val(),0!=d[g].value&&""!=d[g].value?u+=l[g].value*d[g].value/100:parseFloat(l[g].value);if(m=""==m?0:m,p=parseFloat(c)+parseFloat(u),p=parseFloat(p)-parseFloat(m),m>c&&$(this).hasClass("medicineBill-discount"))return m=m.slice(0,-1),displayErrorMessage(Lang.get("js.discount_less_than_amount")),$("#discountAmount").val(m),!1;m>c&&(p=0),$("#total").val(c.toFixed(2)),$("#medicineTotalTaxId").val(u.toFixed(2)),$("#netAmount").val(p.toFixed(2))}})})),listenClick(".add-medicine-btn-medicine-bill",(function(){e=$("#medicineUniqueId").val();var n={medicinesCategories:JSON.parse($("#showMedicineCategoriesMedicineBill").val()),medicines:JSON.parse($(".associatePurchaseMedicines").val()),uniqueId:e},r=prepareTemplateRender("#medicineBillTemplate",n);$(".medicine-bill-container").append(r),t(".medicinePurchaseId"),a(".medicinebillCategories"),i(".medicinebillCategories"),$(".purchaseMedicineExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"}),e++,$("#medicineUniqueId").val(e)}));var t=function(e){$(e).select2({placeholder:Lang.get("js.select_medicine"),width:"100%"})},a=function(e){$(e).select2({placeholder:Lang.get("js.select_category"),width:"100%"})},i=function(e){$(".medicineBillExpiryDate").flatpickr({minDate:new Date,dateFormat:"Y-m-d"})};listenKeyup(".medicineBill-quantity,.medicineBill-price,.medicineBill-tax,.medicineBill-discount,.medicineBill-sale-price",(function(){var e=$(this).val();$(this).val(e.replace(/[^0-9\.]/g,""));var t=$(this).closest("tr"),a=t.find(".medicineBill-quantity").val(),i=t.find(".medicineBill-sale-price").val(),n=parseFloat(i*a);t.find(".medicine-bill-amount").val(n.toFixed(2));for(var r=$(".medicineBill-tax"),s=$(".medicine-bill-amount"),o=0,d=0,l=0,c=0,u=$(".medicineBill-quantity"),p=$(".previous-quantity"),m=0;m<s.length;m++){if(o+=parseFloat(s[m].value),c=$(".medicineBill-discount").val(),1==$("#medicineBillStatus").val()&&parseInt(u[m].value)>parseInt(p[m].value)){var g=u[m].value.slice(0,-1);return t.find(".medicineBill-quantity").val(g),a=t.find(".medicineBill-quantity").val(),i=t.find(".medicineBill-sale-price").val(),n=parseFloat(i*a),t.find(".medicine-bill-amount").val(n.toFixed(2)),displayErrorMessage(Lang.get("js.update_quantity")),!1}if(0!=r[m].value&&""!=r[m].value){if(r[m].value>99){var h=r[m].value.slice(0,-1);return t.find(".medicineBill-tax").val(h),displayErrorMessage(Lang.get("js.tax_less_100")),$("#discountAmount").val(c),!1}d+=s[m].value*r[m].value/100}else parseFloat(s[m].value)}if(c=""==c?0:c,l=parseFloat(o)+parseFloat(d),l=parseFloat(l)-parseFloat(c),c>o&&$(this).hasClass("medicineBill-discount"))return c=c.slice(0,-1),displayErrorMessage(Lang.get("js.discount_less_than_amount")),$("#discountAmount").val(c),!1;c>o&&(l=0),$("#total").val(o.toFixed(2)),$("#medicineTotalTaxId").val(d.toFixed(2)),$("#netAmount").val(l.toFixed(2))})),listenSubmit("#CreateMedicineBillForm",(function(e){e.preventDefault();var t=$("#medicineUniqueId").val()-1,a=!0;$(".saveBtnMedicneBill").prop("disabled",!0);$(".saveBtnMedicneBill").prop("disabled",!1);var i=$("#prescriptionPatientId");if(""==i.val()||null==i.val())return displayErrorMessage(Lang.get("js.select_patient")),a=!1,!1;var n=$("#medicine_bill_date");if(""==n.val()||null==n.val())return displayErrorMessage(Lang.get("js.bill_date")),a=!1,!1;for(var r=1;r<=t;r++){var s="tax"+r;void 0!==$(s).val()&&(null!=$(s).val()&&""!=$(s).val()||(tx=0));var o="#medicineBillCategoriesId"+r;if(null==$(o).val()||""==$(o).val())return displayErrorMessage(Lang.get("js.select_medicine_category")),a=!1,!1;var d="#medicine"+r;if(null==$(d).val()||""==$(d).val())return displayErrorMessage(Lang.get("js.select_medicine")),a=!1,!1;var l="#expiry_date"+r;if(null==$(l).val()||""==$(l).val())return displayErrorMessage(Lang.get("js.expiry_date")+" "+Lang.get("js.field_required")),a=!1,!1;var c="#medicine_sale_price"+r;if(null==$(c).val()||""==$(c).val())return displayErrorMessage(Lang.get("js.enter_sale_price")),a=!1,!1;var u="#quantity"+r;if(null==$(u).val()||""==$(u).val()||0==$(u).val())return displayErrorMessage(Lang.get("js.quantity_greater_than_0")),a=!1,!1;var p="#amount"+r;if(null==$(p).val()||""==$(p).val()||0==$(p).val())return displayErrorMessage(Lang.get("js.amount_not_zero")),a=!1,!1}if($("#total").val()<$("#discountAmount").val())return displayErrorMessage(Lang.get("js.discount_less_than_amount")),a=!1,!1;var m="#netAmount";if(null==$(m).val()||""==$(m).val())return displayErrorMessage(Lang.get("js.net_amount_not_empty")),a=!1,!1;if(0==$(m).val())return displayErrorMessage(Lang.get("js.net_amount_not_zero")),a=!1,!1;var g="#paymentMode";if(null==$(g).val()||""==$(g).val())return displayErrorMessage(Lang.get("js.payment_type")),a=!1,!1;a&&$.ajax({url:route("medicine-bills.store"),type:"POST",data:$("#CreateMedicineBillForm").serialize(),success:function(e){if(e.success)if(null!=e.data){if(5==e.data.payment_type){var t=e.data[0].sessionId;stripe.redirectToCheckout({sessionId:t}).then((function(e){return manageAjaxErrors(e)}))}2==e.data.payment_type&&$.ajax({url:route("medicine.bill.razorpay.init"),type:"POST",data:$("#CreateMedicineBillForm").serialize(),success:function(e){if(e.success){var t=e.data,a=t.id,i=t.net_amount;options.order_id=a,options.net_amount=i,new Razorpay(options).open()}},error:function(e){displayErrorMessage(e.responseJSON.message),livewire.emit("refresh")}}),null!=e.data.payStackData&&3==e.data.payStackData.payment_type&&window.location.replace(route("medicine.bill.paystack.init",{data:e.data.payStackData,net_amount:e.data.payStackData.net_amount})),4==e.data.payment_type&&(window.location.href=e.data.url),6==e.data.payment_type&&(window.location.href=e.data.url)}else displaySuccessMessage(e.message),setTimeout((function(){window.location.href=route("medicine-bills.index")}),1500)},error:function(e){displayErrorMessage(e.responseJSON.message),$(".saveBtnMedicneBill").prop("disabled",!1)}})})),listenClick(".add-patient-modal",(function(){$("#addPatientModal").appendTo("body").modal("show")})),listenSubmit("#addPatientForm",(function(e){e.preventDefault(),processingBtn("#addPatientForm","#patientBtnSave","loading"),$("#patientBtnSave").attr("disabled",!0),$.ajax({url:route("store.patient"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&($("#prescriptionPatientId").find("option").remove(),$("#prescriptionPatientId").append($("<option></option>").attr("placeholder","").text(Lang.get("js.select_patient"))),$.each(e.data,(function(e,t){$("#prescriptionPatientId").append($("<option></option>").attr("value",e).text(t))})),displaySuccessMessage(e.message),$("#addPatientModal").modal("hide"))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){$("#patientBtnSave").attr("disabled",!1),processingBtn("#addPatientForm","#patientBtnSave")}})})),listenHiddenBsModal("#addPatientModal",(function(){resetModalForm("#addPatientForm","#patientErrorsBox")})),listenClick(".medicine-bill-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("medicine-bills.destroy",t),"",Lang.get("js.medicine_bill"))})),listenSubmit("#MedicinebillForm",(function(e){e.preventDefault();var t="#netAmount";return parseFloat($("#total").val())<parseFloat($("#discountAmount").val())?(displayErrorMessage(Lang.get("js.discount_less_than_amount")),!1):null==$(t).val()||""==$(t).val()?(displayErrorMessage(Lang.get("js.net_amount_not_empty")),!1):0==$(t).val()?(displayErrorMessage(Lang.get("js.net_amount_not_zero")),!1):0==$(".medicineBill-quantity").val()||null==$(".medicineBill-quantity").val()||""==$(".medicineBill-quantity").val()?(displayErrorMessage(Lang.get("js.quantity_not_empty")),!1):($medicineBillId=$("#medicineBillId").val(),void $.ajax({url:route("medicine-bills.update",$medicineBillId),type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),setTimeout((function(){Turbo.visit(route("medicine-bills.index"))}),2e3))},error:function(e){displayErrorMessage(e.responseJSON.message)}}))})),listenClick(".delete-medicine-bill-item",(function(){var e=$(this).closest("tr"),t=e.find(".medicine-bill-amount").val(),a=e.find(".medicineBill-tax").val(),i=parseFloat(t)*parseFloat(a/100),n=parseFloat($("#medicineTotalTaxId").val())-parseFloat(i);$("#medicineTotalTaxId").val(n.toFixed(2));var r=parseFloat($("#total").val())-parseFloat(t);$("#total").val(r.toFixed(2));var s=parseFloat(i)+parseFloat(t),o=parseFloat($("#netAmount").val())-parseFloat(s);$("#netAmount").val(o.toFixed(2)),$(this).parents("tr").remove()}))})(),(()=>{"use strict";function e(e){$(e).select2({placeholder:Lang.get("js.select_bed_type"),width:"100%"})}function t(){var t=1;if($(".bulk-beds-item-container>tr").each((function(){$(this).find(".item-number").text(t),t++})),t-1==0){var a=$("#uniqueId").val(),i={services:JSON.parse($("#bedTypes").val()),uniqueId:a},n=prepareTemplateRender("#bulkBedActionTemplate",i);$(".bulk-beds-item-container").append(n),e(".bedType"),a++}}document.addEventListener("turbo:load",(function(){if(!$("#bulkBedsForm").length)return!1;e(".bedType")})),listenClick("#addNewBedItem",(function(){var a=$("#uniqueId").val(),i={bedTypes:JSON.parse($("#bedTypes").val()),uniqueId:a},n=prepareTemplateRender("#bulkBedActionTemplate",i);$(".bulk-beds-item-container").append(n),e(".bedType"),a++,$("#uniqueId").val(a),t()})),listenClick(".delete-invoice-item",(function(){$(this).parents("tr").remove(),t()})),listenSubmit("#bulkBedsForm",(function(e){e.preventDefault(),$(".bulk-button").prop("disabled",!0);var t=new FormData($(this)[0]);$.ajax({url:$("#bulkBedSaveUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),$(".bulk-button").prop("disabled",!1),window.location.href=$("#bulkBedUrl").val()},error:function(e){printErrorMessage("#validationErrorsBox",e),$(".bulk-button").prop("disabled",!1)}})}))})(),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#bed_filter_status").select2({width:"100%"}),function(){if(!$("#addNewBedsForm").length&&!$("#EditBedsForm").length)return!1;$("#editBedType").length&&$("#editBedType").select2({width:"100%",dropdownParent:$("#edit_beds_modal")})}()})),listenSubmit("#addNewBedsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#BedSaveBtn");t.button("loading"),$.ajax({url:$("#bedCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_beds_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#validationErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".bed-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).data("id");t=a,$.ajax({url:$(".bedUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#bedId").val(e.data.id),$("#editBedName").val(e.data.name),$("#editBedType").val(e.data.bed_type).trigger("change.select2"),$("#editBedDescription").val(e.data.description),$("#editBedCharge").val(e.data.charge),$(".price-input").trigger("input"),$("#edit_beds_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#EditBedsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditSave");t.button("loading");var a=$("#bedId").val();$.ajax({url:$(".bedUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_beds_modal").modal("hide"),$("#bedDetailShowUrl").length?window.location.href=$("#bedDetailShowUrl").val():Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_beds_modal",(function(){resetModalForm("#addNewBedsForm","#validationErrorsBox"),$("#bedType").trigger("change.select2")})),listenHiddenBsModal("#edit_beds_modal",(function(){resetModalForm("#EditBedsForm","#editValidationErrorsBox")})),listenShownBsModal("#add_beds_modal",(function(){$("#bedType").select2({width:"100%",dropdownParent:$("#add_beds_modal")})}))})(),(()=>{function loadMedicineCreateEditData(){$("#categoryId, #brandId").select2({width:"100%"})}function renderMedicineData(e){$.ajax({url:$("#medicinesShowModal").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#showMedicineName").text(e.data.name),$("#showMedicineBrand").text(e.data.brand.name),$("#showMedicineCategory").text(e.data.category.name),$("#showMedicineSaltComposition").text(e.data.salt_composition),$("#showMedicineSellingPrice").text($(".currentCurrency").val()+" "+addCommas(e.data.selling_price)),$("#showMedicineBuyingPrice").text($(".currentCurrency").val()+" "+addCommas(e.data.buying_price)),$("#showMedicineQuanity").text(addCommas(e.data.quantity)),$("#showMedicineAvailableQuanity").text(addCommas(e.data.available_quantity)),$("#showMedicineSideEffects").text(e.data.side_effects),$("#showMedicineCreatedOn").text(moment(e.data.created_at).fromNow()),$("#showMedicineUpdatedOn").text(moment(e.data.updated_at).fromNow()),$("#showMedicineDescription").text(e.data.description),setValueOfEmptySpan(),$("#showMedicine").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}function deleteMedicineAjax(url){var tableId=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,header=arguments.length>2?arguments[2]:void 0,callFunction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$.ajax({url,type:"DELETE",dataType:"json",success:function success(obj){obj.success&&obj.data&&swal({title:obj.message,text:$(".confirmVariable").val()+header+"?",icon:sweetAlertIcon,timer:3e3,buttons:{confirm:$(".yesVariable").val()+","+$(".deleteVariable").val(),cancel:$(".noVariable").val()+","+$(".cancelVariable").val()}}).then((function(e){e&&$.ajax({url,type:"DELETE",dataType:"json",data:{canDeleteCheck:"yes"},success:function(e){},error:function(e){swal({title:"",text:e.responseJSON.message,confirmButtonColor:"#009ef7",icon:"error",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})})),obj.success&&!obj.data&&(Livewire.dispatch("resetPage"),swal({icon:"success",title:$(".deletedVariable").val(),confirmButtonColor:"#f62947",text:header+" "+$(".hasBeenDeletedVariable").val(),timer:2e3,buttons:{confirm:$(".okVariable").val()}}),callFunction&&eval(callFunction))},error:function(e){swal({title:"",text:e.responseJSON.message,confirmButtonColor:"#009ef7",icon:"error",timer:5e3,buttons:{confirm:$(".okVariable").val()}})}})}document.addEventListener("turbo:load",loadMedicineCreateEditData),listenClick(".deleteMedicineBtn",(function(e){var t=$(e.currentTarget).attr("data-id");medicineDeleteItem(route("check.use.medicine",t),"#tblMedicines",$("#medicineLang").val())})),listenClick(".showMedicineBtn",(function(e){e.preventDefault(),renderMedicineData($(e.currentTarget).attr("data-id"))})),window.medicineDeleteItem=function(e){var t=arguments.length>2?arguments[2]:void 0;$.ajax({url:e,type:"GET",success:function(e){if(e.success){var a=1==e.data.result?Lang.get("js.medicine_bill_already_use"):$(".confirmVariable").val()+t+"?";swal({title:$(".deleteVariable").val()+"!",text:a,icon:sweetAlertIcon,buttons:{confirm:$(".yesVariable").val()+","+$(".deleteVariable").val(),cancel:$(".noVariable").val()+","+$(".cancelVariable").val()}}).then((function(a){a&&deleteMedicineAjax($("#indexMedicineUrl").val()+"/"+e.data.id,null,t,null)}))}},error:function(e){displayErrorMessage(e.responseJSON.message)}})}})(),(()=>{"use strict";$(document).ready((function(){var e=$("#qty");e.blur((function(){e.val()<0&&e.val(0)})),$("#brandId,#categoryId").select2({width:"100%"}),$("#medicineNameId").focus(),$("#createMedicine, #editMedicine").on("submit",(function(){$("#saveBtn").attr("disabled",!0)}))}))})(),listenSubmit("#addDocTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#docTypeSave");t.button("loading");var a={formSelector:$(this),url:$("#indexDocTypeCreateUrl").val(),type:"POST"};newRecord(a,t,"#add_document_types_modal")})),listenClick(".editDocTypBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexDocTypeUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#docTypeId").val(e.data.id),$("#editDocTypeName").val(e.data.name),$("#edit_document_types_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editDocTypForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDocTypeSave");t.button("loading");var a=$("#docTypeId").val(),i=$(".docTypeUrl").val()+"/"+a,n={formSelector:$(this),url:i,type:"PUT"};editRecordWithForm(n,t,"#edit_document_types_modal")})),listenClick(".deleteDocTypeBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexDocTypeUrl").val()+"/"+t,"#tblDocTypes",$("#documentTypeLang").val())})),listenHiddenBsModal("#add_document_types_modal",(function(){resetModalForm("#addDocTypeForm","#docTypeErrorsBox")})),(()=>{"use strict";function e(e,t,a){var i=$(e).val().split(".").pop().toLowerCase();return a.files[0].size>1e7?($(e).val(""),$(t).html("The document must be less than 10 mb").show(),setTimeout((function(){$(t).slideUp(500)}),5e3),!1):(Lang.setLocale($(".userCurrentLanguage").val()),-1==$.inArray(i,["png","jpg","jpeg","pdf","doc","docx","mp3","mp4"])&&($(t).html(Lang.get("js.document_file_size")).show(),setTimeout((function(){$(t).slideUp(500)}),5e3)),i)}document.addEventListener("turbo:load",(function(){if(!$("#addDocumentForm").length&&!$("#editDocumentForm").length)return!1;var e=$("#documentPatientId"),t=$("#documentTypeId"),a=$("#editDocumentPatientId"),i=$("#editDocumentTypeId");e.length&&$("#documentPatientId").select2({width:"100%",dropdownParent:$("#add_documents_modal")});t.length&&$("#documentTypeId").select2({width:"100%",dropdownParent:$("#add_documents_modal")});a.length&&$("#editDocumentPatientId").select2({width:"100%",dropdownParent:$("#edit_documents_modal")});i.length&&$("#editDocumentTypeId").select2({width:"100%",dropdownParent:$("#edit_documents_modal")})})),listenClick(".document-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexDocumentsUrl").val()+"/"+t,"",$("#documentLang").val())})),listenChange("#documentImage,#editDocumentImage",(function(){$(this).val()})),listenSubmit("#addDocumentForm",(function(e){if(e.preventDefault(),""!==$("#documentErrorsBox").text())return $("#documentImage").focus(),!1;var t=jQuery(this).find("#documentSave");t.button("loading");var a={formSelector:$(this),url:$("#indexDocumentsCreateUrl").val(),type:"POST"};newRecord(a,t,"#add_documents_modal")})),listenClick(".document-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexDocumentsUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editDocumentPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editDocumentPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):$("#editDocumentPreviewImage").css("background-image",'url("'+e.data.document_url+'")'),$("#editDocumentTypeId").val(e.data.document_type_id).trigger("change.select2"),$("#editDocumentPatientId").val(e.data.patient_id).trigger("change.select2"),$("#editDocumentTitle").val(e.data.title),isEmpty(e.data.document_url)?$("#editDocumentUrl").hide():$("#editDocumentUrl").attr("href",e.data.document_url),$("#documentId").val(e.data.id),$("#editDocumentNotes").val(e.data.notes),$("#edit_documents_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editDocumentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDocumentSave");t.button("loading");var a=$("#documentId").val(),i=$("#indexDocumentsUrl").val()+"/"+a+"/update",n={formSelector:$(this),url:i,type:"POST"};editRecord(n,t,"#edit_documents_modal")})),listenHiddenBsModal("#add_documents_modal",(function(){$("#documentTypeId").val(null).trigger("change"),$("#documentPatientId").val(null).trigger("change"),$("#documentPreviewImage").css("background-image","url("+$("#indexDefaultDocumentImageUrl").val()+")"),null,resetModalForm("#addDocumentForm","#documentErrorsBox")})),listenHiddenBsModal("#edit_documents_modal",(function(){resetModalForm("#editDocumentForm","#editDocumentErrorsBox")})),listenShownBsModal("#add_documents_modal,#edit_documents_modal",(function(){$("#documentTypeId,#documentPatientId").select2({width:"100%",dropdownParent:$("#add_documents_modal")}),$("#editDocumentTypeId,#editDocumentPatientId").select2({width:"100%",dropdownParent:$("#edit_documents_modal")})})),listenChange("#documentImages",(function(){var t=e($(this),"#documentErrorsBox",this);isEmpty(t)||0==t||($("#documentErrorsBox").html("").hide(),displayDocument(this,"#documentPreviewImage",t))})),listenChange("#editDocumentImages",(function(){var t=e($(this),"#editDocumentErrorsBox",this);isEmpty(t)||0==t||($("#editDocumentErrorsBox").html("").hide(),displayDocument(this,"#editPreviewImage",t))}))})(),listen("click",".notice-board-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".indexNoticeBoardUrl").val()+"/"+t,"",$("#noticeBoardLang").val())})),(()=>{"use strict";listenSubmit("#addNoticeBoardForm",(function(e){e.preventDefault(),$("#noticeBoardSave").attr("disabled",!0),$.ajax({url:$("#indexNoticeBoardCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_notice_boards_modal").modal("hide"),Livewire.dispatch("refresh"),$("#noticeBoardSave").attr("disabled",!1))},error:function(e){printErrorMessage("#noticeBoardErrorsBox",e),$("#noticeBoardSave").attr("disabled",!1)}})})),listen("click",".notice-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$(".indexNoticeBoardUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#noticeBoardId").val(e.data.id),$("#editNoticeBoardTitle").val(e.data.title),$("#editNoticeBoardDescription").val(e.data.description),$("#edit_notice_boards_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listen("click",".notice-view-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=e.currentTarget.dataset.id;$.ajax({url:$(".indexNoticeBoardUrl").val()+"/"+t,type:"GET",success:function(e){e.success&&($("#showNoticeBoardTitle").html(""),$("#showNoticeBoardDescription").html(""),$("#showNoticeBoardTitle").append(e.data.title),$("#showNoticeBoardDescription").append(e.data.description),$("#show_notice_boards_modal").appendTo("body").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editNoticeBoardsForm",(function(e){e.preventDefault(),$("#noticeBoardSave").attr("disabled",!0);var t=$("#noticeBoardId").val();$.ajax({url:$(".indexNoticeBoardUrl").val()+"/"+t,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_notice_boards_modal").modal("hide"),Livewire.dispatch("refresh"),$("#noticeBoardSave").attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$("#noticeBoardSave").attr("disabled",!1)}})})),listenHiddenBsModal("#add_notice_boards_modal",(function(){resetModalForm("#addNoticeBoardForm","#noticeBoardErrorsBox"),$("#noticeBoardSave").attr("disabled",!1)})),listenHiddenBsModal("#edit_notice_boards_modal",(function(){resetModalForm("#editNoticeBoardsForm","#editNoticeBoardErrorsBox")}))})(),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#bed_assign_filter_status").select2({width:"100%"})})),listenClick(".bed-assign-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bedAssignUrl").val()+"/"+t,"#bedAssignsTbl",$("#bedAssignLang").val())})),listenChange(".bed-assign-status",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bedAssignUrl").val()+"/"+ +t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})})),listen("click","#bedAssignResetFilter",(function(){$("#bed_assign_filter_status").val(0).trigger("change"),hideDropdownManually($("#bedAssignFilterBtn"),$(".dropdown-menu"))})),listenChange("#bed_assign_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()}),hideDropdownManually($("#bedAssignFilterBtn"),$("#bedAssignFilterDiv"))}))})(),document.addEventListener("turbo:load",(function(){var e;if(!$("#createBedAssign").length&&!$("#editBedAssign").length)return!1;var t=$("#caseId"),a=$("#BedAssignBedId"),i=$("#ipdPatientId");t.length&&($("#caseId").select2({width:"100%"}),$("#caseId").first().focus()),a.length&&$("#BedAssignBedId").select2({width:"100%"}),i.length&&$("#ipdPatientId").select2({placeholder:Lang.get("js.select_ipd_patient"),width:"100%"}),$("#BedAssignDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",minDate:new Date,locale:$(".userCurrentLanguage").val(),onChange:function(e,t,a){var i=moment($("#assignDate").val()).add(1,"days").format();void 0!==o&&o.set("minDate",i)}});var n=(null===(e=$("#editBedAssignDate").val())||void 0===e?void 0:e.split(" ")[0])||[];if($("#editBedAssignDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",defaultDate:$(this).val(),enable:[{from:n,to:new Date}],locale:$(".userCurrentLanguage").val(),onChange:function(e,t,a){var i=moment($("#assignDate").val()).add(1,"days").format();void 0!==o&&o.set("minDate",i)}}),$("#editBedAssign").length){setTimeout((function(){$("#caseId").trigger("change"),$("#BedAssignDate").trigger("dp.change")}),300);var r=$("#BedAssignDischargeDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),s=moment($("#BedAssignDate").val()).add(1,"days").format();r.set("minDate",s)}var o=void 0})),listenSubmit("#createBedAssign, #editBedAssign",(function(){$("#saveBtn").attr("disabled",!0),""!==$("#validationErrorsBox").text()&&$("#BedAssignSaveBtn").attr("disabled",!1)})),listenChange("#caseId",(function(){""!==$(this).val()&&$.ajax({url:$("#ipdPatientListUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#ipdPatientId").empty(),$("#ipdPatientId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#ipdPatientId").append($("<option></option>").attr("value",e).text(t))}))):$("#ipdPatientId").prop("disabled",!0)}}),$("#ipdPatientId").empty(),$("#ipdPatientId").append("<option>"+Lang.get("js.no_ipd_patient_found")+"</option>"),$("#ipdPatientId").prop("disabled",!0)})),(()=>{"use strict";listenClick(".delete-death-report-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".deathReportUrl").val()+"/"+t,"#deathReportsTbl",$("#deathReportLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#deathCaseId, #deathDoctorId").select2({width:"100%",dropdownParent:$("#addDeathReportModal")}),$("#editDeathCaseId, #editDeathDoctorId").select2({width:"100%",dropdownParent:$("#editDeathReportModal")}),$("#deathDate, #editDeathDate").flatpickr({dateFormat:"Y-m-d h:i K",useCurrent:!0,enableTime:!0,sideBySide:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()})})),listenSubmit("#addDeathReportNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnDRSave");t.button("loading"),$("#btnDRSave").attr("disabled",!0),$.ajax({url:route("death-reports.store"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addDeathReportModal").modal("hide"),Livewire.dispatch("refresh"),$("#btnDRSave").attr("disabled",!1))},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#btnDRSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".edit-death-report-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderDeathReportData(t)}})),window.renderDeathReportData=function(e){$.ajax({url:$(".deathReportUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#deathReportId").val(e.data.id),$("#editDeathCaseId").val(e.data.case_id).trigger("change.select2"),$("#editDeathDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editDescription").val(e.data.description),document.querySelector("#editDeathDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editDeathReportModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editDeathReportForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditDRSave");t.button("loading"),$("#btnEditDRSave").attr("disabled",!0);var a=$("#deathReportId").val();$.ajax({url:$(".deathReportUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editDeathReportModal").modal("hide"),Livewire.dispatch("refresh"),$("#btnEditDRSave").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#btnEditDRSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addDeathReportModal",(function(){resetModalForm("#addDeathReportNewForm","#drValidationErrorsBox"),$("#btnDRSave").attr("disabled",!1),$("#deathCaseId, #deathDoctorId").val("").trigger("change.select2")})),listenHiddenBsModal("#editDeathReportModal",(function(){$("#btnEditDRSave").attr("disabled",!1),resetModalForm("#editDeathReportForm","#editDRValidationErrorsBox")}))})(),document.addEventListener("turbo:load",(function(){if($("#language").select2({width:"100%",dropdownParent:$("#changeLanguageModal")}),!$("#phoneNum").length)return!1})),window.renderProfileData=function(){$.ajax({url:$(".profileUrl").val(),type:"GET",success:function(e){if(e.success){var t=e.data;$("#editUserId").val(t.id),$("#firstName").val(t.first_name),$("#lastName").val(t.last_name),$("#email").val(t.email),$("#phoneNum").val(t.phone?t.region_code+t.phone:""),$("#editPhoto").css("background-image",'url("'+t.image_url+'")'),$("#editProfileModal").modal("show"),$("#phoneNum").attr("placeholder",Lang.get("js.phone_number")),Lang.setLocale($(".userCurrentLanguage").val());var a=document.querySelector("#phoneNum"),i=document.querySelector("#errorMsg"),n=document.querySelector("#validMsg"),r=[Lang.get("js.invalid_number"),Lang.get("js.invalid_country_code"),Lang.get("js.too_short"),Lang.get("js.too_long"),Lang.get("js.invalid_number")];$(".isEdit").val()?$(".country-iso").val():defaultCountryCodeValue;var s=window.intlTelInput(a,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,t){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){var a=t&&t.country?t.country:"";e(a)}))},utilsScript:$(".utilsScript").val()}),o=function(){a.classList.remove("error"),i.innerHTML="",i.classList.add("d-none"),n.classList.add("d-none")};a.addEventListener("blur",(function(){if(o(),a.value.trim())if(s.isValidNumber())n.classList.remove("d-none");else{a.classList.add("error");var e=s.getValidationError();i.innerHTML=r[e]||$(".invalidNumber").val(),i.classList.remove("d-none")}})),a.addEventListener("change",o),a.addEventListener("keyup",o);var d=$(".phoneNo").val();if(void 0!==d&&""!==d&&setTimeout((function(){$("#phoneNum").trigger("change")}),500),listen("blur keyup change countrychange",(function(){void 0!==d&&""!==d&&(s.setNumber("+"+d),d="");var e=s.selectedCountryData.dialCode;$(".prefix-code").val(e)})),$(".isEdit").val()){var l=s.selectedCountryData.dialCode,c=s.selectedCountryData.iso2;$(".prefix-code").val(l),$(".country-iso").val(c)}$("#phoneNum").focus(),$("#phoneNum").blur();var u=$("#phoneNum").val().replace(/\s/g,"");$("#phoneNum").val(u)}}})},window.displayProfilePhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(i.readAsDataURL(e.files[0]),$(t).show())}},listenSubmit("#changePasswordForm",(function(e){if(e.preventDefault(),t=$("#pfCurrentPassword").val().trim(),a=$("#pfNewPassword").val().trim(),i=$("#pfNewConfirmPassword").val().trim(),!(""!=t&&""!=a&&""!=i||($("#editPasswordValidationErrorsBox").show().html(Lang.get("js.all_required_fields")),0)))return!1;var t,a,i,n=jQuery(this).find("#btnPrPasswordEditSave");n.button("loading"),$.ajax({url:$(".changePasswordUrl").val(),type:"post",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(e){e.success&&($("#changePasswordModal").modal("hide"),displaySuccessMessage(e.message))},error:function(e){manageAjaxErrors(e)},complete:function(){n.button("reset")}})})),listenSubmit("#editProfileForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnPrEditSave");t.button("loading"),$.ajax({url:$(".profileUpdateUrl").val(),type:"post",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),$("#editProfileModal").modal("hide"),setTimeout((function(){location.reload()}),2e3)},error:function(e){manageAjaxErrors(e,"editProfileValidationErrorsBox")},complete:function(){t.button("reset")}})})),listenSubmit("#changeLanguageForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnLanguageChange");t.button("loading"),$.ajax({url:$(".updateLanguageURL").val(),type:"post",data:new FormData($(this)[0]),processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),setTimeout((function(){location.reload()}),2e3)},error:function(e){manageAjaxErrors(e,"editProfileValidationErrorsBox")},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#editProfileModal",(function(){resetModalForm("#editProfileForm","#editProfileValidationErrorsBox"),$("#change-btn").show()})),listenClick(".editProfile",(function(e){$(e.currentTarget).attr("data-id"),renderProfileData()})),listenChange("#profileImage",(function(){var e=$(this).val().split(".").pop().toLowerCase();-1==$.inArray(e,["gif","png","jpg","jpeg"])?($(this).val(""),$("#editProfileValidationErrorsBox").html(Lang.get("js.image_must_be")).show()):displayProfilePhoto(this,"#editPhoto"),$("#change-btn").hide()})),listenClick(".changeType",(function(e){var t=$(this).parent().siblings();"password"==t.attr("type")?($(this).children().addClass("icon-eye"),$(this).children().removeClass("icon-ban"),t.attr("type","text")):($(this).children().removeClass("icon-eye"),$(this).children().addClass("icon-ban"),t.attr("type","password"))})),listenHiddenBsModal("#changePasswordModal",(function(){resetModalForm("#changePasswordForm","#editPasswordValidationErrorsBox")})),listenHiddenBsModal("#changeLanguageModal",(function(){$("#language").val($(".userCurrentLanguage").val()).trigger("change.select2")})),listenClick(".remove-profile-image",(function(){defaultImagePreview("#editPhoto",1)})),(()=>{"use strict";listenClick(".delete-birth-report-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".birthReportUrl").val()+"/"+t,"#birthReportsTbl",$("#birthReportLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#caseBrId, #birthDoctorId").select2({width:"100%",dropdownParent:$("#addBirthReportModal")}),$("#editBRCaseId, #editBirthDoctorId").select2({width:"100%",dropdownParent:$("#editBirthReportModal")}),$("#birthReportDate, #editBirthReportDate").flatpickr({dateFormat:"Y-m-d h:i K",useCurrent:!0,sideBySide:!0,enableTime:!0,maxDate:new Date,locale:$(".userCurrentLanguage").val()}),$("#addBirthReportModal, #editBirthReportModal").on("shown.bs.modal",(function(){$("#caseBrId, #editCaseId:first").focus()}))})),listenSubmit("#addBirthReportNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnBRSave");t.button("loading"),$("#btnBRSave").attr("disabled",!0),$.ajax({url:$(".birthReportUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addBirthReportModal").modal("hide"),Livewire.dispatch("refresh"),$("#btnBRSave").attr("disabled",!1))},error:function(e){printErrorMessage("#brValidationErrorsBox",e),$("#btnBRSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".edit-birth-report-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderBirthReportData(t)}})),window.renderBirthReportData=function(e){$.ajax({url:$(".birthReportUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#birthReportId").val(e.data.id),$("#editBRCaseId").val(e.data.case_id).trigger("change.select2"),$("#editBirthDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editDescription").val(e.data.description),document.querySelector("#editBirthReportDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editBirthReportModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editBirthReportForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditBRSave");t.button("loading"),$("#btnEditBRSave").attr("disabled",!0);var a=$("#birthReportId").val();$.ajax({url:$(".birthReportUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editBirthReportModal").modal("hide"),Livewire.dispatch("refresh"),$("#btnEditBRSave").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#btnEditBRSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addBirthReportModal",(function(){resetModalForm("#addBirthReportNewForm","#brValidationErrorsBox"),$("#caseBrId, #birthDoctorId").val("").trigger("change.select2"),$("#btnBRSave").attr("disabled",!1)})),listenHiddenBsModal("#editBirthReportModal",(function(){resetModalForm("#editBirthReportForm","#editBRValidationErrorsBox"),$("#btnEditBRSave").attr("disabled",!1)}))})(),listenClick(".delete-operation-reports-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#operationReportUrl").val()+"/"+t,"#operationReportsTable",$("#operationReportLang").val())})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#operationDoctorId, #operationCaseId").select2({width:"100%",dropdownParent:$("#addOperationsReportsModal")}),$("#editOperationDoctorId, #editOperationCaseId").select2({width:"100%",dropdownParent:$("#editOperationsReportsModal")}),$("#operationDate, #editOperationDate").flatpickr({dateFormat:"Y-m-d h:i K",useCurrent:!0,sideBySide:!0,enableTime:!0,locale:$(".userCurrentLanguage").val()}),listenHiddenBsModal("#addOperationsReportsModal, #editOperationsReportsModal",(function(){$("#operationCaseId, #editOperationCaseId:first").focus()}))})),listenSubmit("#addOperationReportForm",(function(e){e.preventDefault();var t=jQuery(this).find("#operationReportSave");t.button("loading"),$("#operationReportSave").attr("disabled",!0),$.ajax({url:$("#operationReportCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addOperationsReportsModal").modal("hide"),Livewire.dispatch("refresh"),$("#operationReportSave").attr("disabled",!1))},error:function(e){printErrorMessage("#orValidationErrorsBox",e),$("#operationReportSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".edit-operation-reports-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderOperationReportData(t)}})),window.renderOperationReportData=function(e){$.ajax({url:$("#operationReportUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#operationReportId").val(e.data.id),$("#editOperationCaseId").val(e.data.case_id).trigger("change.select2"),$("#editOperationDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editOperationDescription").val(e.data.description),document.querySelector("#editOperationDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editOperationsReportsModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editOperationReportsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editOperationSave");t.button("loading"),$("#editOperationSave").attr("disabled",!0);var a=$("#operationReportId").val();$.ajax({url:$("#operationReportUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editOperationsReportsModal").modal("hide"),Livewire.dispatch("refresh"),$("#editOperationSave").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#editOperationSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addOperationsReportsModal",(function(){resetModalForm("#addOperationReportForm","#orValidationErrorsBox"),$("#operationReportSave").attr("disabled",!1),$("#operationCaseId, #operationDoctorId").val("").trigger("change.select2")})),listenHiddenBsModal("#editOperationsReportsModal",(function(){resetModalForm("#editOperationReportsForm","#editOperationErrorsBox"),$("#editOperationSave").attr("disabled",!1)}))})(),Livewire.hook("element.init",(function(){$("#employee_payroll_filter_status").select2({width:"100%"}),listenClick("#employeePayrollResetFilter",(function(){$("#employee_payroll_filter_status").val(0).trigger("change"),hideDropdownManually($("#employeePayroll"),$(".dropdown-menu"))}))})),listenChange("#employee_payroll_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick(".employee-payroll-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#employeePayrollURL").val()+"/"+t,"#employeePayrollsTable",$("#employeePayrollLang").val())})),listenClick(".employee-payroll-show-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderEmployeePayrollsData(t)})),window.renderEmployeePayrollsData=function(e){$.ajax({url:$("#employeePayrollShowModal").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#employee_payroll_sr_no").text(e.data.sr_no),$("#payroll_id").text(e.data.payroll_id),$("#payroll_role").text(e.data.type_string),$("#employee_full_name").text(e.data.full_name),$("#payroll_month").text(e.data.month),$("#payroll_year").text(e.data.year),$("#employee_payroll_salary").text(addCommas(e.data.basic_salary)),$("#employee_payroll_allowance").text(addCommas(e.data.allowance)),$("#employee_payroll_deductions").text(addCommas(e.data.deductions)),$("#employee_payroll_net_salary").text(addCommas(e.data.net_salary)),$("#employee_payroll_status").empty(),1==e.data.status?$("#employee_payroll_status").append('<span class="badge bg-light-success">'+Lang.get("js.paid")+"</span>"):$("#employee_payroll_status").append('<span class="badge bg-light-danger">'+Lang.get("js.unpaid")+"</span>"),$("#employee_payroll_created_on").text(moment(e.data.created_at).fromNow()),$("#employee_payroll_updated_on").text(moment(e.data.updated_on).fromNow()),setValueOfEmptySpan(),$("#showEmployeePayrolls").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){$(".employeePayrollType,.EmployeePayrollOwnerType,.EmployeePayrollMonth,.EmployeePayrollStatus").select2({width:"100%"}),$(".price-input").trigger("input"),$("#employeePayrollType").focus()})),listenChange(".EmployeePayrollBasicSalary,.EmployeePayrollAllowance,.EmployeePayrollDeductions",(function(){var e=parseFloat(removeCommas($(".EmployeePayrollBasicSalary").val())),t=parseFloat(removeCommas($(".EmployeePayrollAllowance").val())),a=parseFloat(removeCommas($(".EmployeePayrollDeductions").val())),i=e+t-a;a>i&&($("#validationErrorsBox").removeClass("d-none"),$("#validationErrorsBox").text(Lang.get("js.deduction_not_greater_than_salary")).show(),$(".EmployeePayrollDeductions").val(null),a=0,setTimeout((function(){$("#validationErrorsBox").addClass("d-none"),$("#validationErrorsBox").text("")}),7e3)),isNaN(i)?$(".employeePayrollNetSalary").val(0):$(".employeePayrollNetSalary").val(i.toFixed(2)).trigger("input")})),listenChange(".employeePayrollType",(function(){""!==$(this).val()&&$.ajax({url:$(".employeeURL").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!=e.data.length?($(".EmployeePayrollOwnerType").empty(),$(".EmployeePayrollOwnerType").removeAttr("disabled"),$.each(e.data,(function(e,t){$(".EmployeePayrollOwnerType").append($("<option></option>").attr("value",e).text(t))}))):$(".EmployeePayrollOwnerType").trigger("change"),$(".isEdit").val()&&($(".EmployeePayrollOwnerType").val($("#employeeOwnerId").val()).trigger("change"),$(".isEdit").val(!1))}}),$(".EmployeePayrollOwnerType").empty(),$(".EmployeePayrollOwnerType").prepend('<option value="0">'+Lang.get("js.select_employee")+"</option>"),$(".EmployeePayrollOwnerType").prop("disabled",!0)})),listenSubmit("#createEmployeePayroll, #editEmployeePayroll",(function(){$(".btnSave").attr("disabled",!0)})),document.addEventListener("turbo:load",(function(){setTimeout((function(){$("#editEmployeePayrollType").trigger("change")}),1e3)})),Livewire.hook("element.init",(function(){$("#caseHead").select2({width:"100%"})})),listenClick(".delete-patient-case-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPatientCaseUrl").val()+"/"+t,"#casesTbl",$("#patientCaseLang").val())})),listenChange("#caseHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#caseResetFilter",(function(){$("#caseHead").val(0).trigger("change"),hideDropdownManually($("#caseFilterBtn"),$(".dropdown-menu"))})),listenChange(".patientCaseStatus",(function(e){var t=$(e.currentTarget).attr("data-id");caseActiveDeActiveStatus(t)})),window.caseActiveDeActiveStatus=function(e){$.ajax({url:$("#indexPatientCaseUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenClick(".show-patient-case-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderPatientCaseData(t)})),window.renderPatientCaseData=function(e){$.ajax({url:$("#patientCaseShowModal").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#case_id").text(e.data.case_id),$("#patient_name").text(e.data.patient.patient_user.full_name),$("#patient_phone").text(e.data.phone),$("#patient_doctor").text(e.data.doctor.doctor_user.full_name),$("#case_date").text(moment(e.data.date).format("Do MMM, Y h:mm A")),$("#case_fee").text($("#currentCurrency").val()+" "+addCommas(e.data.fee)),$("#description").text(e.data.description),$("#patientStatus").empty(),1==e.data.status?$("#patientStatus").append('<span class="badge bg-light-success">'.concat(Lang.get("js.active"),"</span>")):$("#patientStatus").append('<span class="badge bg-light-danger">'.concat(Lang.get("js.deactive"),"</span>")),$("#created_on").text(moment(e.data.created_at).fromNow()),$("#updated_on").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showPatientCase").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},document.addEventListener("turbo:load",(function(){($("#createPatientCaseForm").length||$("#editPatientCaseForm").length)&&($("#casePatientId, #caseDoctorId").select2({width:"100%"}),$("#caseDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),$("#casePatientId").focus(),$(".price-input").trigger("input"))})),listenSubmit("#createPatientCaseForm, #editPatientCaseForm",(function(){if($("#saveCaseBtn").attr("disabled",!0),""!==$(".error-msg").text())return $(".phoneNumber").focus(),$("#saveCaseBtn").attr("disabled",!1),!1})),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#sidebarFilterStatus").select2({width:"100%"}),$("#currencyType").select2({width:"100%"}),listenChange("#appLogo , #favicon",(function(){$("#generalValidationErrorsBox").addClass("d-none"),isValidLogo($(this),"#generalValidationErrorsBox")&&displayLogo(this,"#logoPreviewImage")})),listenKeyup("#generalFacebookUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#generalTwitterUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#generalInstagramUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#generalLinkedInUrl",(function(){this.value=this.value.toLowerCase()})),listen("change","#sidebarFilterStatus",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),window.isValidLogo=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["jpg","png","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html(Lang.get("js.image_must_be")).show().delay(5e3).slideUp(300),!1):($(t).hide(),!0)},window.displayLogo=function(e,t){var a=!0;if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){if(60!=i.height&&90!=i.width)return $(t).val(""),$("#generalValidationErrorsBox").removeClass("d-none"),$("#generalValidationErrorsBox").html($(".settingImageValidation").val()).show(),!1;$(t).attr("src",e.target.result),a=!0}},a&&(i.readAsDataURL(e.files[0]),$(t).show())}},listenClick("#resetSidebarFilter",(function(){$("#sidebarFilterStatus").val(0).trigger("change"),hideDropdownManually($("#sidebarDropdownbtn"),$(".dropdown-menu"))}))})),listen("change",".sidebar-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateSidebarSettingStatus(t)})),window.updateSidebarSettingStatus=function(e){$.ajax({url:$("#moduleURL").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(setTimeout((function(){window.location.reload()}),5e3),displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenSubmit("#createHospitalSetting",(function(){if(""!==$("#error-msg").text())return $("#phoneNumber").focus(),!1;var e=$("#generalFacebookUrl").val(),t=$("#generalTwitterUrl").val(),a=$("#generalInstagramUrl").val(),i=$("#generalLinkedInUrl").val(),n=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i);return""!=e&&!e.match(n)?(displayErrorMessage(Lang.get("js.please_enter_valid_facebook_url")),!1):""!=t&&!t.match(r)?(displayErrorMessage(Lang.get("js.please_enter_valid_twitter_url")),!1):""!=a&&!a.match(s)?(displayErrorMessage(Lang.get("js.please_enter_valid_Instagram_url")),!1):""==i||!!i.match(o)?void 0:(displayErrorMessage(Lang.get("js.please_enter_valid_Instagram_url")),!1)}))})(),document.addEventListener("turbo:load",(function(){$("#stripeEnable").is(":checked")?$(".stripe-div").removeClass("d-none"):$(".stripe-div").addClass("d-none"),$("#paypalEnable").is(":checked")?$(".paypal-div").removeClass("d-none"):$(".paypal-div").addClass("d-none"),$("#razorpayEnable").is(":checked")?$(".razorpay-div").removeClass("d-none"):$(".razorpay-div").addClass("d-none"),$("#paytmEnable").is(":checked")?$(".paytm-div").removeClass("d-none"):$(".paytm-div").addClass("d-none"),$("#paystackEnable").is(":checked")?$(".paystack-div").removeClass("d-none"):$(".paystack-div").addClass("d-none"),$("#phonePeEnable").is(":checked")?$(".phonepe-div").removeClass("d-none"):$(".phonepe-div").addClass("d-none"),$("#flutterWaveEnable").is(":checked")?$(".flutterWave-div").removeClass("d-none"):$(".flutterWave-div").addClass("d-none")})),listen("change","#stripeEnable",(function(){$("#stripeEnable").is(":checked")?$(".stripe-div").removeClass("d-none"):$(".stripe-div").addClass("d-none")})),listen("change","#paypalEnable",(function(){$("#paypalEnable").is(":checked")?$(".paypal-div").removeClass("d-none"):$(".paypal-div").addClass("d-none")})),listen("change","#razorpayEnable",(function(){$("#razorpayEnable").is(":checked")?$(".razorpay-div").removeClass("d-none"):$(".razorpay-div").addClass("d-none")})),listen("change","#paytmEnable",(function(){$("#paytmEnable").is(":checked")?$(".paytm-div").removeClass("d-none"):$(".paytm-div").addClass("d-none")})),listen("change","#paystackEnable",(function(){$("#paystackEnable").is(":checked")?$(".paystack-div").removeClass("d-none"):$(".paystack-div").addClass("d-none")})),listen("change","#phonePeEnable",(function(){$("#phonePeEnable").is(":checked")?$(".phonepe-div").removeClass("d-none"):$(".phonepe-div").addClass("d-none")})),listen("change","#flutterWaveEnable",(function(){$("#flutterWaveEnable").is(":checked")?$(".flutterWave-div").removeClass("d-none"):$(".flutterWave-div").addClass("d-none")})),listenSubmit("#UserCredentialsSettings",(function(e){e.preventDefault();var t=$("#stripeEnable").is(":checked"),a=$("#paypalEnable").is(":checked"),i=$("#razorpayEnable").is(":checked"),n=$("#paytmEnable").is(":checked"),r=$("#paystackEnable").is(":checked"),s=$("#phonePeEnable").is(":checked"),o=$("#flutterWaveEnable").is(":checked");return t&&""==$("#stripeKey").val().trim()?(displayErrorMessage(Lang.get("js.stripe_key")),!1):t&&""==$("#stripeSecret").val().trim()?(displayErrorMessage(Lang.get("js.stripe_secret")),!1):a&&""==$("#paypalKey").val().trim()?(displayErrorMessage(Lang.get("js.paypal_client_id")),!1):a&&""==$("#paypalSecret").val().trim()?(displayErrorMessage(Lang.get("js.paypal_secret")),!1):a&&""==$("#paypalMode").val().trim()?(displayErrorMessage(Lang.get("js.paypal_mode")),!1):i&&""==$("#razorpayKey").val().trim()?(displayErrorMessage(Lang.get("js.razorpay_key")),!1):i&&""==$("#razorpaySecret").val().trim()?(displayErrorMessage(Lang.get("js.razor_pay_secret")),!1):n&&""==$("#paytmMerchantId").val().trim()?(displayErrorMessage(Lang.get("js.paytm_id")),!1):n&&""==$("#paytmMerchantKey").val().trim()?(displayErrorMessage(Lang.get("js.paytm_key")),!1):r&&""==$("#paystackPublicKey").val().trim()?(displayErrorMessage(Lang.get("js.paystack_key")),!1):r&&""==$("#paystackSecretKey").val().trim()?(displayErrorMessage(Lang.get("js.paystack_secret")),!1):s&&""==$(".phonepe_merchant_id").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_merchant_id")),!1):s&&""==$(".phonepe_merchant_user_id").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_merchant_user_id")),!1):s&&""==$(".phonepe_env").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_env")),!1):s&&""==$(".phonepe_salt_key").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_salt_key")),!1):s&&""==$(".phonepe_salt_index").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_salt_index")),!1):s&&""==$(".phonepe_merchant_transaction_id").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_merchant_transaction_id")),!1):o&&""==$(".flutterwave_public_key").val().trim()?(displayErrorMessage(Lang.get("js.flutterWave_public_key")),!1):o&&""==$(".flutterwave_secret_key").val().trim()?(displayErrorMessage(Lang.get("js.flutterWave_secret_key")),!1):void $("#UserCredentialsSettings")[0].submit()})),document.addEventListener("turbo:load",(function(){var e=$("#captchaEnableAdmin").is(":checked"),t=$("#stripeEnableAdmin").is(":checked"),a=$("#paypalEnableAdmin").is(":checked"),i=$("#razorpayEnableAdmin").is(":checked"),n=$("#paystackEnableAdmin").is(":checked"),r=$("#phonepeEnableAdmin").is(":checked"),s=$("#flutterwaveEnableAdmin").is(":checked");if(e?$(".captcha-div").removeClass("d-none"):$(".captcha-div").addClass("d-none"),t?$(".stripe-div-admin").removeClass("d-none"):$(".stripe-div-admin").addClass("d-none"),a?$(".paypal-div-admin").removeClass("d-none"):$(".paypal-div-admin").addClass("d-none"),i?$(".razorpay-div-admin").removeClass("d-none"):$(".razorpay-div-admin").addClass("d-none"),n?$(".paystack-div-admin").removeClass("d-none"):$(".paystack-div-admin").addClass("d-none"),r?$(".phonepe-div-admin").removeClass("d-none"):$(".phonepe-div-admin").addClass("d-none"),s?$(".flutterwave-div-admin").removeClass("d-none"):$(".flutterwave-div-admin").addClass("d-none"),void 0!==$("#footerSettingPhoneNumber").val()&&""!==$("#footerSettingPhoneNumber").val()&&$(".phoneNumber").trigger("blur"),$("#defaultCountryCode").length){var o=document.querySelector("#defaultCountryData"),d=window.intlTelInput(o,{initialCountry:defaultCountryCodeValue,separateDialCode:!0,geoIpLookup:function(e,t){$.get("https://ipinfo.io",(function(){}),"jsonp").always((function(t){var a=t&&t.country?t.country:"";e(a)}))},utilsScript:"../../public/assets/js/inttel/js/utils.min.js"}),l=d.selectedCountryData.name+"+"+d.selectedCountryData.dialCode;$("#defaultCountryData").val(l)}$("#defaultLanguage").select2({width:"100%"}),$("#footerSettingPhoneNumber").length})),listenChange("#appLogo",(function(){$("#validationErrorsBox").addClass("d-none"),isValidLogo($(this),"#validationErrorsBox")&&displayLogo(this,"#previewImage")})),listenSubmit("#createSetting",(function(e){e.preventDefault();var t=$("#captchaEnableAdmin").is(":checked");return t&&""==$("#captchaKey").val().trim()?(displayErrorMessage(Lang.get("js.captcha_key")),!1):t&&""==$("#captchaSecret").val().trim()?(displayErrorMessage(Lang.get("js.captcha_secret")),!1):($("#createSetting")[0].submit(),!0)})),listenSubmit("#adminPaymentForm",(function(e){e.preventDefault();var t=$("#stripeEnableAdmin").is(":checked"),a=$("#paypalEnableAdmin").is(":checked"),i=$("#paystackEnableAdmin").is(":checked"),n=$("#phonepeEnableAdmin").is(":checked"),r=$("#flutterwaveEnableAdmin").is(":checked");return t&&""==$("#StripeAdminKey").val().trim()?(displayErrorMessage(Lang.get("js.stripe_key")),!1):t&&""==$("#StripeAdminSecret").val().trim()?(displayErrorMessage(Lang.get("js.stripe_secret")),!1):a&&""==$("#paypalKeyAdmin").val().trim()?(displayErrorMessage(Lang.get("js.paypal_client_id")),!1):a&&""==$("#paypalSecretAdmin").val().trim()?(displayErrorMessage(Lang.get("js.paypal_secret")),!1):a&&""==$("#paypalModeAdmin").val().trim()?(displayErrorMessage(Lang.get("js.paypal_mode")),!1):""!=$("#razorpayKeyAdmin").val().trim()&&""==$("#razorpaySecretAdmin").val().trim()?(displayErrorMessage(Lang.get("js.razor_pay_secret")),!1):""!=$("#razorpaySecretAdmin").val().trim()&&""==$("#razorpayKeyAdmin").val().trim()?(displayErrorMessage(Lang.get("js.razorpay_key")),!1):i&&""==$("#paystackAdminKey").val().trim()?(displayErrorMessage(Lang.get("js.paystack_key")),!1):i&&""==$("#paystackAdminSecret").val().trim()?(displayErrorMessage(Lang.get("js.paystack_secret")),!1):n&&""==$("#phonepeMerchantId").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_merchant_id")),!1):n&&""==$("#phonepeMerchantUserId").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_merchant_user_id")),!1):n&&""==$("#phonepeEnv").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_env")),!1):n&&""==$("#phonepeSaltKey").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_salt_key")),!1):n&&""==$("#phonepeSaltIndex").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_salt_index")),!1):n&&""==$("#phonepeMerchantTransactionId").val().trim()?(displayErrorMessage(Lang.get("js.phonepe_merchant_transaction_id")),!1):r&&""==$("#flutterwaveAdminKey").val().trim()?(displayErrorMessage(Lang.get("js.flutterWave_public_key")),!1):r&&""==$("#flutterwaveAdminSecret").val().trim()?(displayErrorMessage(Lang.get("js.flutterWave_secret_key")),!1):($("#adminPaymentForm")[0].submit(),!0)})),window.isValidLogo=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["jpg","png","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html(Lang.get("js.image_must_be")).show(),!1):($(t).hide(),!0)},window.displayLogo=function(e,t){var a=!0;if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(i.readAsDataURL(e.files[0]),$(t).show())}},listenClick(".iti__standard",(function(){$("#defaultCountryData").val($(this).text()),$(this).attr("data-country-code"),$("#defaultCountryCode").val($(this).attr("data-country-code"))})),listenClick("#resetFilter",(function(){$("#filter_status").val("2").trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")})),listenSubmit("#superAdminFooterSettingForm",(function(e){if(e.preventDefault(),""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;var t=$("#facebookUrl").val(),a=$("#twitterUrl").val(),i=$("#instagramUrl").val(),n=$("#linkedInUrl").val(),r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),d=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i);return""==t||t.match(r)?""==a||a.match(s)?""!=i&&!i.match(o)||""!=n&&!n.match(d)?(displayErrorMessage(Lang.get("js.please_enter_valid_Instagram_url")),!1):($("#superAdminFooterSettingForm")[0].submit(),!0):(displayErrorMessage(Lang.get("js.please_enter_valid_twitter_url")),!1):(displayErrorMessage(Lang.get("js.please_enter_valid_facebook_url")),!1)})),listenClick(".iti__standard,.iti__preferred",(function(){$("#defaultCountryData").val($(this).text()),$("#defaultCountryCode").val($(this).attr("data-country-code"))})),listen("change","#captchaEnableAdmin",(function(){$("#captchaEnableAdmin").is(":checked")?$(".captcha-div").removeClass("d-none"):$(".captcha-div").addClass("d-none")})),listen("change","#stripeEnableAdmin",(function(){$("#stripeEnableAdmin").is(":checked")?$(".stripe-div-admin").removeClass("d-none"):$(".stripe-div-admin").addClass("d-none")})),listen("change","#paypalEnableAdmin",(function(){$("#paypalEnableAdmin").is(":checked")?$(".paypal-div-admin").removeClass("d-none"):$(".paypal-div-admin").addClass("d-none")})),listen("change","#razorpayEnableAdmin",(function(){$("#razorpayEnableAdmin").is(":checked")?$(".razorpay-div-admin").removeClass("d-none"):$(".razorpay-div-admin").addClass("d-none")})),listen("change","#paystackEnableAdmin",(function(){$("#paystackEnableAdmin").is(":checked")?$(".paystack-div-admin").removeClass("d-none"):$(".paystack-div-admin").addClass("d-none")})),listen("change","#phonepeEnableAdmin",(function(){$("#phonepeEnableAdmin").is(":checked")?$(".phonepe-div-admin").removeClass("d-none"):$(".phonepe-div-admin").addClass("d-none")})),listen("change","#flutterwaveEnableAdmin",(function(){$("#flutterwaveEnableAdmin").is(":checked")?$(".flutterwave-div-admin").removeClass("d-none"):$(".flutterwave-div-admin").addClass("d-none")})),(()=>{"use strict";listenClick(".doctor-department-delete-btn",(function(e){var t=e.currentTarget.dataset.id;deleteItem($("#indexDoctorDepartmentUrl").val()+"/"+t,"#doctorsDepartmentsTable",$("#doctorDepartmentLang").val())})),listenSubmit("#addDoctorDepartmentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#doctorDepartmentSave");t.button("loading"),$.ajax({url:$("#indexDoctorDepartmentCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_doctor_departments_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#doctorDepartmentErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".doctor-department-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=e.currentTarget.dataset.id;t=a,$.ajax({url:$("#indexDoctorDepartmentUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#doctorDepartmentId").val(e.data.id),$("#editDoctorDepartmentTitle").val(e.data.title),$("#editDoctorDepartmentDescription").val(e.data.description),$("#edit_doctor_departments_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editDoctorDepartmentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDoctorDepartmentSave");t.button("loading");var a=$("#doctorDepartmentId").val();$.ajax({url:$("#indexDoctorDepartmentUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_doctor_departments_modal").modal("hide"),$("#showDoctorDepartmentUrl").length?window.location.href=$("#showDoctorDepartmentUrl").val():Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_doctor_departments_modal",(function(){resetModalForm("#addDoctorDepartmentForm","#doctorDepartmentErrorsBox")})),listenHiddenBsModal("#edit_doctor_departments_modal",(function(){resetModalForm("#editDoctorDepartmentForm","#editDoctorDepartmentErrorsBox")}))})(),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#filterInReportStatus").select2({width:"100%"}),listenClick("#resetInReportFilter",(function(){$("#filterInReportStatus").val(2).trigger("change"),hideDropdownManually($("#investigationReportMenuButton"),$(".dropdown-menu"))})),listenChange("#filterInReportStatus",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick(".delete-in-report-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexInvestigationReportUrl").val()+"/"+t,"#investigationReportTable",$("#investigationReportLang").val())}))}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#date").flatpickr({format:"YYYY-MM-DD HH:mm:ss",useCurrent:!0,sideBySide:!0,enableTime:!0,locale:$(".userCurrentLanguage").val()}),$(".patient-in-report-id,.doctor-in-report-id,.status-in-report").select2({width:"100%"}),$("#createInvestigationForm, #editInvestigationForm").find("input:text:visible:first").focus()})),listenChange("#investigationAttachment",(function(){var e=isValidAttachmentDocument($(this),"#validationErrorsBox");isEmpty(e)||0==e||($("#validationErrorsBox").html("").hide(),"pdf"===e?$("#previewImage").css("background-image","url("+$("#pdfDocumentImageUrl").val()+")"):"doc"===e&&$("#previewImage").css("background-image","url("+$("#docxDocumentImageUrl").val()+")"))})),window.isValidAttachmentDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html(Lang.get("js.document_must_be_file_type")).show(),a},listenClick(".remove-image",(function(){defaultImagePreview("#previewImage")}))})(),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#account_filter_status,#account_filter_type").select2({width:"100%"}),function(){if(!$("#addAccountForm").length&&!$("#editAccountForm").length);}()})),listenChange(".account-status",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$(".indexAccountUrl").val()+"/"+ +t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})})),listenSubmit("#addAccountForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnAccountSave");t.button("loading");var a={formSelector:$(this),url:$("#indexAccountCreateUrl").val(),type:"POST"};newRecord(a,t,"#add_accounts_modal")})),listenSubmit("#editAccountForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editAccountSave");t.button("loading");var a=$("#accountId").val(),i=$("#indexAccountUrl").val()+"/"+ +a,n={formSelector:$(this),url:i,type:"PUT"};$("#accountShowUrl").length?(editRecordWithForm(n,t,"#edit_accounts_modal"),window.location.href=$("#accountShowUrl").val()):editRecordWithForm(n,t,"#edit_accounts_modal")})),listen("click",".account-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexAccountUrl").val()+"/"+ +t+"/edit",type:"GET",success:function(e){e.success&&($("#accountId").val(e.data.id),$("#editName").val(e.data.name),$("#editDescription").val(e.data.description),e.data.status&&$("#editIsActive").val(1).prop("checked",!0),1==e.data.type?$("#editDebit").prop("checked",!0):$("#editCredit").prop("checked",!0),$("#edit_accounts_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listen("click",".account-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexAccountUrl").val()+"/"+ +t,"",$("#account").val())})),listenChange("#account_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange("#account_filter_type",(function(){Livewire.dispatch("changeTypeFilter",{typeFilter:$(this).val()})})),listen("click","#accountResetFilter",(function(){$("#account_filter_status, #account_filter_type").val(0).trigger("change"),hideDropdownManually($("#accountFilterBtn"),$(".dropdown-menu"))})),listenHiddenBsModal("#add_accounts_modal",(function(){resetModalForm("#addAccountForm","#validationErrorsBox")})),listenHiddenBsModal("#edit_accounts_modal",(function(){resetModalForm("#editAccountForm","#editValidationErrorsBox")}))})(),listenClick(".insurances-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexInsuranceUrl").val()+"/"+t,"#insurancesTbl",$("#insuranceLang").val())})),listenChange(".insuranceStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updateInsuranceStatus(t)})),listenClick("#insuranceResetFilter",(function(){$("#filter_status").val(2).trigger("change")})),window.updateInsuranceStatus=function(e){$.ajax({url:$("#indexInsuranceUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenChange("#insurancesFilterStatus",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#insuranceResetFilter",(function(){$("#insurancesFilterStatus").val(0).trigger("change"),hideDropdownManually($("#insuranceFilterBtn"),$(".dropdown-menu"))})),(()=>{Livewire.hook("element.init",(function(){$("#insurancesFilterStatus").select2({width:"100%"}),function(){$(".price-input").trigger("input"),$(".insuranceDiscount").val()<0&&$(".discount").val(0);$(".addInsuranceItem").val()<0&&$(".discount").val(0);$("#insuranceDiscountId").blur((function(){0==$("#insuranceDiscountId").val().length&&$("#insuranceDiscountId").val(0)})),$(".insuranceForm").find("input:text:visible:first").focus(),window.isInsuranceNumberKey=function(e,t){var a=e.which?e.which:event.keyCode;return!((46!==a||-1!==$(t).val().indexOf("."))&&(a<48||a>57))},listenChange(".service-tax, .discount, .hospital-rate, .disease-charge",(function(){calculateAndSetInsuranceAmount()})),window.calculateAndSetInsuranceAmount=function(){var e=0,t=parseInt(""!==$(".service-tax").val()?removeCommas($(".service-tax").val()):0),a=parseInt(""!==$(".hospital-rate").val()?removeCommas($(".hospital-rate").val()):0),i=parseFloat($(".discount").val());e=t+a,$(".disease-item-container>tr").each((function(){var t=parseInt(""!=$(this).find(".disease-charge").val()?removeCommas($(this).find(".disease-charge").val()):0);e+=t})),e-=e*i/100,$("#insuranceTotal").text(addCommas(e.toFixed(2))),$("#insuranceTotal_amount").val(e)}}()})),listenSubmit("#insuranceForm",(function(e){e.preventDefault(),$("#insuranceSaveBtn").attr("disabled",!0),jQuery(this).find("#insuranceSaveBtn").button("loading");var t=new FormData($(this)[0]);$.ajax({url:$(".insuranceSaveUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".insuranceUrl").val(),$("#insuranceSaveBtn").attr("disabled",!1)},error:function(e){printErrorMessage("#insuranceValidationErrorsBox",e),$("#insuranceSaveBtn").attr("disabled",!1)}})}));var e=$(".insuranceUniqueId").val();function t(){var e=1;$(".disease-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++})),e-1==0&&($("#insuranceTotal").text("0"),$("#insuranceBillTbl tbody").append('<tr><td class="text-center item-number">1</td><td><input class="form-control disease-name" required name="disease_name[]" type="text"></td><td><input class="form-control disease-charge price-input" required name="disease_charge[]" type="text"></td><td class="text-center"><a href="javascript:void(0)" title="{{__(\'messages.common.delete\')}}"  class="delete-disease btn px-1 text-danger fs-3 pe-0">\n                    <i class="fa-solid fa-trash"></i>\n                            </a></td></tr>'))}listenClick("#addInsuranceItem",(function(){var a=prepareTemplateRender("#insuranceDiseaseTemplate",{uniqueId:e});$(".disease-item-container").append(a),e++,t()})),listenClick(".delete-disease",(function(){$(this).parents("tr").remove(),t(),calculateAndSetInsuranceAmount()}))})(),listenClick(".payment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#paymentURL").val()+"/"+t,"#paymentsTbl",$("#paymentLang").val())})),listenClick(".payment-show-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderPaymentData(t)})),window.renderPaymentData=function(e){$.ajax({url:$("#paymentShowURL").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#payment_account").text(e.data.account.name),$("#payment_date").text(moment(e.data.payment_date).format("Mo MMM, YYYY")),$("#payment_pay_to").text(e.data.pay_to),$("#payment_amount").text(e.data.amount),$("#payment_created_on").text(moment(e.data.created_at).fromNow()),$("#payment_updated_on").text(moment(e.data.updated_at).fromNow()),$("#payment_description").text(e.data.description),$("#payment_description").css("overflow-wrap","break-word"),setValueOfEmptySpan(),$("#showPayment").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},Livewire.hook("element.init",(function(){$("#filterPaymentAccount").select2({width:"100%"}),$("#filterPaymentAccount").select2({width:"100%"})})),listenChange("#filterPaymentAccount",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#resetPaymentReportFilter",(function(){$("#filterPaymentAccount").val(0).trigger("change"),hideDropdownManually($("#paymentReportFilter"),$(".dropdown-menu"))})),document.addEventListener("turbo:load",(function(){$("#paymentDate").flatpickr({dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("select").focus(),$(".price-input").trigger("input")})),(()=>{"use strict";function e(e){$.ajax({url:$(".hospitalScheduleRoute").val(),type:"POST",data:e,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),setTimeout((function(){location.reload()}),1500))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})}listenSubmit("#saveForm",(function(t){t.preventDefault();var a=new FormData($(this)[0]);$.ajax({url:$(".checkRecords").val(),type:"POST",data:$(this).serialize(),cache:!1,success:function(t){e(a)},error:function(t){swal({title:Lang.get("js.warning"),text:t.responseJSON.message,icon:"warning",buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()}}).then((function(t){t&&e(a)}))}})})),listen("change",'select[name^="startTimes"]',(function(e){var t=$(this)[0].selectedIndex,a=$(this).closest(".weekly-row").find('select[name^="endTimes"] option');a.eq(t+1).prop("selected",!0).trigger("change"),a.each((function(e){e<=t?$(this).attr("disabled",!0):$(this).attr("disabled",!1)}))}))})(),Livewire.hook("element.init",(function(){$("#invoice_status_filter").select2({width:"100%"}),listen("click","#resetEmployeeInvoiceFilter",(function(){$("#invoice_status_filter").val(2).trigger("change"),hideDropdownManually($("#invoiceFilterBtn"),$(".dropdown-menu"))}))})),listen("click",".deleteInvoicesBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexInvoiceUrl").val()+"/"+t,"",$("#invoiceLang").val())})),listenChange("#invoice_status_filter",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listen("click",".sendInvoiceBtn",(function(e){e.preventDefault();var t=$(this);t.text(Lang.get("js.sending")),t.attr("disabled",!0),$.ajax({url:$("#sendInvoiceRouteId").val(),type:"GET",success:function(e){e.success&&(t.text(Lang.get("js.send_mail")),displaySuccessMessage(e.message),setTimeout((function(){t.attr("disabled",!1)}),6e3))},error:function(e){t.attr("disabled",!1),manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),(()=>{document.addEventListener("turbo:load",(function(){if(!$(".invoiceSaveUrl"))return;$('input:text:not([readonly="readonly"])').first().blur(),$("#invoicePatientId").focus(),t(".accountId"),$("#invoice_date").flatpickr({defaultDate:new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#editInvoiceDate").flatpickr({dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),window.isNumberKey=function(e,t){var a=e.which?e.which:event.keyCode;return!((46!==a||-1!==$(t).val().indexOf("."))&&(a<48||a>57))},listenClick(".deleteInvoiceItem",(function(){$(this).parents("tr").remove(),e(),i()})),listenKeyup(".qty",(function(){var e=parseFloat($(this).val()),t=$(this).parent().siblings().find(".price").val();t=parseFloat(removeCommas(t));var n=a(e,t);$(this).parent().siblings(".amount").text(addCommas(n.toFixed(2))),i()})),listenKeyup(".price",(function(){var e=$(this).val();e=parseFloat(removeCommas(e));var t=parseFloat($(this).parent().siblings().find(".qty").val()),n=a(t,e);$(this).parent().siblings(".amount").text(addCommas(n.toFixed(2))),i()}));var a=function(e,t){return e>0&&t>0?e*t:0},i=function(){var e=0;$(".invoice-item-container>tr").each((function(){var t=$(this).find(".item-total").text();t=removeCommas(t),t=isEmpty($.trim(t))?0:parseFloat(t),e+=t})),e=parseFloat(e),$("#total").text(addCommas(e.toFixed(2))),$("#total_amount").val(e),n()},n=function(){var e=$("#discount").val(),t=removeCommas($("#total").text());(isEmpty(e)||isEmpty(t))&&(e=0);var a=t*e/100,i=t-a;$("#finalAmount").text(addCommas(i.toFixed(2))),$("#total_amount").val(i.toFixed(2)),$("#discountAmount").text(addCommas(a.toFixed(2)))};listenKeyup("#discount",(function(e){n()}))})),listenSubmit(".invoiceForm",(function(e){e.preventDefault();var t=new FormData($(this)[0]);$.ajax({url:$(".invoiceSaveUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".invoiceUrl").val()+"/"+e.data.id},error:function(e){printErrorMessage("#validationErrorsBox",e)}})})),listenClick("#addInvoiceItem",(function(){var a=$(".uniqueId").val(),i={accounts:JSON.parse($(".invoiceAccounts").val()),uniqueId:a},n=prepareTemplateRender("#invoiceItemTemplate",i);$(".invoice-item-container").append(n),t(".accountId"),a++,e()}));var e=function(){var e=1;if($(".invoice-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++})),e-1==0){var a=$(".uniqueId").val(),i={accounts:JSON.parse($(".invoiceAccounts").val()),uniqueId:a},n=prepareTemplateRender("#invoiceItemTemplate",i);$(".invoice-item-container").append(n),t(".accountId"),a++}};function t(e){$(e).select2({placeholder:Lang.get("js.select_account"),width:"100%"})}})(),listenClick(".delete-schedule-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexScheduleUrl").val()+"/"+t,"#schedulesTbl",$("#scheduleLang").val())})),document.addEventListener("turbo:load",(function(){if($(".scheduleForm").length){$("#doctorId, #serialVisibilityId").select2({width:"100%"}),$(".perPatientTime").flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,locale:$(".userCurrentLanguage").val()}),$("#doctorId").first().focus();var e=[],t=[];$.each(JSON.parse($(".hospitalSchedule").val()),(function(a,i){e[a]=parseInt(i.day_of_week),t[i.day_of_week]=[i.start_time,i.end_time]}));var a=0;for($(".perPatientTime").val();a<=7;a++)-1!==$.inArray(a,e)?(e.sort(),$(".cpy-btn"+(e[0]-1)).hide(),$(".hospitalScheduleFrom-"+a).flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,minTime:t[a][0],locale:$(".userCurrentLanguage").val()}),hospitalToSchedule=$(".hospitalScheduleTo-"+a).flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,locale:$(".userCurrentLanguage").val(),minTime:t[a][0].split(":")[0]+":"+parseInt(t[a][0].split(":")[1])+5,maxTime:t[a][1]})):$(".hospitalScheduleFrom-"+a).parent().parent().hide();listenClick(".copy-btn",(function(e){e.preventDefault();var t,a,n=i($(this).parent().parent()),r=$(e.currentTarget).attr("data-id"),s=r-1,o=$("#availableFrom-".concat(s)).val(),d=$("#availableTo-".concat(s)).val();o=n.find("td .availableFrom").val(),d=n.find("td .availableTo").val(),t=o,$("#availableFrom-".concat(r)).val(o),a=d,$("#availableTo-".concat(r)).val(d);var l=r+1;$(".hospitalScheduleFrom-"+l).flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,minTime:t,locale:$(".userCurrentLanguage").val()}),$(".hospitalScheduleTo-"+l).flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,maxTime:a,locale:$(".userCurrentLanguage").val()})})),listenSubmit(".editScheduleForm",(function(e){if(e.preventDefault(),"00:00:00"==$(".perPatientTime").val())return $("#scheduleErrorsBox").html("Please select per patient time").show(),$(".perPatientTime").focus(),!1;for(var a=0,i=!0;a<=6;a++)if("00:00:00"!=$("#availableFrom-"+a).val()&&(i=!1,"undefined"!==t[a+1]&&$("#availableFrom-"+a).val()<t[a+1][0]))return $("#availableFrom-"+a).focus(),$("#scheduleErrorsBox").show().html("Available From time must be greater than hospital schedule time").show(),$("#scheduleErrorsBox").delay(5e3).fadeOut(),!1;if(i)return $("#scheduleErrorsBox").show().html("Available From time must be greater than Zero"),$("#scheduleErrorsBox").delay(5e3).fadeOut(),!1;for(var n=0,r=!0;n<=6;n++)if("00:00:00"!=$("#availableTo-"+n).val()&&(r=!1,"undefined"!==t[n+1]&&$("#availableTo-"+n).val()>t[n+1][1]+":00"))return $("#availableTo-"+n).focus(),$("#scheduleErrorsBox").show().html("Available To time must be less than hospital schedule time").show(),$("#scheduleErrorsBox").delay(5e3).fadeOut(),!1;return r?($("#scheduleErrorsBox").show().html("Available To time must be greater than Zero"),$("#scheduleErrorsBox").delay(5e3).fadeOut(),!1):void 0}))}function i(e){if(e.prev().length>0)return"none"==e.prev().css("display")?i(e.prev()):e.prev()}})),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#servicesFilterStatus").select2({width:"100%"}),listenChange("#servicesFilterStatus",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#servicesResetFilter",(function(){$("#servicesFilterStatus").val(0).trigger("change"),hideDropdownManually($("#servicesFilterBtn"),$(".dropdown-menu"))}))})),listenClick(".services-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showServiceReportUrl").val()+"/"+t,"#servicesReportTable",$("#serviceLang").val())})),listenChange(".service-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateServiceStatus(t)})),window.updateServiceStatus=function(e){$.ajax({url:$("#showServiceReportUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#status").select2({width:"100%"}),$(".price-input").trigger("input"),$(window).on("beforeunload",(function(){$("input[type=submit]").prop("disabled","disabled")})),$("#createServiceForm, #editServiceForm").find("input:text:visible:first").focus(),listenSubmit("#createServiceForm",(function(){$("#servicesBtnSave").attr("disabled",!0)})),listenSubmit("#editServiceForm",(function(){$("#editServicesBtnSave").attr("disabled",!0)}))}))})(),(()=>{"use strict";listenClick(".packages-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".packageReportUrl").val()+"/"+t,"#packagesReportTable",$("#packageLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#packageForm").find("input:text:visible:first").focus(),e=".serviceId",$(e).select2({placeholder:Lang.get("js.select_service"),width:"100%"}),listenClick(".delete-service-package-item",(function(){$(this).parents("tr").remove(),a(),n()}));var e;var t=function(e){return e.replace(/,/g,"")};window.isNumberKey=function(e,t){var a=e.which?e.which:event.keyCode;return!((46!==a||-1!==$(t).val().indexOf("."))&&(a<48||a>57))},listenKeyup(".packages-qty",(function(){var e=parseFloat($(this).val()),a=$(this).parent().siblings().find(".packages-price").val();a=parseFloat(t(a));var r=i(e,a);$(this).parent().siblings(".amount").text(addCommas(r.toFixed(2))),n()})),listenKeyup(".packages-price",(function(){var e=$(this).val();e=parseFloat(t(e));var a=parseFloat($(this).parent().siblings().find(".packages-qty").val()),r=i(a,e);$(this).parent().siblings(".amount").text(addCommas(r.toFixed(2))),n()})),listenKeyup(".package-discount",(function(){n()}));var i=function(e,t){return e>0&&t>0?e*t:0},n=function(){var e=0,a=parseFloat(""!==$(".package-discount").val()?$(".package-discount").val():0);$(".package-service-item-container>tr").each((function(){var a=$(this).find(".item-total").text();a=t(a),a=isEmpty($.trim(a))?0:parseFloat(a),e+=a})),e=parseFloat(e),e-=e*a/100,$("#packagesTotal").text(addCommas(e.toFixed(2))),$("#packagesTotalAmount").val(e)}}));var e=$(".packageUniqueId").val(),t=function(e){$(e).select2({placeholder:Lang.get("js.select_service"),width:"100%"})};listenSubmit(".packageForm",(function(e){e.preventDefault(),screenLock(),$("#packagesSaveBtn").attr("disabled",!0);var t=jQuery(this).find("#packagesSaveBtn");t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$(".packageSaveUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".packageUrl").val()},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#packagesSaveBtn").attr("disabled",!1)},complete:function(){screenUnLock(),t.button("reset")}})})),listenClick("#packagesAddItem",(function(){var i={services:JSON.parse($(".associateServices").val()),uniqueId:e},n=prepareTemplateRender("#packageServiceTemplate",i);$(".package-service-item-container").append(n),t(".serviceId"),e++,a()}));var a=function(){var a=1;if($(".package-service-item-container>tr").each((function(){$(this).find(".item-number").text(a),a++})),a-1==0){var i={services:JSON.parse($(".associateServices").val()),uniqueId:e},n=prepareTemplateRender("#packageServiceTemplate",i);$(".package-service-item-container").append(n),t(".serviceId"),e++}}})(),Livewire.hook("element.init",(function(){$("#caseHandlerHead").select2({width:"100%"})})),listenClick(".case-handler-delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($("#indexCaseHandlerUrl").val()+"/"+t,"#caseHandlersTbl",$("#caseHandlerLang").val())})),listenChange("#caseHandlerHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()}),hideDropdownManually($("#caseHandlerFilterBtn"),$(".dropdown-menu"))})),listenChange(".case-handler-status",(function(e){var t=$(e.currentTarget).data("id");updateCaseHandlerStatus(t)})),listenClick("#caseHandlerResetFilter",(function(){$("#caseHandlerHead").val(2).trigger("change"),hideDropdownManually($("#caseHandlerFilterBtn"),$(".dropdown-menu"))})),window.updateCaseHandlerStatus=function(e){$.ajax({url:$("#indexCaseHandlerUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#createCaseHandlerForm").length&&!$("#editCaseHandlerForm").length)return!1;var e=$("#caseHandlerBirthDate"),t=$("#editCaseHandlerBirthDate"),a=$("#createCaseHandlerForm"),i=$("#editCaseHandlerForm");e.length&&$("#caseHandlerBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),t.length&&$("#editCaseHandlerBirthDate").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),a.length&&$("#createCaseHandlerForm").find("input:text:visible:first").focus(),i.length&&$("#editCaseHandlerForm").find("input:text:visible:first").focus()})),listenSubmit("#createCaseHandlerForm, #editCaseHandlerForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenClick(".case-andler-remove-image",(function(){defaultImagePreview(".previewImage",1)}))})(),document.addEventListener("turbo:load",(function(){})),listenClick(".advanced-payment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".advancedPaymentURL").val()+"/"+t,"#advancedPaymentsTable",$("#advancePaymentLang").val())})),document.addEventListener("turbo:load",(function(){$("#advancedPaymentDate").flatpickr({defaultDate:new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#editAdvancedPaymentDate").flatpickr({dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#advancedPaymentPatientId").select2({dropdownParent:$("#addNewAdvancedPaymentForm")}),$("#editAdvancedPaymentPatientId").select2({dropdownParent:$("#editAdvancedPaymentsForm")})})),listenShownBsModal("#addAdvancedPaymentModal, #editAdvancedPaymentModal",(function(){$("#advancedPaymentPatientId, #editAdvancedPaymentPatientId:first").focus();var e=Math.random().toString(36).substr(2,8).toUpperCase();$(".advancedPaymentReceiptNo").val(e)})),listenSubmit("#addNewAdvancedPaymentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#advancedPaymentBtnSave");t.button("loading"),$(t).attr("disabled",!0),$.ajax({url:$(".advancePaymentCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$(t).attr("disabled",!1),$("#addAdvancedPaymentModal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#validationErrorsBox",e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".advanced-payment-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderAdvancePaymentsData(t)}})),window.renderAdvancePaymentsData=function(e){$.ajax({url:$(".advancedPaymentURL").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&($("#advancePaymentId").val(e.data.id),$("#editAdvancedPaymentPatientId").val(e.data.patient_id).trigger("change.select2"),$("#editAdvancedPaymentReciptNo").val(e.data.receipt_no),$("#editAdvancedPaymentAmount").val(e.data.amount),$(".price-input").trigger("input"),$("#editAdvancedPaymentDate").val(format(e.data.date,"YYYY-MM-DD")),$("#editAdvancedPaymentsModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editAdvancedPaymentsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnAdvancedPaymentEditSave");t.button("loading");var a=$("#advancePaymentId").val();$(t).attr("disabled",!0),$.ajax({url:$(".advancedPaymentURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$(t).attr("disabled",!1),$("#editAdvancedPaymentsModal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){manageAjaxErrors(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addAdvancedPaymentModal",(function(){resetModalForm("#addNewAdvancedPaymentForm","#validationAdvancePaymentErrorsBox"),$("#advancedPaymentPatientId").val("").trigger("change.select2"),$("#advancedPaymentDate").val(moment(new Date).format("YYYY-MM-DD")),$("#advancedPaymentBtnSave").attr("disabled",!1)})),listenHiddenBsModal("#editAdvancedPaymentsModal",(function(){resetModalForm("#editAdvancedPaymentsForm","#editPaymentValidationErrorsBox"),$("#btnAdvancedPaymentEditSave").attr("disabled",!1)})),Livewire.hook("element.init",(function(){$("#patient_admission_filter_status").select2({width:"100%"})})),listenClick(".delete-patient-admission-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPatientAdmissionsUrl").val()+"/"+t,"",$("#patientAdmissionLang").val())})),listenChange("#patient_admission_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange(".patientAdmissionStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updatePatientAdmissionStatus(t)})),listenClick(".show-patient-admission-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderPatientAdmissionData(t)})),window.renderPatientAdmissionData=function(e){$.ajax({url:$("#patientAdmissionsShowModal").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#showAdmissionPatient_name").text(e.data.patient.patient_user.full_name),$("#showAdmissionDoctor_name").text(e.data.doctor.doctor_user.full_name),$("#showAdmission_id").text(e.data.patient_admission_id),$("#showAdmission_date").text(e.data.admission_date),$("#showAdmissionDischarge_date").text(e.data.discharge_date),$("#showAdmissionPackage").text(e.data.package?e.data.package.name:"N/A"),$("#showAdmissionInsurance").text(e.data.insurance?e.data.insurance.name:"N/A"),$("#showAdmission_bed").text(e.data.bed?e.data.bed.name:"N/A"),$("#showAdmissionPolicy_no").text(e.data.policy_no),$("#showAdmissionAgent_name").text(e.data.agent_name),$("#showAdmissionGuardian_name").text(e.data.guardian_name),$("#showAdmissionGuardian_relation").text(e.data.guardian_relation),$("#showAdmissionGuardian_contact").text(e.data.guardian_contact),$("#showAdmissionGuardian_address").text(e.data.guardian_address),$("#showAdmissionPatient_status").empty(),1==e.data.status?$("#showAdmissionPatient_status").append('<span class="badge bg-light-success">'.concat(Lang.get("js.active"),"</span>")):$("#showAdmissionPatient_status").append('<span class="badge bg-light-danger">'.concat(Lang.get("js.deactive"),"</span>")),$("#showAdmissionCreated_on").text(moment(e.data.created_at).fromNow()),$("#showAdmissionUpdated_on").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showPatientAdmission").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenClick("#patientAdmissionResetFilter",(function(){$("#patient_admission_filter_status").val(0).trigger("change"),hideDropdownManually($("#patientAdmissionFilterBtn"),$(".dropdown-menu"))})),window.updatePatientAdmissionStatus=function(e){$.ajax({url:$("#indexPatientAdmissionsUrl").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},(()=>{document.addEventListener("turbo:load",(function(){if(!$("#createPatientAdmission").length&&!$("#editPatientAdmission").length)return;if($("#admissionPatientId, #admissionDoctorId, #admissionPackageId, #admissionInsuranceId, #admissionBedId").select2({width:"100%"}),e=$("#admissionDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,enableTime:!0,locale:$(".userCurrentLanguage").val()}),$("#admissionPatientId").focus(),$(".isEdit").val()){setTimeout((function(){$("#admissionDate").trigger("dp.change")}),300);var t=void 0,a=$("#admissionPatientBirthDate").val();$("#admissionDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,enableTime:!0,minDate:a,locale:$(".userCurrentLanguage").val(),onChange:function(e,a,i){var n=moment($("#admissionDate").val()).add(1,"days").format();void 0!==t&&t.set("minDate",n)}}),t=$("#admissionDischargeDate").flatpickr({dateFormat:"Y-m-d H:i",sideBySide:!0,minDate:i,useCurrent:!1,enableTime:!0,locale:$(".userCurrentLanguage").val()});var i=moment($("#admissionDate").val()).add(1,"days").format();t.set("minDate",i)}}));var e=void 0;listenSubmit("#createPatientAdmission, #editPatientAdmission",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenChange("#admissionPatientId",(function(e){var t=$(this).val();getPatientAdmissionDate(t)})),window.getPatientAdmissionDate=function(t){$.ajax({url:$("#admissionPatientBirthUrl").val()+"/"+t,method:"get",cache:!1,success:function(t){e.set("minDate",t.user.dob)}})}})(),(()=>{"use strict";function e(e){var t=new Date;return t.setHours(e.substring(11,13)),t.setMinutes(e.substring(14,16)),t}var t,a;document.addEventListener("turbo:load",(function(){if(!$("#calendar").length)return!1;var e=$("#patientIdAppointment"),t=$("#doctorIdAppointment");e.length&&$("#patientIdAppointment").select2({width:"100%",dropdownParent:$("#addAppointmentModal")});t.length&&$("#doctorIdAppointment").select2({width:"100%",dropdownParent:$("#addAppointmentModal")});var a=document.getElementById("calendar");$("#calendar").length&&(screenLock(),$.ajax({url:"calendar-list",type:"GET",dataType:"json",success:function(e){screenUnLock(),new FullCalendar.Calendar(a,{themeSystem:"bootstrap5",height:750,locale:$(".getLanguage").val(),headerToolbar:{left:"title",center:"prev,next today",right:"dayGridMonth,timeGridWeek,timeGridDay"},buttonText:{today:$("#todayText").val(),month:$("#monthText").val(),week:$("#weekText").val(),day:$("#dayText").val()},initialDate:new Date,initialView:"dayGridMonth",editable:!1,selectable:!0,selectMirror:!0,timeZone:"UTC",dayMaxEvents:!0,select:function(e){$("#opdDateAppointment").val(moment(e.startStr).format("YYYY-MM-DD"));var t=moment().format("YYYY-MM-DD");e.startStr>=t&&1!=$("#isDoctor").val()&&$("#addAppointmentModal").modal("show")},eventDidMount:function(e,t){$(t).tooltip({title:e.title,container:"body"})},events:e.data,eventTimeFormat:{hour12:!0,hour:"2-digit",minute:"2-digit"},loading:function(e){e||setTimeout((function(){$("#calendar button.fc-today-button").removeClass("disabled").prop("disabled",!1)}),100)},eventClick:function(e){var t;t=e.event.id,$.ajax({url:"appointment-detail/"+t,type:"GET",beforeSend:function(){screenLock()},success:function(e){console.log(e),$("#showPatientName").text(e.data.patient),$("#showDepartmentName").text(e.data.department),$("#showDoctorName").text(e.data.doctor),$("#showOpdDate").text(e.data.opdDate),$("#showStatus").text(e.data.status),$("#showIsCompleted").text(e.data.is_completed),$("#showProblem").text(function(e,t){var a="";if(null!=e){for(;e.length>0;)a+=e.substring(0,t)+"\n",e=e.substring(t);return a}return"N/A"}(e.data.problem,30)),$(".tooltip ").tooltip("hide"),$("#appointmentDetailModal").modal("show")},complete:function(){screenUnLock()}})}}).render()}}))})),listenShownBsModal("#addAppointmentModal",(function(){$("#patientIdAppointment:first").focus()})),listenClick(".time-interval",(function(e){var a=$(e.currentTarget).attr("data-id");$(this).data("id")==a&&$(this).parent().hasClass("booked")&&$(".time-slot-book").css("background-color","#ffa0a0"),t=$(this).text(),$(".time-slot").removeClass("time-slot-book"),$(this).parent().addClass("time-slot-book")})),listenSubmit("#calenderAppointmentForm",(function(e){if(null==t||""==t)return $("#calenderAppointmentErrorsBox").show().removeClass("d-none").html(Lang.get("js.select_time_slot")),$(".alert-danger").delay(5e3).slideUp(300,(function(){$(".alert-danger").attr("style","display:none")})),!1;e.preventDefault(),screenLock();var a=$(this).serialize()+"&time="+t;$.ajax({url:$("#calenderAppointmentSaveUrl").val(),type:"POST",dataType:"json",data:a,success:function(e){displaySuccessMessage(e.message),window.location.href=$("#calenderIndexPage").val()},error:function(e){printErrorMessage("#calenderAppointmentErrorsBox",e),screenUnLock()}})}));var i,n,r=!1;listenChange("#doctorIdAppointment",(function(){if(r&&($(".error-message").css("display","none"),r=!0),$(".error-message").css("display","none"),a=$(this).val(),r=!0,""!==$("#opdDateAppointment").val()){if($(".doctor-schedule").css("display","none"),$(".error-message").css("display","none"),$(".available-slot-heading").css("display","none"),$(".color-information").css("display","none"),$(".time-slot").remove(),""==$("#doctorIdAppointment").val())return $("#calenderAppointmentErrorsBox").show().html(Lang.get("js.please_select_doctor")),$("#calenderAppointmentErrorsBox").delay(5e3).fadeOut(),$("#opdDateAppointment").val(""),$("#opdDateAppointment").data("DateTimePicker").clear(),!1;r=$("#opdDateAppointment").val();var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(r).getDay()];if(null==t||""==t)return!1;if($.ajax({type:"GET",url:$("#doctorScheduleList").val(),data:{day_name:t,doctor_id:a},success:function(t){if(t.success&&""!=t.data)if(0!=t.data.scheduleDay.length){var a=r+" "+t.data.scheduleDay[0].available_from,n=r+" "+t.data.scheduleDay[0].available_to,s=t.data.perPatientTime[0].per_patient_time.split(":"),o=60*+s[0]+ +s[1],d=e(a),l=e(n);if((i=function(e,t,a){for(var i=[];e<t;)i.push(e.toTimeString().substring(0,5)),e.setMinutes(e.getMinutes()+a);return i}(d,l,o)).length>0){var c;$(".available-slot-heading").css("display","block"),$(".color-information").css("display","block");var u="";for(c=0;c<i.length;++c){var p=[{index:c,timeSlot:i[c]}];u+=prepareTemplateRender("#appointmentSlotTemplate",p)}$(".available-slot").append(u)}"00:00:00"!=t.data.scheduleDay[0].available_from&&"00:00:00"!=t.data.scheduleDay[0].available_to&&a!=n?($(".doctor-schedule").css("display","block"),$(".color-information").css("display","block"),$(".day-name").html(t.data.scheduleDay[0].available_on),$(".schedule-time").html("["+t.data.scheduleDay[0].available_from+" - "+t.data.scheduleDay[0].available_to+"]")):($(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".error-message").css("display","block"),$(".error-message").html(Lang.get("js.doctor_schedule_not_available_on_this_date")))}else $(".doctor-schedule").css("display","none"),$(".color-information").css("display","none"),$(".error-message").css("display","block"),$(".error-message").html(Lang.get("js.doctor_schedule_not_available_on_this_date"))}}),$(".isCreate").val()){setTimeout((function(){var e=null;$(".isCreate").val()&&(e={editSelectedDate:r,doctor_id:a}),$.ajax({url:$("#getBookingSlot").val(),type:"GET",data:e,success:function(e){n=e.data.bookingSlotArr,e.data.hasOwnProperty("onlyTime")?(e.data.bookingSlotArr.length>0&&(editTimeSlot=e.data.onlyTime.toString(),$.each(e.data.bookingSlotArr,(function(e,t){$.each(i,(function(e,a){t==a&&$(".time-interval").each((function(){$(this).data("id")==e&&$(this).html()!=editTimeSlot&&($(this).parent().css({"background-color":"#ffa721",border:"1px solid #ffa721",color:"#ffffff"}),$(this).parent().addClass("booked"),$(this).parent().children().prop("disabled",!0))}))}))}))),$(".time-interval").each((function(){$(this).html()==editTimeSlot&&e.data.bookingSlotArr.length>0&&($(this).parent().addClass("time-slot-book"),$(this).parent().removeClass("booked"),$(this).parent().children().prop("disabled",!1),$(this).click())}))):n.length>0&&$.each(n,(function(e,t){$.each(i,(function(e,a){t==a&&$(".time-interval").each((function(){$(this).data("id")==e&&($(this).parent().addClass("time-slot-book"),$(".time-slot-book").css({"background-color":"#ffa721",border:"1px solid #ffa721",color:"#ffffff"}),$(this).parent().addClass("booked"),$(this).parent().children().prop("disabled",!0))}))}))}))}})}),200)}}})),listenHiddenBsModal("#addAppointmentModal",(function(){resetModalForm("#calenderAppointmentForm","#calenderAppointmentErrorsBox"),$(".day-name").html(""),$(".schedule-time").html(""),$(".doctor-schedule").css("display","none"),$(".error-message").css("display","none"),$(".available-slot-heading").css("display","none"),$(".available-slot").html(""),$(".color-information").css("display","none"),t=null,$("#patientIdAppointment, #doctorIdAppointment").val("").trigger("change.select2")})),listenChange("#doctorIdAppointment",(function(e){e.preventDefault(),$.ajax({url:route("get-appointment-charge"),type:"get",dataType:"json",data:{doctor_id:$("#doctorIdAppointment").val()},success:function(e){var t=e.data.appointment_charge;t>=0&&0!=t&&(console.log(),$(".payment-div").removeClass("d-none"),$("#appointmentCalenderCharge").val(t),$("#appointmentCalenderPayment").prop("required",!0)),(t<=0||null==t)&&$(".payment-div").addClass("d-none")}})}))})(),Livewire.hook("element.init",(function(){$("#enquiriesHead").select2({width:"100%"})})),listenChange(".enquiryStatus",(function(){var e,t=$(this).attr("data-id");e=t,$.ajax({url:$("#indexEnquiryUrl").val()+"/"+ +e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})})),listenClick("#resetEnquiryFilter",(function(){$("#enquiriesHead").val(2).trigger("change"),hideDropdownManually($("#enquiriesFilterBtn"),$(".dropdown-menu"))})),listenChange("#enquiriesHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#ambulancesFilterStatus").select2({width:"100%"}),listenClick(".ambulances-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("ambulances.destroy",t),"#ambulancesTbl",$("#ambulanceLang").val())})),listenChange("#ambulancesFilterStatus",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#ambulancesResetFilter",(function(){$("#ambulancesFilterStatus").val(0).trigger("change"),hideDropdownManually($("#ambulancesFilterBtn"),$(".dropdown-menu"))}))})),listenChange(".ambulances-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateIsAvailable(t)})),window.updateIsAvailable=function(e){$.ajax({url:route("ambulances.isAvailableAmbulance",e),method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})}})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#ambulancesVehicleType").select2({width:"100%"}),listenSubmit("#createAmbulanceForm, #editAmbulanceForm",(function(){if($("#ambulancesBtnSave").attr("disabled",!0),""!==$("#error-msg").text())return $("#phoneNumber").focus(),$("#ambulancesBtnSave").attr("disabled",!1),!1})),$("#createAmbulanceForm, #editAmbulanceForm").find("input:text:visible:first").focus()}))})(),(()=>{"use strict";listenClick(".ambulance-call-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showAmbulanceCallUrl").val()+"/"+t,"#ambulanceCallsTbl",$("#ambulanceCallLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#createAmbulanceCall").length&&!$("#editAmbulanceCall").length)return!1;var e=$("#callAmbulanceId"),t=$("#ambulanceCallPatientId"),a=$("#ambulanceCallDate");e.length&&$("#callAmbulanceId").select2({width:"100%"}),t.length&&($("#ambulanceCallPatientId").select2({width:"100%"}),$("#ambulanceCallPatientId").focus()),a.length&&$("#ambulanceCallDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()}),$(".price-input").trigger("input")})),listenChange("#callAmbulanceId",(function(){$("#ambulanceCallDriverName").val(""),isEmpty($(this).val())||$.ajax({url:$(".getDriverNameUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){$("#ambulanceCallDriverName").val(e.data)},error:function(e){printErrorMessage("#ambulanceCallValidationErrorsBox",e)}})})),listenSubmit("#createAmbulanceCall, #editAmbulanceCall",(function(){$("#ambulanceCallSaveBtn").attr("disabled",!0)}))})(),Livewire.hook("element.init",(function(){$("#prescriptionHead").select2({width:"100%"})})),listenClick(".delete-prescription-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexPrescriptionUrl").val()+"/"+t,"#prescriptionsTable",$("#prescriptionLang").val())})),listenChange(".prescriptionStatus",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexPrescriptionUrl").val()+"/"+ +t+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),hideDropdownManually($("#prescriptionFilterBtn"),$("#prescriptionFilter")))}})})),listenClick("#prescriptionResetFilter",(function(){$("#prescriptionHead").val("2").trigger("change"),hideDropdownManually($("#prescriptionFilterBtn"),$(".dropdown-menu"))})),listenClick(".show-prescription-btn",(function(e){e.preventDefault();var t,a=e.currentTarget.dataset.id;t=a,$.ajax({url:$("#prescriptionShowModal").val()+"/"+t,type:"GET",success:function(e){e.success&&($("#showPrescriptionPatientName").text(e.data.patient.patient_user.full_name),$("#showPrescriptionDoctorName").text(e.data.doctor.doctor_user.full_name),$("#showPrescriptionFoodAllergies").text(e.data.food_allergies),$("#showPrescriptionTendencyBleed").text(e.data.tendency_bleed),$("#showPrescriptionHeartDisease").text(e.data.heart_disease),$("#showPrescriptionHighBloodPressure").text(e.data.high_blood_pressure),$("#showPrescriptionDiabetic").text(e.data.diabetic),$("#showPrescriptionSurgery").text(e.data.surgery),$("#showPrescriptionAccident").text(e.data.accident),$("#showPrescriptionOthers").text(e.data.others),$("#showPrescriptionMedicalHistory").text(e.data.medical_history),$("#showPrescriptionCurrentMedication").text(e.data.current_medication),$("#showPrescriptionFemalePregnancy").text(e.data.female_pregnancy),$("#showPrescriptionBreastFeeding").text(e.data.breast_feeding),$("#showPrescriptionHealthInsurance").text(e.data.health_insurance),$("#showPrescriptionLowIncome").text(e.data.low_income),$("#showPrescriptionReference").text(e.data.reference),$("#showPrescriptionStatus").empty(),1==e.data.status?$("#showPrescriptionStatus").append('<span class="badge bg-light-success">'+Lang.get("js.active")+"</span>"):$("#showPrescriptionStatus").append('<span class="badge bg-light-danger">'+Lang.get("js.deactive")+"</span>"),$("#showPrescriptionCreatedOn").text(moment(e.data.created_at).fromNow()),$("#showPrescriptionUpdatedOn").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showPrescription").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenChange("#prescriptionHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange(".prescriptionMedicineId",(function(){var e=$(this).val(),t=$(this).attr("data-id");$.ajax({url:route("get-medicine-quantity",e),method:"get",cache:!1,success:function(e){if(null==e.data)return $(".available-qty-div"+t).find("small").text("").end().css("margin-top","0px"),!1;e.success&&(e.data.available_quantity<=10?($("#availableQuantity"+t).text(Lang.get("js.available_quantity")+" : "+e.data.available_quantity).addClass("text-danger").removeClass("text-success"),$(".available-qty-div").css({"margin-top":"22px"})):($("#availableQuantity"+t).text(Lang.get("js.available_quantity")+" : "+e.data.available_quantity).addClass("text-success").removeClass("text-danger"),$(".available-qty-div").css({"margin-top":"22px"})))}})})),listenChange("#patients_prescription_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#patientPrescriptionResetFilter",(function(){$("#patients_prescription_filter_status").val(2).trigger("change"),hideDropdownManually($("#dropdownMenuPrescription"),$(".dropdown-menu"))})),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#patient_id,#filter_status,#patients_prescription_filter_status").select2({width:"100%"}),$("#patient_id,#filter_status").select2({width:"100%"})}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#prescriptionPatientId").length&&!$("#editPrescriptionPatientId").length)return;var e=$("#prescriptionAddedAt"),t=$("#editPrescriptionAddedAt");$("#prescriptionPatientId,#editPrescriptionPatientId,#filter_status,#prescriptionDoctorId,#editPrescriptionDoctorId,#prescriptionTime,#prescriptionMedicineCategoryId,#prescriptionMedicineBrandId,.prescriptionMedicineId,.prescriptionMedicineMealId,#editPrescriptionTime").select2({width:"100%"}),$("#prescriptionMedicineBrandId, #prescriptionMedicineBrandId").select2({width:"100%",dropdownParent:$("#add_new_medicine")}),$("#prescriptionPatientId,#editPrescriptionPatientId").first().focus(),e.length&&$("#prescriptionAddedAt").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()});t.length&&$("#editPrescriptionAddedAt").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()})}));$(".prescriptionUniqueId").val();listenSubmit("#createPrescription, #editPrescription",(function(){$(".btnPrescriptionSave").attr("disabled",!0)})),listenSubmit("#createMedicineFromPrescription",(function(e){e.preventDefault(),$.ajax({url:$("#createMedicineFromPrescriptionPost").val(),method:"POST",data:$(this).serialize(),success:function(e){displaySuccessMessage(e.message),$("#add_new_medicine").modal("hide"),$(".medicineTable").load(location.href+" .medicineTable")},error:function(e){printErrorMessage("#medicinePrescriptionErrorBox",e)}})})),listenHiddenBsModal("#add_new_medicine",(function(){resetModalForm("#createMedicineFromPrescription","#medicinePrescriptionErrorBox")}));var e=function(e){$(e).select2({placeholder:Lang.get("js.select_medicine"),width:"100%"})},t=function(e){$(e).select2({placeholder:Lang.get("js.select_duration"),width:"100%"})},a=function(e){$(e).select2({placeholder:Lang.get("js.select_dose_interval"),width:"100%"})};listenClick(".delete-prescription-medicine-item",(function(){$(this).parents("tr").remove()})),listenClick(".add-medicine-btn",(function(){var i=$(".prescriptionUniqueId").val(),n={medicines:JSON.parse($(".associatePrescriptionMedicines").val()),meals:JSON.parse($(".associatePrescriptionMeals").val()),doseDuration:JSON.parse($(".DoseDurationId").val()),doseInterVal:JSON.parse($(".DoseInterValId").val()),uniqueId:i},r=prepareTemplateRender("#prescriptionMedicineTemplate",n);$(".prescription-medicine-container").append(r),e(".prescriptionMedicineId"),e(".prescriptionMedicineMealId"),t(".DoseDurationIdTemplate"),a(".DoseInterValIdTemplate"),i++,$(".prescriptionUniqueId").val(i)}))})(),listenClick("#admissionResetFilter",(function(){$("#patient_admission_filter_status").val(2).trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")})),$("#invoice_status_filter").select2({width:"100%"}),$(document).on("click","#invoiceResetFilter",(function(){$("#invoice_status_filter").val(2).trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")})),(()=>{"use strict";listenClick(".charge-category-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#chargeCategoryURLID").val()+"/"+t,"#chargeCategoriesTbl",$("#chargeCategoryLang").val())})),document.addEventListener("success",(function(e){displaySuccessMessage(e.detail)}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#addChargeCategoryForm").length&&!$("#editChargeCategoryForm").length)return!1;var e=$("#chargeCategoryTypeId"),t=$("#editChargeCategoryTypeId");e.length&&$("#chargeCategoryTypeId").select2({width:"100%",dropdownParent:$("#add_charge_categories_modal")});t.length&&$("#editChargeCategoryTypeId").select2({width:"100%",dropdownParent:$("#edit_charge_categories_modal")})})),listenSubmit("#addChargeCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#chargeCategorySave");t.button("loading"),$.ajax({url:$(".chargeCategoryCreateURLID").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_charge_categories_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#chargeCategoryErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".charge-category-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#chargeCategoryURLID").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#chargeCatId").val(e.data.id),$("#editChargeCategoryName").val(e.data.name),$("#editChargeCategoryTypeId").val(e.data.charge_type).trigger("change.select2"),$("#editChargeCategoryDescription").val(e.data.description),$("#edit_charge_categories_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editChargeCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editChargeCategorySave");t.button("loading");var a=$("#chargeCatId").val();$.ajax({url:$("#chargeCategoryURLID").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_charge_categories_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_charge_categories_modal",(function(){resetModalForm("#addChargeCategoryForm","#chargeCategoryErrorsBox"),$("#chargeCategoryTypeId").val("").trigger("change.select2")})),listenHiddenBsModal("#edit_charge_categories_modal",(function(){resetModalForm("#editChargeCategoryForm","#editChargeCategoryErrorsBox"),$("#editChargeCategoryTypeId").val("").trigger("change.select2")}))})(),(()=>{"use strict";listen("click","#chargesResetFilter",(function(){$("#filterChargeType").val(0).trigger("change"),hideDropdownManually($("#ChargeFilterBtn"),$(".dropdown-menu"))})),listen("click",".charge-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".chargesURl").val()+"/"+t,"#chargesTbl",$("#chargeLang").val())})),listenChange("#filterChargeType",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})}))})(),(()=>{"use strict";function e(e,t){$.ajax({url:$(".changeChargeTypeURL").val(),type:"get",dataType:"json",data:{id:t},success:function(t){$(e).empty(),$.each(t.data,(function(t,a){$(e).append($("<option></option>").attr("value",t).text(a))}))}})}Livewire.hook("element.init",(function(){$("#filterChargeType").select2({width:"100%"}),function(){if(!$("#addChargesForm").length&&!$("#editChargesForm").length)return!1;var e=$("#chargeTypeId"),t=$("#chargeCategoryId"),a=$("#editChargeTypeId"),i=$("#editChargeCategoryId");e.length&&$("#chargeTypeId").select2({width:"100%",dropdownParent:$("#add_charges_modal"),placeholder:Lang.get("js.select_charge_type")});t.length&&$("#chargeCategoryId").select2({width:"100%",dropdownParent:$("#add_charges_modal"),placeholder:Lang.get("js.select_charge_category")});a.length&&$("#editChargeTypeId").select2({width:"100%",dropdownParent:$("#edit_charges_modal"),placeholder:Lang.get("js.select_charge_type")});i.length&&$("#editChargeCategoryId").select2({width:"100%",dropdownParent:$("#edit_charges_modal"),placeholder:Lang.get("js.select_charge_category")})}()})),listenShownBsModal("#add_charges_modal, #edit_charges_modal",(function(){$("#chargeTypeId, #editChargeTypeId:first").focus()})),listenChange("#chargeTypeId",(function(){e("#chargeCategoryId",$(this).val())})),listenChange("#editChargeTypeId",(function(){e("#editChargeCategoryId",$(this).val())})),listenSubmit("#addChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#chargesSave");t.button("loading"),$.ajax({url:$("#createChargesURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_charges_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#chargesErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".charge-edit-btn",(function(t){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var a,i=$(t.currentTarget).attr("data-id");a=i,$.ajax({url:$(".chargesURl").val()+"/"+a+"/edit",type:"GET",success:function(t){t.success&&($("#chargeId").val(t.data.id),$("#editChargeTypeId").val(t.data.charge_type).trigger("change.select2"),e("#editChargeCategoryId",t.data.charge_type),$("#editCode").val(t.data.code),$("#editChargesDescription").val(t.data.description),$("#editStdCharge").val(addCommas(t.data.standard_charge)),setTimeout((function(){$("#editChargeCategoryId").val(t.data.charge_category_id).trigger("change.select2")}),2e3),$("#edit_charges_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editChargesSave");t.button("loading");var a=$("#chargeId").val();$.ajax({url:$(".chargesURl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_charges_modal").modal("hide"),$("#chargeDetailShowUrl").length?window.location.href=$("#chargeDetailShowUrl").val():Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_charges_modal",(function(){resetModalForm("#addChargesForm","#chargesErrorsBox"),$("#chargeTypeId,#chargeCategoryId").val("").trigger("change.select2")})),listenHiddenBsModal("#edit_charges_modal",(function(){resetModalForm("#editChargesForm","#editChargesErrorsBox"),$("#editChargeTypeId,#editChargeCategoryId").val("").trigger("change.select2")}))})(),(()=>{"use strict";listenSubmit("#addRadiologyCatNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnRdSave");t.button("loading"),$("#btnRdSave").attr("disabled",!0),$.ajax({url:$("#createRadiologyCategoryURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addRadiologyCatModal").modal("hide"),Livewire.dispatch("refresh"),$("#btnRdSave").attr("disabled",!1))},error:function(e){printErrorMessage("#rdValidationErrorsBox",e),$("#btnRdSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editRadiologyCatForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditRdSave");t.button("loading"),$("#btnEditRdSave").attr("disabled",!0);var a=$("#radiologyCategoryId").val();$.ajax({url:$("#radiologyCategoryURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editRadiologyCatModal").modal("hide"),Livewire.dispatch("refresh"),$("#btnEditRdSave").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#btnEditRdSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addRadiologyCatModal",(function(){resetModalForm("#addRadiologyCatNewForm","#rdValidationErrorsBox"),$("#btnRdSave").attr("disabled",!1)})),listenHiddenBsModal("#editRadiologyCatModal",(function(){resetModalForm("#editRadiologyCatForm","#editRdValidationErrorsBox"),$("#btnEditRdSave").attr("disabled",!1)})),window.renderRadiologyCatData=function(e){$.ajax({url:$("#radiologyCategoryURL").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#radiologyCategoryId").val(t.id),$("#editRadiologyCatName").val(t.name),$("#editRadiologyCatModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".edit-radiology-cat-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderRadiologyCatData(t)}})),listenClick(".delete-radiology-cat-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#radiologyCategoryURL").val()+"/"+t,"#radiologyCategoryTable",$("#radiologyCategoryLang").val())}))})(),(()=>{"use strict";listenSubmit("#addPathologyCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#pathologyCategorySave");t.button("loading"),$("#pathologyCategorySave").attr("disabled",!0),$.ajax({url:$("#createPathologyCategoryURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addPathologyCategoriesModal").modal("hide"),Livewire.dispatch("refresh"),$("#pathologyCategorySave").attr("disabled",!1))},error:function(e){printErrorMessage("#pCatValidationErrorsBox",e),$("#pathologyCategorySave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editPathologyCategoriesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editPathologyCategorySaveBtn");t.button("loading");var a=$("#pathologyCategoryId").val();$("#editPathologyCategorySaveBtn").attr("disabled",!0),$.ajax({url:$("#pathologyCategoryURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editPathologyCategoriesModal").modal("hide"),Livewire.dispatch("refresh"),$("#editPathologyCategorySaveBtn").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#editPathologyCategorySaveBtn").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addPathologyCategoriesModal",(function(){resetModalForm("#addPathologyCategoryForm","#pCatValidationErrorsBox"),$("#pathologyCategorySave").attr("disabled",!1)})),listenHiddenBsModal("#editPathologyCategoriesModal",(function(){resetModalForm("#editPathologyCategoriesForm","#editPCatValidationErrorsBox"),$("#editPathologyCategorySaveBtn").attr("disabled",!1)})),window.renderPathologyData=function(e){$.ajax({url:$("#pathologyCategoryURL").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#pathologyCategoryId").val(t.id),$("#editPathologyCategoryName").val(t.name),$("#editPathologyCategoriesModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".edit-pathology-category-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderPathologyData(t)}})),listenClick(".delete-pathology-category-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#pathologyCategoryURL").val()+"/"+t,"#pathologyCategoryTable",$("#pathologyCategoryLang").val())}))})(),(()=>{"use strict";listenClick(".delete-radiology-test-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#radiologyTestURL").val()+"/"+t,"#radiologyTestsTable",$("#radiologyTestLang").val())})),listenClick(".show-radiology-test-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderRadiologyTestData(t)})),window.renderRadiologyTestData=function(e){$.ajax({url:route("radiology.test.show.modal",e),type:"GET",success:function(e){e.success&&($("#radiologyTestName").text(e.data.test_name),$("#radiologyTestShortName").text(e.data.short_name),$("#radiologyTestType").text(e.data.test_type),$("#radiologyTestCategoryName").text(e.data.radiologycategory.name),$("#radiologyTestSubCategory").text(e.data.subcategory),$("#radiologyTestReportDays").text(e.data.report_days),$("#radiologyTestChargeCategory").text(e.data.chargecategory.name),$("#radiologyTestStandardCharge").text(e.data.standard_charge),$("#radiologyTestCreatedOn").text(moment(e.data.created_at).fromNow()),$("#radiologyTestUpdatedOn").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showRadiologyTest").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}})(),document.addEventListener("turbo:load",(function(){$(".price-input").trigger("input"),$("#radiologyCategories,#chargeCategory,#editCategoryName,#editChargeCategory,#chargeCode").select2({width:"100%"})})),$("#createRadiologyTest, #editRadiologyTest").find("input:text:visible:first").focus(),listen("change",".charge-category",(function(e){var t=$(this).val();""!==t?getRadiologyChargeCode(t):$("#chargeCode").empty(),$("#chargeCode").attr("disabled",!0),$("#chargeCode").append($("<option></option>").text(Lang.get("js.select_charge"))),$(".rd-test-standard-charge").val("")})),window.getRadiologyChargeCode=function(e){$.ajax({url:$(".radiology-test-url").val()+"/get-charge-code/"+e,method:"get",cache:!1,success:function(e){""!==e.data?($("#chargeCode").empty(),$("#chargeCode").removeAttr("disabled"),$("#chargeCode").append($("<option></option>").text(Lang.get("js.select_charge"))),$.each(e.data,(function(e,t){$("#chargeCode").append($("<option></option>").attr("value",e).text(t))}))):$("#chargeCode").append($("<option></option>").text(Lang.get("js.select_charge")))}})},listen("change",".charge-code",(function(e){var t=$(this).val();""!==t?getRadiologyStandardCharge(t):$(".rd-test-standard-charge").val("")})),window.getRadiologyStandardCharge=function(e){$.ajax({url:$(".radiology-test-url").val()+"/get-standard-charge/"+e,method:"get",cache:!1,success:function(e){""!==e&&($(".rd-test-standard-charge").val(e.data),$(".price-input").trigger("input"))}})},document.addEventListener("turbo:load",(function(){if(!$("#addDoctorChargesForm").length&&!$("#editDoctorChargesForm").length)return!1;var e=$("#chargesDoctorId"),t=$("#editChargesDoctorId");e.length&&$("#chargesDoctorId").select2({width:"100%",dropdownParent:$("#add_doctor_opd_charges_modal")}),t.length&&$("#editChargesDoctorId").select2({width:"100%",dropdownParent:$("#edit_doctor_opd_charges_modal")})})),listenSubmit("#addDoctorChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#doctorChargesSave");t.button("loading"),$.ajax({url:$("#doctorOPDCreateChargeURLID").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_doctor_opd_charges_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#doctorChargesErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".doctor-opd-charge-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#doctorOPDChargeURLID").val()+"/"+t,null,$("#doctorOpdChargeLang").val())})),listenClick(".doctor-opd-charge-edit-btn",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#doctorOPDChargeURLID").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#doctorOPDChargeId").val(e.data.id),$("#editChargesDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editDoctorStandardCharge").val(e.data.standard_charge),$(".price-input").trigger("input"),$("#edit_doctor_opd_charges_modal").modal("show"))},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editDoctorChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDoctorChargesSave");t.button("loading");var a=$("#doctorOPDChargeId").val();$.ajax({url:$("#doctorOPDChargeURLID").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_doctor_opd_charges_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_doctor_opd_charges_modal",(function(){resetModalForm("#addDoctorChargesForm","#doctorChargesErrorsBox"),$("#chargesDoctorId").val("").trigger("change.select2")})),listenHiddenBsModal("#edit_doctor_opd_charges_modal",(function(){resetModalForm("#editDoctorChargesForm","#editDoctorChargesErrorsBox")})),listenShownBsModal("#add_doctor_opd_charges_modal, #edit_doctor_opd_charges_modal",(function(){$("#chargesdoctorId, #editChargesDoctorId:first").focus()})),(()=>{"use strict";listenClick(".delete-pathology-test-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#pathologyTestURL").val()+"/"+t,"#pathologyTestsTable",$("#pathologyTestLang").val())})),listenClick(".show-pathology-test-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderShowPathologyData(t)})),window.renderShowPathologyData=function(e){$.ajax({url:route("pathology.test.show.modal",e),type:"GET",success:function(e){e.success&&($("#showPathologyTestName").text(e.data.test_name),$("#showPathologyTestShortName").text(e.data.short_name),$("#showPathologyTestType").text(e.data.test_type),$("#showPathologyCategories").text(e.data.pathologycategory.name),$("#showPathologyTestUnit").text(e.data.unit),$("#showPathologyTestSubcategory").text(e.data.subcategory),$("#showPathologyTestMethod").text(e.data.method),$("#showPathologyTestReportDays").text(e.data.report_days),$("#showPathologyChargeCategories").text(e.data.chargecategory.name),$("#showPTestStandardCharge").text(e.data.standard_charge),$("#showPathologyTestCreatedOn").text(moment(e.data.created_at).fromNow()),$("#showPathologyTestUpdatedOn").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showPathologyTest").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenChange(".patholory-parameter-data",(function(){var e=$(this).val(),t=$(this).closest("tr"),a=t.find("#rangeId"),i=t.find("#unitId");if(""==e)return $(a).val(""),$(i).val(""),!1;$.ajax({type:"get",url:route("get-pathology-parameter",e),success:function(e){$(a).val(e.data.parameter.reference_range),$(i).val(e.data.parameter.pathology_unit.name)}})})),listenClick(".add-parameter-test",(function(){var t=$("#parameterUniqueId").val(),a={parameters:JSON.parse($(".associateParameters").val()),uniqueId:t},i=prepareTemplateRender("#pathologyParameterTemplate",a);$(".pathology-test-container").append(i),e(".patholory-parameter-data"),t++}));var e=function(e){$(e).select2({placeholder:Lang.get("js.select_parameter_name"),width:"100%"})};listenClick(".delete-parameter-test",(function(){$(this).parents("tr").remove()}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$(".price-input").trigger("input"),$(".pathologyCategories,.pChargeCategories,.pathologyTestPatientId").select2({width:"100%"}),$(".editPathologyTestPatientId").select2({width:"100%"})})),$("#createPathologyTest, #editPathologyTest").find("input:text:visible:first").focus(),listenChange(".pChargeCategories",(function(e){var t=$(this).val();""!==t?getStandardCharge(t):$(".pathologyStandardCharge").val("")})),window.getStandardCharge=function(e){$.ajax({url:$(".pathologyTestActionURL").val()+"/get-standard-charge/"+e,method:"get",cache:!1,success:function(e){""!==e&&($(".pathologyStandardCharge").val(e.data),$(".price-input").trigger("input"))}})}})(),(()=>{Livewire.hook("element.init",(function(){$("#expenseHead").select2({width:"100%"}),function(){if(!$("#indexExpenseUrl").length)return;$("#expenseDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()});$("#editExpenseDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()});$("#expenseHead").select2({width:"100%"}),$("#expenseId").select2({width:"100%",dropdownParent:$("#add_expenses_modal")}),$("#editExpenseHeadId").select2({width:"100%",dropdownParent:$("#edit_expenses_modal")}),listenShownBsModal("#add_expenses_modal, #edit_expenses_modal",(function(){$("#expenseId, #editExpenseHeadId:first").focus(),$("#expenseId").select2({width:"100%",dropdownParent:$("#add_expenses_modal")}),$("#editExpenseHeadId").select2({width:"100%",dropdownParent:$("#edit_expenses_modal")})}))}()})),listenClick(".deleteExpenseBtn",(function(t){var a=$(t.currentTarget).attr("data-id");deleteItem($("#indexExpenseUrl").val()+"/"+a,e,$("#expenseLang").val())})),listenClick(".editExpensesBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexExpenseUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editExpensePreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editExpensePreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""==t?$("#editExpensePreviewImage").css("background-image",'url("'+$("#indexExpenseDefaultDocumentImageUrl").val()+'")'):$("#editExpensePreviewImage").css("background-image",'url("'+e.data.document_url+'")'),$("#editExpenseId").val(e.data.id),$("#editExpenseHeadId").val(e.data.expense_head).trigger("change.select2"),$("#editExpenseName").val(e.data.name),document.querySelector("#editExpenseDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editExpenseInvoiceNumber").val(e.data.invoice_number),$("#editExpenseAmount").val(parseFloat(e.data.amount)),$(".price-input").trigger("input"),$("#editExpenseDescription").val(e.data.description),isEmpty(e.data.document_url)?($("#expenseDocumentUrl").hide(),$(".btn-view").hide()):($("#expenseDocumentUrl").show(),$(".btn-view").show(),$("#expenseDocumentUrl").attr("href",e.data.document_url)),$("#edit_expenses_modal").appendTo("body").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#addExpenseForm",(function(t){t.preventDefault(),$("#expenseSave").attr("disabled",!0);var a=jQuery(this).find("#expenseSave");a.button("loading");var i={formSelector:$(this),url:$("#indexExpenseCreateUrl").val(),type:"POST",tableSelector:e};newRecord(i,a,"#add_expenses_modal")}));var e="#expensesTable";function t(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html($("#indexExpenseDocumentError").val()).show(),!1):a}listenSubmit("#editExpensesForm",(function(t){t.preventDefault(),$("#editExpenseSave").attr("disabled",!0);var a=jQuery(this).find("#editExpenseSave");a.button("loading");var i=$("#editExpenseId").val(),n=$("#indexExpenseUrl").val()+"/"+i+"/update",r={formSelector:$(this),url:n,type:"POST",tableSelector:e};Livewire.dispatch("refresh"),editRecord(r,a,"#edit_expenses_modal")})),listenClick("#ExpenseResetFilter",(function(){$("#expenseHead").val(0).trigger("change"),hideDropdownManually($("#ExpenseFilterBtn"),$(".dropdown-menu"))})),listenHiddenBsModal("#add_expenses_modal",(function(){resetModalForm("#addExpenseForm","#expenseErrorsBox"),$("#expenseSave").attr("disabled",!1),$("#expenseId").val("").trigger("change.select2"),$("#expensePreviewImage").css("background-image","url("+$("#indexExpenseDefaultDocumentImageUrl").val()+")")})),listenHiddenBsModal("#edit_expenses_modal",(function(){$("#editExpenseSave").attr("disabled",!1),resetModalForm("#editExpensesForm","#editExpenseErrorsBox")})),listenChange("#expenseAttachment",(function(){var e=t($(this),"#expenseErrorsBox");isEmpty(e)||0==e||($("#expenseErrorsBox").html("").hide(),displayDocument(this,"#expensePreviewImage",e))})),listenChange("#editExpenseAttachment",(function(){var e=t($(this),"#editExpenseErrorsBox");isEmpty(e)||0==e||($("#editExpenseErrorsBox").html("").hide(),displayDocument(this,"#editExpensePreviewImage",e))})),listenClick(".removeExpenseImage",(function(){defaultImagePreview("#expensePreviewImage")})),listenClick(".removeExpenseImageEdit",(function(){defaultImagePreview("#editExpensePreviewImage")})),listenChange("#expenseHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})}))})(),Livewire.hook("element.init",(function(){$("#incomeHead").select2({width:"100%"}),($("#addIncomeForm").length||$("#editIncomesForm").length)&&(listenShownBsModal("#add_incomes_modal, #edit_incomes_modal",(function(){$("#incomeId, #editIncomeHeadId:first").focus(),$("#incomeId").select2({width:"100%",dropdownParent:$("#add_incomes_modal")}),$("#editIncomeHeadId").select2({width:"100%",dropdownParent:$("#edit_incomes_modal")})})),$("#incomeHead").select2({width:"100%"}),$("#incomeDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!1,locale:$(".userCurrentLanguage").val()}),$("#editIncomeDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!1,locale:$(".userCurrentLanguage").val()}))})),listenSubmit("#addIncomeForm",(function(e){e.preventDefault(),$("#incomeSave").attr("disabled",!0);var t=jQuery(this).find("#incomeSave");t.button("loading"),$.ajax({url:$("#indexIncomeCreateUrl").val(),type:"POST",data:new FormData(this),dataType:"JSON",processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_incomes_modal").modal("hide"),$("#incomeSave").attr("disabled",!1),Livewire.dispatch("refresh"))},error:function(e){$("#incomeSave").attr("disabled",!1),printErrorMessage("#incomeErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".deleteIncomesBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexIncomeUrl").val()+"/"+t,null,$("#incomeLang").val())})),listenClick("#incomeResetFilter",(function(){$("#incomeHead").val(0).trigger("change"),hideDropdownManually($("#incomeFilterBtn"),$(".dropdown-menu"))})),listenClick(".editIncomesBtn",(function(e){!function(e){$.ajax({url:$("#indexIncomeUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editIncomePreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editIncomePreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""==t?$("#editIncomePreviewImage").css("background-image",'url("'+$("#indexIncomeDefaultDocumentImageUrl").val()+'")'):$("#editIncomePreviewImage").css("background-image",'url("'+e.data.document_url+'")'),$("#editIncomeId").val(e.data.id),$("#editIncomeHeadId").val(e.data.income_head).trigger("change.select2"),$("#editIncomeName").val(e.data.name),document.querySelector("#editIncomeDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editIncomeInvoiceNumber").val(e.data.invoice_number),$("#editIncomeAmount").val(parseFloat(e.data.amount)),$(".price-input").trigger("input"),$("#editIncomeDescription").val(e.data.description),isEmpty(e.data.document_url)?($("#editIncomeDocumentUrl").hide(),$(".btn-view").hide()):($("#editIncomeDocumentUrl").show(),$(".btn-view").show(),$("#editIncomeDocumentUrl").attr("href",e.data.document_url)),$("#edit_incomes_modal").appendTo("body").modal("show")}},error:function(e){manageAjaxErrors(e)}})}(e.currentTarget.dataset.id)})),listenSubmit("#editIncomesForm",(function(e){e.preventDefault(),$("#editIncomeSave").attr("disabled",!0);var t=jQuery(this).find("#editIncomeSave");t.button("loading");var a=$("#editIncomeId").val(),i=$("#indexIncomeUrl").val()+"/"+a+"/update",n={formSelector:$(this),url:i,type:"POST",tableSelector:null};Livewire.dispatch("refresh"),editRecord(n,t,"#edit_incomes_modal"),$("#avatar_remove").val("")})),listenHiddenBsModal("#add_incomes_modal",(function(){resetModalForm("#addIncomeForm","#incomeErrorsBox"),$("#incomeSave").attr("disabled",!1),$("#incomeId").val("").trigger("change.select2"),$("#incomePreviewImage").css("background-image",'url("'+$("#indexIncomeDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_incomes_modal",(function(){resetModalForm("#editIncomesForm","#editIncomeErrorsBox"),$("#editIncomeSave").attr("disabled",!1)})),listenChange("#incomeAttachment",(function(){var e=isValidIncomeDocument($(this),"#incomeErrorsBox");isEmpty(e)||0==e||($("#incomeErrorsBox").html("").hide(),displayDocument(this,"#incomePreviewImage",e))})),listenChange("#editIncomeAttachment",(function(){var e=isValidIncomeDocument($(this),"#editIncomeErrorsBox");isEmpty(e)||0==e||($("#editIncomeErrorsBox").html("").hide(),displayDocument(this,"#editIncomePreviewImage",e))})),window.isValidIncomeDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html($("#indexIncomeDocumentError").val()).show(),!1):a},listenClick(".removeIncomesImage",(function(){defaultImagePreview("#incomePreviewImage")})),listenClick(".removeIncomesImageEdit",(function(){defaultImagePreview("#editIncomePreviewImage")})),listenChange("#incomeHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),(()=>{"use strict";function e(){$(".myclass").hide(),$(".smsNumber").attr("value",0),$(".role").show(),$(".send").show()}document.addEventListener("turbo:load",(function(){$("#userSMSId, #roleSMSId").select2({width:"100%",dropdownParent:$("#AddSMSModal")}),$(".myclass").hide(),$("#smsPhoneNumber").prop("required",!1),$(document).on("click",".smsNumber",(function(){$(".smsNumber").is(":checked")?($(".myclass").show(),$(".smsNumber").attr("value",1),$(".role").hide(),$("#roleSMSId").prop("required",!1),$(".send").hide(),$("#userSMSId").prop("required",!1),$("#smsPhoneNumber").prop("required",!0)):($("#userSMSId").prop("required",!0),$("#smsPhoneNumber").prop("required",!1),e())}))})),listenClick(".show-sms-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderSmsData(t)})),window.renderSmsData=function(e){$.ajax({url:route("sms.show.modal",e),type:"GET",success:function(e){e.success&&($("#sendTo").text(e.data.user?e.data.user.full_name:"N/A"),$("#userSmsRole").text(e.data.user?e.data.user.roles[0].name:"N/A"),$("#smsPhone").text(e.data.phone_number),$("#sendBy").text(e.data.send_by?e.data.send_by.full_name:"N/A"),$("#high_blood_pressure").text(e.data.high_blood_pressure),$("#smsMessage").text(e.data.message),$("#smsDate").text(moment(e.data.created_at).fromNow()),$("#smsUpdatedOn").text(moment(e.data.updated_at).fromNow()),setValueOfEmptySpan(),$("#showSms").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listen("keypress","#messageId",(function(e){var t=$("#messageId").val(),a=t.length;parseInt(160-a)<=0&&0!==e.which&&0!==e.charCode&&($("#messageId").val(t.substring(0,a-1)),displayErrorMessage(Lang.get("js.charchter_160")))})),listenSubmit("#addSMSNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnSMSSave");t.button("loading"),$("#btnSMSSave").attr("disabled",!0),$("#number").is(":checked")&&($("#roleSMSId").remove(),$("#userSMSId").remove()),$.ajax({url:$("#createSmsUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#AddSMSModal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#btnSMSSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".delete-sms-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#smsUrl").val()+"/"+t,"",$("#smsLang").val())})),listenHiddenBsModal("#AddSMSModal",(function(){resetModalForm("#addSMSNewForm","#validationErrorsBox"),$("#userSMSId").val("").trigger("change.select2"),$("#roleSMSId").val("").trigger("change.select2"),$("#valid-msg").addClass("hide"),e(),$("#btnSMSSave").attr("disabled",!1)})),listen("change","#roleSMSId",(function(){""!==$(this).val()&&$.ajax({url:$("#getUsersListUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){$("#userSMSId").empty(),$("#userSMSId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#userSMSId").append($("<option></option>").attr("value",e).text(t))}))}}),$("#userSMSId").empty(),$("#userSMSId").prop("disabled",!0)}))})(),document.addEventListener("turbo:load",(function(){listenSubmit("#createBrandForm, #editBrandForm",(function(){if(""!==$("#error-msg").text())return $("#phoneNumber").focus(),!1}))})),document.addEventListener("turbo:load",(function(){$("#emailId").focus(),listen("change","#mailAttachmentImage",(function(){var e=isValidDocument($(this),"#validationErrorsBox");isEmpty(e)||0==e||($("#validationErrorsBox").html("").hide(),displayDocument(this,"#mailPreviewImage",e))})),window.isValidDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html(Lang.get("js.document_must_be_file_type")).show(),!1):a},listenClick(".remove-image",(function(){defaultImagePreview("#mailPreviewImage")}))})),(()=>{function e(){var e=1;$(".diagnosis-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++}))}document.addEventListener("turbo:load",(function(){if(!$("#diagnosisTestPatientId").length&&!$("#editDiagnosisTestPatientId").length)return;$("#diagnosisTestPatientId,#diagnosisTestDoctorId,#diagnosisTestCategoryId").select2(),$("#editDiagnosisTestPatientId,#editDiagnosisTestDoctorId,#editDiagnosisTestCategoryId").select2()})),listenClick("#addDiagnosisTestItem,#addEditDiagnosisTestItem",(function(){var t=$(".uniqueId").val(),a=prepareTemplateRender("#patientDiagnosisTestTemplate",{uniqueId:t});$(".diagnosis-item-container").append(a),t++,e()})),listenClick(".delete-diagnosis",(function(){$(this).parents("tr").remove(),e()})),listenSubmit(".patientDiagnosisTestForm",(function(e){e.preventDefault();var t=jQuery(this).find(".saveBtn");t.attr("disabled",!0);var a=new FormData($(this)[0]);$.ajax({url:$(".patientDiagnosisTestSaveUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.href=$(".patientDiagnosisTest").val(),t.attr("disabled",!1)},error:function(e){printErrorMessage("#diagnosisTestErrorsBox",e),t.attr("disabled",!1)}})}))})(),listenClick(".patient-diagnosys-test-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#patientDiagnosisTestUrl").val()+"/"+t,"#patientDiagnosisTestTable",$("#patientDiagnosisTestLang").val())})),(()=>{"use strict";listenSubmit("#addDiagnosisCatForm",(function(e){e.preventDefault();var t=jQuery(this).find("#diagnosisCatSave");t.button("loading"),$.ajax({url:$("#diagnosisCategoryCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_diagnosis_categories_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#diagnosisCatErrorsBox",e)},complete:function(){t.button("reset")}})})),listenClick(".diagnosis-category-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".diagnosisCategoriesUrl").val()+"/"+t,"#diagnosisCategoryTable",$("#diagnosisCategoryLang").val())})),listenClick(".diagnosis-category-edit-btn",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$(".diagnosisCategoriesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#diagnosisCategoryId").val(e.data.id),$("#editDiagnosisCatName").val(e.data.name),$("#editDiagnosisCatDescription").val(e.data.description),$("#edit_diagnosis_categories_modal").modal("show"))},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editDiagnosisCatForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editDiagnosisCatSave");t.button("loading");var a=$("#diagnosisCategoryId").val();$.ajax({url:$(".diagnosisCategoriesUrl").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_diagnosis_categories_modal").modal("hide"),$("#diagnosisCategoriesShowUrl").length?window.location.href=$("#diagnosisCategoriesShowUrl").val():Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_diagnosis_categories_modal",(function(){resetModalForm("#addDiagnosisCatForm","#diagnosisCatErrorsBox")})),listenHiddenBsModal("#edit_diagnosis_categories_modal",(function(){resetModalForm("#editDiagnosisCatForm","#editDiagnosisCatErrorsBox")}))})(),(()=>{"use strict";$(document).ready((function(){listenKeyup("#menuSearch",(function(){var e=$(this).val().toLowerCase();$(".nav-item").filter((function(){$(".no-record").addClass("d-none"),$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1),0==$(".nav-item:visible").last().length&&$(".no-record").removeClass("d-none")}))})),listenClick(".sidebar-aside-toggle",(function(){!0===$(this).hasClass("active")?$(".sidebar-search-box").addClass("d-none"):$(".sidebar-search-box").removeClass("d-none")}))}))})(),listenClick(".editItemCategoryBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexItemCategoriesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#itemCategoryId").val(t.id),$("#editItemCategoryName").val(t.name),$("#edit_item_categories_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".deleteItemCategoryBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexItemCategoriesUrl").val()+"/"+t,"#itemCategoriesTbl",$("#itemCategoryLang").val())})),listenSubmit("#addItemCategoryForm",(function(e){e.preventDefault();var t=jQuery(this).find("#itemCategorySave");t.button("loading"),$.ajax({url:$("#indexItemCategoryCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_item_categories_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#itemCatErrorsBox",e)},complete:function(){t.button("reset")}})})),listenSubmit("#editItemCatForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editItemCategorySave");t.button("loading");var a=$("#itemCategoryId").val();$.ajax({url:$("#indexItemCategoriesUrl").val()+"/"+a,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_item_categories_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_item_categories_modal",(function(){resetModalForm("#addItemCategoryForm","#itemCatErrorsBox")})),listenHiddenBsModal("#edit_item_categories_modal",(function(){resetModalForm("#editItemCatForm","#editItemCatErrorsBox")})),listenClick(".deleteItemsBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexItemUrl").val()+"/"+t,"",$("#itemLang").val())})),document.addEventListener("turbo:load",(function(){($("#itemCategory").length||$("#editItemCategory").length)&&($("#itemCategory").select2({width:"100%"}),$("#editItemCategory").select2({width:"100%"}))})),listenClick(".deleteStockBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexItemStockUrl").val()+"/"+t,"",$("#itemStockLang").val())})),document.addEventListener("turbo:load",(function(){($("#stockItemCategory").length||$("#editStockItemCategory").length)&&($("#stockItemCategory, #editStockItemCategory").select2({width:"100%"}),Lang.setLocale(UserCurrentLang),$("#stockItems, #editStockItems").select2({width:"100%",placeholder:Lang.get("js.select_item")}),$(".isEdit").val()&&($(".price-input").trigger("input"),setTimeout((function(){$("#stockItemCategory, #editStockItemCategory").trigger("change")}),300)))})),listenChange(".stockCategory",(function(){""!==$(this).val()&&$.ajax({url:$(".itemsUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($(".stockItems").empty(),$(".stockItems").removeAttr("disabled"),$.each(e.data,(function(e,t){$(".stockItems").append($("<option></option>").attr("value",e).text(t))})),$(".isEdit").val()&&($(".stockItems").val($("#editStockItemId").val()).trigger("change.select2"),isEdit=!1)):$(".stockItems").prop("disabled",!0)}}),$(".stockItems").empty(),$(".stockItems").prop("disabled",!0)})),listenChange(".stockAttachment",(function(){var e,t,a=(e=$(this),t=$(e).val().split(".").pop().toLowerCase(),-1==$.inArray(t,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),UnprocessableInputError("result"),!1):t);isEmpty(a)||0==a||displayDocument(this,".previewImage",a)})),listenClick(".removeStockImage",(function(){defaultImagePreview(".previewImage")})),Livewire.hook("element.init",(function(){$("#issuedItemHead").select2({width:"100%"})})),listenClick("#issuedItemresetFilter",(function(){$("#issuedItemHead").val(2).trigger("change")})),listenClick(".deleteIssuedItemBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexIssuedItemUrl").val()+"/"+t,"#issuedItemsTable",$("#issuedItemLang").val())})),listenClick(".changes-status-btn",(function(e){var t=$(this).data("id"),a=$(this).data("status");Lang.setLocale($(".userCurrentLanguage").val()),a||swal({title:Lang.get("js.change_status")+" !",text:Lang.get("js.are_you_sure_want_to_return_this_item")+" ?",type:"warning",icon:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#50cd89",showLoaderOnConfirm:!0,buttons:{confirm:$(".yesVariable").val(),cancel:$(".noVariable").val()}}).then((function(e){e&&$.ajax({url:$("#indexReturnIssuedItemUrl").val(),type:"get",dataType:"json",data:{id:t},success:function(e){swal({title:Lang.get("js.item_returned")+" !",icon:"success",confirmButtonColor:"#50cd89",timer:2e3,buttons:{confirm:$(".okVariable").val()}}),Livewire.dispatch("refresh")}})}))})),listenChange("#issuedItemHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()}),hideDropdownManually($("#issuedItemFilter"),$("#issuedItemFilter"))})),(()=>{function e(e){toastr.error(e),$("#issuedItemSave").prop("disabled",!0)}document.addEventListener("turbo:load",(function(){Lang.setLocale(UserCurrentLang),$("#issueItemCategory, #issueUserType").select2({width:"100%"}),$("#issueTo").select2({placeholder:Lang.get("js.select_user"),width:"100%"}),$("#issueItems").select2({placeholder:Lang.get("js.select_item"),width:"100%"});var e=$("#issueReturnDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!0,locale:$(".userCurrentLanguage").val()});$("#issueDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val(),onChange:function(t,a,i){var n=moment($("#issueDate").val()).add(1,"days").format();e.set("minDate",n)}}),$("#issueDate").on("dp.change",(function(e){var t=moment($("#issueDate").val()).add(1,"days");$("#issueReturnDate").data("DateTimePicker").minDate(t)})),setTimeout((function(){$("#issueItemCategory, #issueUserType").trigger("change")}),300)})),listenChange("#issueItemCategory",(function(){""!==$(this).val()&&$.ajax({url:$("#issuedItemsUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#issueItems").empty(),$("#issueItems").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#issueItems").append($("<option></option>").attr("value",e).text(t))})),$("#issueItems").trigger("change")):($("#issueItems").prop("disabled",!0),$("#itemQuantity").prop("disabled",!0),$("#itemQuantity").val(""),$("#showAvailableQuantity").text("0"),$("#itemAvailableQuantity").val(0))}}),$("#issueItems").empty(),$("#issueItems").prop("disabled",!0)})),listenChange("#issueUserType",(function(){""!==$(this).val()&&$.ajax({url:$("#itemIssuedUsersUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#issueTo").empty(),$("#issueTo").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#issueTo").append($("<option></option>").attr("value",e).text(t))}))):$("#issueTo").prop("disabled",!0)}}),$("#issueTo").empty(),$("#issueTo").append("<option>"+Lang.get("js.select_user")+"</option>"),$("#issueTo").prop("disabled",!0)})),listenChange("#issueItems",(function(){$.ajax({url:$("#issuedItemAvailableQtyUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){$("#itemAvailableQuantity").val(e),$("#showAvailableQuantity").text(e),$("#itemQuantity").attr("max",e),$("#itemQuantity").attr("disabled",!1)}})})),listenChange("#itemQuantity",(function(){var t=parseInt($("#itemAvailableQuantity").val()),a=parseInt($(this).val());Lang.setLocale($(".userCurrentLanguage").val()),a<=t?$("#issuedItemSave").prop("disabled",!1):e(0===a?Lang.get("js.qty_cannot_be_zero"):Lang.get("js.qty_must_be_less_than_available_qty"))})),listenSubmit("#createIssuedItemForm, #editIssuedItemForm",(function(){$("#issuedItemSave").attr("disabled",!0)}))})(),Livewire.hook("element.init",(function(){$("#ipd_patients_filter_status").select2({width:"100%"})})),listenChange("#ipd_patients_filter_status",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#ipdResetFilter",(function(){$("#ipd_patients_filter_status").val("0").trigger("change"),hideDropdownManually($("#ipdPatientDepartmentFilterBtn"),$(".dropdown-menu"))})),listen("click",".deleteIpdDepartmentBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexIpdPatientUrl").val()+"/"+t,"",$("#ipdPatientLang").val())})),(()=>{function e(e,t){var a=!0,i=$(e);i.find(".dynamic-field").each((function(){var e=$(this).val(),i=$(this).closest(".form-group").find("label").text().replace(":","").trim();if($(this).is(':input[type="text"], :input[type="number"], textarea')){if(!e||""===e.trim())return $(t).show().removeClass("d-none").html(i+" field is required.").delay(5e3).slideUp(300),a=!1,!1}else if($(this).is(':input[type="checkbox"]')){if(!$(this).is(":checked"))return $(t).show().removeClass("d-none").html(i+" field is required.").delay(5e3).slideUp(300),a=!1,!1}else if($(this).is("select")&&!e&&0===$(this).val().length&&""===e.trim())return $(t).show().removeClass("d-none").html("Please select "+i).delay(5e3).slideUp(300),a=!1,!1})),event.preventDefault(),a&&i.submit()}document.addEventListener("turbo:load",(function(){if(!$("#ipdAdmissionDate").length&&!$("#editIpdAdmissionDate").length)return;var e=$("#customFieldDate").val(),t=$("#customFieldDateTime").val();$("#customFieldDate").flatpickr({defaultDate:e||new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#customFieldDateTime").flatpickr({enableTime:!0,defaultDate:t||new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),$("#ipdPatientId, #ipdDoctorId, #ipdBedTypeId,#editIpdPatientId, #editIpdDoctorId, #editIpdBedTypeId").select2({width:"100%"}),$("#ipdCaseId, #editIpdCaseId ").select2({width:"100%",placeholder:Lang.get("js.choose_case")});var a=$(".ipd-multi-select").data("placeholder");$(".ipd-multi-select").select2({placeholder:a}),$("#ipdBedId, #editIpdBedId").select2({width:"100%",placeholder:Lang.get("js.choose_bed")});var i=$("#ipdAdmissionDate, #editIpdAdmissionDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()});$(".isEdit").val()?($(".ipdPatientId, .ipdBedTypeId").trigger("change"),i.set("minDate",$(".ipdAdmissionDate").val())):(i.setDate(new Date),i.set("minDate",new Date))})),listenKeyup(".ipdDepartmentFloatNumber",(function(){if(-1!=$(this).val().indexOf(".")&&$(this).val().split(".")[1].length>2){if(isNaN(parseFloat(this.value)))return;this.value=parseFloat(this.value).toFixed(2)}return this})),listenSubmit("#createIpdPatientForm, #editIpdPatientDepartmentForm",(function(){$("#ipdSave, #btnIpdPatientEdit").attr("disabled",!0)})),listenChange(".ipdPatientId",(function(){""!==$(this).val()&&$.ajax({url:$(".patientCasesUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").empty(),$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").append($("<option></option>").attr("value",e).text(t))})),$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").val($("#editIpdPatientCaseId").val()).trigger("change.select2")):$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").prop("disabled",!0)}}),$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").empty(),$("#ipdDepartmentCaseId,#editIpdDepartmentCaseId").prop("disabled",!0),$("#ipdDepartmentCaseId, #editIpdDepartmentCaseId ").select2({width:"100%",placeholder:Lang.get("js.choose_case")})})),listenChange(".ipdBedTypeId",(function(){var e=null,t=null;if(void 0!==$("#editIpdPatientBedId").val()&&void 0!==$("#editIpdPatientBedTypeId").val()&&(e=$("#editIpdPatientBedId").val(),t=$("#editIpdPatientBedTypeId").val()),""!==$(this).val()){var a=$(this).val();$.ajax({url:$(".patientBedsUrl").val(),type:"get",dataType:"json",data:{id:$(this).val(),isEdit:$(".isEdit").val(),bedId:e,ipdPatientBedTypeId:t},success:function(e){null!==e.data?0!==e.data.length&&($("#ipdBedId,#editIpdBedId").empty(),$("#ipdBedId,#editIpdBedId").removeAttr("disabled"),$.each(e.data,(function(e,t){$("#ipdBedId,#editIpdBedId").append($("<option></option>").attr("value",e).text(t))})),void 0!==$("#editIpdPatientBedId").val()&&void 0!==$("#editIpdPatientBedTypeId").val()&&a===$("#editIpdPatientBedTypeId").val()&&$("#ipdBedId,#editIpdBedId").val($("#editIpdPatientBedId").val()).trigger("change.select2"),$("#ipdBedId,#editIpdBedId").prop("required",!0)):$("#ipdBedId,#editIpdBedId").prop("disabled",!0)}})}$("#ipdBedId,#editIpdBedId").empty(),$("#ipdBedId,#editIpdBedId").prop("disabled",!0),$("#ipdBedId, #editIpdBedId").select2({width:"100%",placeholder:Lang.get("js.choose_bed")})})),listenClick("#ipdSave",(function(){e("#createIpdPatientForm","#createIpdErrorsBox")})),listenClick("#btnIpdPatientEdit",(function(){e("#editIpdPatientDepartmentForm","#editIpdErrorsBox")}))})(),(()=>{function e(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html(Lang.get("js.document_must_be_file_type")).show(),a}document.addEventListener("turbo:load",(function(){if(!$("#ipdDiagnosisReportDate").length&&!$("#editIpdDiagnosisReportDate").length)return;$("#ipdDiagnosisReportDate, #editIpdDiagnosisReportDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",minDate:$("#showIpdPatientCaseDate").val(),widgetPositioning:{horizontal:"left",vertical:"bottom"},locale:$(".userCurrentLanguage").val()})})),listen("click",".ipdDignosis-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdDiagnosisUrl").val()+"/"+t,"",$("#ipdDiagnosisLang").val())})),listenSubmit("#addIpdDiagnosisForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnSave");t.button("loading");var a={formSelector:$(this),url:$("#showIpdDiagnosisCreateUrl").val(),type:"POST"};newRecord(a,t,"#add_ipd_diagnosis_modal")})),listen("click",".ipdDignosis-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#showIpdDiagnosisUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.ipd_diagnosis_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editIpdDiagnosisPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editIpdDiagnosisPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""!=e.data.ipd_diagnosis_document_url&&$("#editIpdDiagnosisPreviewImage").css("background-image",'url("'+e.data.ipd_diagnosis_document_url+'")'),$("#ipdDiagnosisId").val(e.data.id),$("#editIpdDiagnosisReportType").val(e.data.report_type),document.querySelector("#editIpdDiagnosisReportDate")._flatpickr.setDate(moment(e.data.report_date).format()),$("#editIpdDiagnosisDescription").val(e.data.description),""!=e.data.ipd_diagnosis_document_url?($("#editIpdDiagnosisDocumentViewUrl").show(),$(".btn-view").show(),$("#editIpdDiagnosisDocumentViewUrl").attr("href",e.data.ipd_diagnosis_document_url)):($("#editIpdDiagnosisDocumentViewUrl").hide(),$(".btn-view").hide()),$("#edit_ipd_diagnosis_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editIpdDiagnosisForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editIpdDiagnosisSave");t.button("loading");var a=$("#ipdDiagnosisId").val(),i=$("#showIpdDiagnosisUrl").val()+"/"+a,n={formSelector:$(this),url:i,type:"POST"};editRecord(n,t,"#edit_ipd_diagnosis_modal")})),listenHiddenBsModal("#add_ipd_diagnosis_modal",(function(){resetModalForm("#addIpdDiagnosisForm","#ipdDiagnosisErrorsBox"),$("#ipdDiagnosisPreviewImage").attr("src",$("#showDefaultDocumentImageUrl").val()),$("#ipdDiagnosisPreviewImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_ipd_diagnosis_modal",(function(){resetModalForm("#editIpdDiagnosisForm","#editIpdDiagnosisErrorsBox"),$("#editIpdDiagnosisPreviewImage").attr("src",$("#showDefaultDocumentImageUrl").val()),$("#editIpdDiagnosisPreviewImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")')})),listenChange("#ipdDiagnosisDocumentImage",(function(){var t=e($(this),"#ipdDiagnosisErrorsBox");isEmpty(t)||0==t||($("#ipdDiagnosisErrorsBox").html("").hide(),displayDocument(this,"#ipdDiagnosisPreviewImage",t))})),listenChange("#editIpdDiagnosisDocumentImage",(function(){var t=e($(this),"#editIpdDiagnosisErrorsBox");isEmpty(t)||0==t||($("#editIpdDiagnosisErrorsBox").html("").hide(),displayDocument(this,"#editIpdDiagnosisPreviewImage",t))})),listen("click",".removeIpdDiagnosisImage",(function(){defaultImagePreview(".previewImage")})),listen("click",".removeIpdDiagnosisImageEdit",(function(){defaultImagePreview(".previewImage")}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#showIpdConsultantRegisterUrl").length)return;$(".doctorId").select2({width:"100%",dropdownParent:$("#addConsultantInstructionModal")}),$("#editConsultantDoctorId").select2({width:"100%",dropdownParent:$("#editIpdConsultantInstructionModal")}),t()}));var e=function(e){$(e).attr("readonly",!1)};e(".appliedDate"),e(".instructionDate");var t=function(){$(".appliedDate").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",useCurrent:!1,sideBySide:!0,widgetPositioning:{horizontal:"left",vertical:"bottom"},minDate:$("#showIpdPatientCaseDate").val(),locale:$(".userCurrentLanguage").val()}),$(".instructionDate").flatpickr({enableTime:!1,format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!0,widgetPositioning:{horizontal:"left",vertical:"bottom"},minDate:$("#showIpdPatientCaseDate").val(),locale:$(".userCurrentLanguage").val()})},a=function(e){$(e).select2({placeholder:"Select Doctor",width:"100%",dropdownParent:$("#addConsultantInstructionModal")})};listen("click","#addIpdConsultantItem",(function(){var n=$("#showIpdUniqueId").val(),r={doctors:JSON.parse($("#showIpdDoctors").val()),uniqueId:n},s=prepareTemplateRender("#ipdConsultantInstructionItemTemplate",r);$(".ipd-consultant-item-container").append(s),a(".doctorId"),t(),e(".appliedDate"),e(".instructionDate"),n++,i()}));var i=function(){var e=1,i=$("#showIpdUniqueId").val();if($(".ipd-consultant-item-container>tr").each((function(){$(this).find(".item-number").text(e),e++})),e-1==0){var n={doctors:JSON.parse($("#showIpdDoctors").val()),uniqueId:i},r=prepareTemplateRender("#ipdConsultantInstructionItemTemplate",n);$(".ipd-consultant-item-container").append(r),a(".doctorId"),t(),i++}};listen("click",".deleteIpdConsultantInstruction",(function(){$(this).parents("tr").remove(),i()})),listen("click",".delete-consultant-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdConsultantRegisterUrl").val()+"/"+t,"",$("#ipdConsultantLang").val())})),listenSubmit("#addIpdConsultantNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnIpdConsultantSave");t.button("loading");var a={formSelector:$(this),url:$("#showIpdConsultantRegisterCreateUrl").val(),type:"POST"};newRecord(a,t,"#addConsultantInstructionModal")})),listen("click",".edit-consultant-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#showIpdConsultantRegisterUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#ipdEditConsultantId").val(e.data.id),document.querySelector("#editConsultantAppliedDate")._flatpickr.setDate(moment(e.data.applied_date).format()),$("#editConsultantDoctorId").val(e.data.doctor_id).trigger("change.select2"),$("#editConsultantDoctorId").select2({width:"100%",dropdownParent:$("#editIpdConsultantInstructionModal")}),document.querySelector("#editConsultantInstructionDate")._flatpickr.setDate(moment(e.data.instruction_date).format()),$("#editConsultantInstruction").val(e.data.instruction),$("#editIpdConsultantInstructionModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editIpdConsultantNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editConsultantSave");t.button("loading");var a=$("#ipdEditConsultantId").val(),i=$("#showIpdConsultantRegisterUrl").val()+"/"+a,n={formSelector:$(this),url:i,type:"POST"};editRecord(n,t,"#editIpdConsultantInstructionModal")})),listenHiddenBsModal("#addConsultantInstructionModal",(function(){resetModalForm("#addIpdConsultantNewForm","#ipdConsultantErrorsBox"),$("#ipdConsultantInstructionTbl").find("tr:gt(1)").remove(),$(".doctorId").val(""),$(".doctorId").trigger("change")}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#editIpdChargesForm").length&&!$("#addIpdChargeNewForm").length)return;$("#btnIpdChargeSave,#btnEditCharges").prop("disabled",!0),$("#ipdChargeDate, #ipdEditChargeDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!0,minDate:$("#showIpdPatientCaseDate").val(),locale:$(".userCurrentLanguage").val()}),$("#ipdChargeTypeId, #ipdChargeCategoryId, #ipdChargeId").select2({dropdownParent:$("#addIpdChargesModal")}),$("#editIpdChargeTypeId, #editIpdChargeCategoryId, #editIpdChargeId").select2({dropdownParent:$("#editIpdChargesModal")})}));var e=null,t=null,a=null;function i(e){$(e?"#btnEditCharges":"#btnIpdChargeSave").prop("disabled",!0)}listen("click",".edit-charges-btn",(function(i){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var n,r=$(i.currentTarget).attr("data-id");n=r,$.ajax({url:$("#showIpdChargesUrl").val()+"/"+n+"/edit",type:"GET",success:function(i){i.success&&(e=i.data.charge_category_id,t=i.data.charge_id,i.data.standard_charge,a=i.data.applied_charge,$("#ipdChargesId").val(i.data.id),document.querySelector("#ipdEditChargeDate")._flatpickr.setDate(moment(i.data.date).format()),$("#editIpdChargeTypeId").val(i.data.charge_type_id).trigger("change",[{onceOnEditRender:!0}]),$(".price-input").trigger("input"),$("#appliedChargeId").text(a),$("#editIpdChargesModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listen("click",".ipd-charge-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdChargesUrl").val()+"/"+t,"",$("#ipdChargeLang").val())})),listenChange("#ipdChargeTypeId, #editIpdChargeTypeId",(function(t,a){var n=$(this).data("is-charge-edit");""!==$(this).val()&&$.ajax({url:$("#showIpdChargeCategoryUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},beforeSend:function(){i(n)},success:function(t){0!==t.data.length?($(n?"#editIpdChargeCategoryId":"#ipdChargeCategoryId").empty(),$(n?"#editIpdChargeCategoryId":"#ipdChargeCategoryId").removeAttr("disabled"),$.each(t.data,(function(e,t){$(n?"#editIpdChargeCategoryId":"#ipdChargeCategoryId").append($("<option></option>").attr("value",e).text(t))})),n?void 0===a?$("#editIpdChargeCategoryId").trigger("change"):$("#editIpdChargeCategoryId").val(e).trigger("change",a):$("#ipdChargeCategoryId").trigger("change"),$(n?"#btnEditCharges":"#btnIpdChargeSave").prop("disabled",!1)):($(n?"#editIpdChargeCategoryId, #editIpdChargeId":"#ipdChargeCategoryId, #ipdChargeId").empty(),$(n?"#editIpdStandardCharge, #editIpdAppliedCharge":"#ipdStandardCharge, #ipdAppliedCharge").val(""),$(n?"#editIpdChargeCategoryId, #editIpdChargeId, #btnEditCharges":"#ipdChargeCategoryId, #ipdChargeId, #btnIpdChargeSave").prop("disabled",!0))}}),$(n?"#editIpdChargeCategoryId, #editIpdChargeId":"#ipdChargeCategoryId, #ipdChargeId").empty(),$(n?"#editIpdStandardCharge, #editIpdAppliedCharge":"#ipdStandardCharge, #ipdAppliedCharge").val(""),$(n?"#editIpdChargeCategoryId, #editIpdChargeId":"#ipdChargeCategoryId, #ipdChargeId").prop("disabled",!0),$("#ipdChargeCategoryId ,#ipdChargeId").select2({width:"100%",placeholder:Lang.get("js.choose_case"),dropdownParent:$("#addIpdChargesModal")}),$("#editIpdChargeCategoryId, #editIpdChargeId").select2({width:"100%",placeholder:Lang.get("js.choose_case"),dropdownParent:$("#editIpdChargesModal")})})),listenHiddenBsModal("#addIpdChargesModal,#editIpdChargesModal",(function(){$("#ipdChargeCategoryId ,#ipdChargeId,#editIpdChargeCategoryId, #editIpdChargeId").attr("disabled",!0)})),listenChange("#ipdChargeCategoryId, #editIpdChargeCategoryId",(function(e,a){var n=$(this).data("is-charge-edit");""!==$(this).val()&&$.ajax({url:$("#showIpdChargeUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},beforeSend:function(){i(n)},success:function(e){0!==e.data.length?($(n?"#editIpdChargeId":"#ipdChargeId").empty(),$(n?"#editIpdChargeId":"#ipdChargeId").removeAttr("disabled"),$.each(e.data,(function(e,t){$(n?"#editIpdChargeId":"#ipdChargeId").append($("<option></option>").attr("value",e).text(t))})),n?void 0===a?$("#editIpdChargeId").trigger("change"):$("#editIpdChargeId").val(t).trigger("change",a):$("#ipdChargeId").trigger("change")):$(n?"#editIpdChargeId":"#ipdChargeId").prop("disabled",!0)}}),$(n?"#editIpdChargeId":"#ipdChargeId").empty(),$(n?"#editIpdChargeId":"#ipdChargeId").prop("disabled",!0)})),listenChange("#ipdChargeId, #editIpdChargeId",(function(e,t){var a=$(this).data("is-charge-edit");$.ajax({url:$("#showIpdChargeStandardRateUrl").val(),type:"get",dataType:"json",data:{id:$(this).val(),isEdit:a,onceOnEditRender:t,ipdChargeId:$("#ipdChargesId").val()},beforeSend:function(){i(a)},success:function(e){a?null!=e.data&&($("#editIpdStandardCharge").val(e.data.standard_charge),$("#editIpdAppliedCharge").val(e.data.applied_charge),$(".price-input").trigger("input"),$("#btnEditCharges").prop("disabled",!1)):($("#ipdStandardCharge, #ipdAppliedCharge").val(e.data),$("#btnIpdChargeSave").prop("disabled",!1))}})})),listenSubmit("#addIpdChargeNewForm",(function(e){e.preventDefault(),$("#btnIpdChargeSave").attr("disabled",!0);var t=new FormData($(this)[0]);$.ajax({url:$("#showIpdChargesCreateUrl").val(),type:"POST",dataType:"json",data:t,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addIpdChargesModal").modal("hide"),Livewire.dispatch("refresh"),location.reload(),$("#btnIpdChargeSave").attr("disabled",!1))},error:function(e){printErrorMessage("#ipdChargevalidationErrorsBox",e),$("#btnIpdChargeSave").attr("disabled",!1)}})})),listenSubmit("#editIpdChargesForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditCharges");t.button("loading");var a=$("#ipdChargesId").val(),i=$("#showIpdChargesUrl").val()+"/"+a,n={formSelector:$(this),url:i,type:"POST"};editRecord(n,t,"#editIpdChargesModal","#btnEditCharges"),location.reload()})),listenHiddenBsModal("#addIpdChargesModal",(function(){$("#addIpdChargeNewForm")[0].reset(),$("#ipdChargeTypeId, #ipdChargeCategoryId, #ipdChargeId, #ipdStandardCharge, #ipdAppliedCharge").val(""),$("#ipdChargeCategoryId, #ipdChargeId").empty(),$("#ipdChargeCategoryId").append($("<option>"+Lang.get("js.select_charge_category")+"</option>")),$("#ipdChargeId").append($("<option>"+Lang.get("js.select_code")+"</option>")),$("#ipdChargeTypeId").trigger("change.select2"),$("#btnIpdChargeSave").prop("disabled",!0),$("#ipdChargeDate").flatpickr().clear()})),listenHiddenBsModal("#editIpdChargesModal",(function(){$("#btnEditCharges").prop("disabled",!0)}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#editIpdPrescriptionForm").length&&!$("#addIpdPrescriptionForm").length)return;$(".ipdDoseDuration,.ipdDoseInterval,.ipdMealList").select2({width:"100%"}),listen("click",".deleteIpdPrescriptionBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdPrescriptionUrl").val()+"/"+t,"",$("#ipdPrescriptionLang").val())})),listenClick(".deleteIpdPrescription, .deleteIpdPrescriptionOnEdit",(function(){$(this).parents("tr").remove(),a(parseInt($(this).data("edit")))})),listenChange(".ipdCategoryId",(function(e,a){var i=$(document).find("[data-medicine-id='"+$(this).data("id")+"']"),n=$(this).attr("data-id");""!==$(this).val()&&$.ajax({url:$("#showMedicinesListUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?(i.empty(),i.removeAttr("disabled"),i.append($("<option></option>").text(Lang.get("js.select_medicine"))),$.each(e.data,(function(e,t){i.append($("<option></option>").attr("value",e).text(t))})),$(".available-qty-div"+n).find("small").text("").end().css("margin-top","0px"),$(".modal").hasClass("show")&&t($(".modal.fade.show").attr("id")),void 0!==a&&i.val(a.medicineId).trigger("change.select2")):(i.append($("<option></option>").text(Lang.get("js.select_medicine"))),$(".available-qty-div"+n).find("small").text("").end().css("margin-top","0px"))}}),i.empty(),i.prop("disabled",!0)})),listenClick(".editIpdPrescriptionBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=e.currentTarget.dataset.id;t=a,$.ajax({url:$("#showIpdPrescriptionUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.ipdPrescription,a=e.data.ipdPrescriptionItems;$("#ipdEditPrescriptionId").val(t.id),$("#editHeaderNote").val(t.header_note),$("#editFooterNote").val(t.footer_note),$.each(a,(function(e,t){$("#addPrescriptionItemOnEdit").trigger("click");var a=$("#showIpdUniqueId").val()-1,i=$(document).find("[data-avlMedicine-id='"+a+"']"),n=t.medicine.available_quantity,r=Lang.get("js.available_quantity")+": "+n;i.text(r).addClass(n<=10?"text-danger":"text-success"),$(document).find("[data-id='"+a+"']").val(t.category_id).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dose-duration-id='"+a+"']").val(t.day).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dose-interval-id='"+a+"']").val(t.dose_interval).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-meal-id='"+a+"']").val(t.time).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dosage-id='"+a+"']").val(t.dosage),$(document).find("[data-instruction-id='"+a+"']").val(t.instruction)}));var i=1;$(".edit-ipd-prescription-item-container>tr").each((function(){$(this).find(".prescription-item-number").text(i),i++})),$("#editIpdPrescriptionModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editIpdPrescriptionForm",(function(e){if(e.preventDefault(),!0!==i())return!1;var t=jQuery(this).find("#btnEditIpdPrescriptionSave");t.button("loading");var a=$("#ipdEditPrescriptionId").val(),n=$("#showIpdPrescriptionUrl").val()+"/"+a,r={formSelector:$(this),url:n,type:"POST"};editRecord(r,t,"#editIpdPrescriptionModal")})),listenClick(".printIpdPrescription",(function(){var e=document.getElementById("DivIdToPrint"),t=window.open("","Print-Window");t.document.open(),t.document.write('<html><link href="'+$("#showIpdBootstrapUrl").val()+'" rel="stylesheet" type="text/css"/><body onload="window.print()">'+e.innerHTML+"</body></html>"),t.document.close(),setTimeout((function(){t.close()}),10)})),listenHiddenBsModal("#addIpdPrescriptionModal",(function(){$("#avlQtyDiv").find("small").text("").end().css("margin-top","0px"),resetModalForm("#addIpdPrescriptionForm","#validationErrorsBox"),$("#ipdPrescriptionTbl").find("tr:gt(1)").remove(),$(".ipdCategoryId").val(""),$(".ipdCategoryId").trigger("change")})),listenShownBsModal("#addIpdPrescriptionModal",(function(){t(".medicineId"),e("#ipdPrescriptionItemTemplate")})),listenHiddenBsModal("#editIpdPrescriptionModal",(function(){$("#avlQtyDiv").find("small").text("").end().css("margin-top","0px"),$("#editIpdPrescriptionTbl").find("tr:gt(0)").remove(),resetModalForm("#editIpdPrescriptionForm","#editIpdPrescriptionErrorsBox")})),listenClick(".viewIpdPrescription",(function(e){var t=e.currentTarget.dataset.id;$.ajax({url:$("#showIpdPrescriptionUrl").val()+"/"+t,type:"get",beforeSend:function(){screenLock()},success:function(e){$("#ipdPrescriptionViewData").html(e),$("#showIpdPrescriptionModal").modal("show"),ajaxCallCompleted()},complete:function(){screenUnLock()}})}))}));var e=function(e){"#ipdPrescriptionItemTemplate"===e?($(".ipdCategoryId").select2({placeholder:"Select Category",width:"100%",dropdownParent:$("#addIpdPrescriptionModal")}),$(".ipdDoseDuration,.ipdDoseInterval,.ipdMealList").select2({width:"100%"}),$(".medicineId").select2({placeholder:"Select Medicine",width:"100%",dropdownParent:$("#editIpdPrescriptionModal")})):($(".ipdCategoryId").select2({placeholder:"Select Category",width:"100%",dropdownParent:$("#editIpdPrescriptionModal")}),$(".ipdDoseDuration,.ipdDoseInterval,.ipdMealList").select2({width:"100%"}),$(".medicineId").select2({placeholder:"Select Medicine",width:"100%",dropdownParent:$("#editIpdPrescriptionModal")}))};e("#ipdPrescriptionItemTemplate");var t=function(e){"addIpdPrescriptionModal"===e?$(".medicineId").select2({placeholder:"Select Category",width:"100%",dropdownParent:$("#addIpdPrescriptionModal")}):$(".medicineId").select2({placeholder:"Select Medicine",width:"100%",dropdownParent:$("#editIpdPrescriptionModal")})};listenClick("#addPrescriptionItem, #addPrescriptionItemOnEdit",(function(){var t=parseInt($(this).data("edit"))?"#editIpdPrescriptionItemTemplate":"#ipdPrescriptionItemTemplate",i=parseInt($(this).data("edit"))?".edit-ipd-prescription-item-container":".ipd-prescription-item-container",n=$("#showIpdUniqueId").val(),r={medicineCategories:JSON.parse($("#showMedicineCategories").val()),ipdDoseDuration:JSON.parse($(".ipdPrescriptionDurations").val()),ipdDoseInterval:JSON.parse($(".ipdPrescriptionIntervals").val()),ipdMealList:JSON.parse($(".ipdPrescriptionMealList").val()),uniqueId:n},s=prepareTemplateRender(t,r);$(i).append(s),e(t),n++,$("#showIpdUniqueId").val(n),a(parseInt($(this).data("edit")))}));var a=function(t){var a=t?"#editIpdPrescriptionItemTemplate":"#ipdPrescriptionItemTemplate",i=t?".edit-ipd-prescription-item-container":".ipd-prescription-item-container",n=t?".edit-prescription-item-number":".prescription-item-number",r=1;$(i+">tr").each((function(){$(this).find(n).text(r),r++}));var s=$("#showIpdUniqueId").val();if(r-1==0){var o={medicineCategories:JSON.parse($("#showMedicineCategories").val()),ipdDoseDuration:JSON.parse($(".ipdPrescriptionDurations").val()),ipdDoseInterval:JSON.parse($(".ipdPrescriptionIntervals").val()),ipdMealList:JSON.parse($(".ipdPrescriptionMealList").val()),uniqueId:s},d=prepareTemplateRender(a,o);$(i).append(d),e(a),s++}};function i(){var e=!0;return $(".medicineId").each((function(){if("Select Medicine"==$(this).val())return displayErrorMessage(Lang.get("js.medicine_required")),e=!1,!1})),e}listenSubmit("#addIpdPrescriptionForm",(function(e){if(e.preventDefault(),!0!==i())return!1;var t=jQuery(this).find("#btnIpdPrescriptionSave");t.button("loading");var a={formSelector:$(this),url:$("#showIpdPrescriptionCreateUrl").val(),type:"POST"};newRecord(a,t,"#addIpdPrescriptionModal")})),listenChange(".ipd-prescription-medicine",(function(){var e=$(this).val(),t=$(this).attr("data-medicine-id");e==Lang.get("js.select_medicine")&&$(".available-qty-div"+t).find("small").text("").end().css("margin-top","0px"),$.ajax({url:route("get-medicine-quantity",e),method:"get",cache:!1,success:function(e){if(null==e.data)return $(".available-qty-div"+t).find("small").text("").end().css("margin-top","0px"),!1;e.success&&(e.data.available_quantity<=10?($(".ipd-available-quantity"+t).text(Lang.get("js.available_quantity")+" : "+e.data.available_quantity).addClass("text-danger").removeClass("text-success"),$(".available-qty-div"+t).css({"margin-top":"22px"})):($(".ipd-available-quantity"+t).text(Lang.get("js.available_quantity")+" : "+e.data.available_quantity).addClass("text-success").removeClass("text-danger"),$(".available-qty-div"+t).css({"margin-top":"22px"})))}})}))})(),(()=>{function e(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html("The document must be a file of type: jpeg, jpg, png, pdf, doc, docx.").show(),a}function t(e){$.ajax({url:$("#showIpdTimelinesUrl").val(),type:"get",data:{id:e},success:function(e){$("#ipdTimelines").html(e)}})}document.addEventListener("turbo:load",(function(){if(!$("#editIpdTimelineForm").length&&!$("#addIpdTimelineNewForm").length)return;t($("#ipdPatientDepartmentId").val()),$("#ipdTimelineDate, #editIpdTimelineDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,minDate:$("#showIpdPatientCaseDate").val(),locale:$(".userCurrentLanguage").val()})})),listenSubmit("#addIpdTimelineNewForm",(function(e){e.preventDefault();var a=jQuery(this).find("#btnIpdTimelineSave");a.button("loading");var i={formSelector:$(this),url:$("#showIpdTimelineCreateUrl").val(),type:"POST",tableSelector:"#tbl"};newRecord(i,a,"#addIpdTimelineModal"),setTimeout((function(){t($("#ipdPatientDepartmentId").val())}),500)})),listenClick(".edit-timeline-btn",(function(){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var e,t=$(this).data("timeline-id");e=t,$.ajax({url:$("#showIpdTimelinesUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){if(""!=e.data.ipd_timeline_document_url){var t=e.data.ipd_timeline_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editPreviewIpdTimelineImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editPreviewIpdTimelineImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):$("#editPreviewIpdTimelineImage").css("background-image",'url("'+e.data.ipd_timeline_document_url+'")'),$("#ipdTimeDocumentUrl").show(),$(".btn-view").show()}else $("#ipdTimeDocumentUrl").hide(),$(".btn-view").hide(),$("#editPreviewIpdTimelineImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")');$("#ipdTimelineId").val(e.data.id),$("#editIpdTimelineTitle").val(e.data.title),document.querySelector("#editIpdTimelineDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editIpdTimelineDescription").val(e.data.description),$("#ipdTimeDocumentUrl").attr("href",e.data.ipd_timeline_document_url),1==e.data.visible_to_person?$("#editIpdTimelineVisibleToPerson").prop("checked",!0):$("#editIpdTimelineVisibleToPerson").prop("checked",!1),$("#editIpdTimelineModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editIpdTimelineForm",(function(e){e.preventDefault();var a=jQuery(this).find("#btnIpdTimelineEdit");a.button("loading");var i=$("#ipdTimelineId").val(),n=$("#showIpdTimelinesUrl").val()+"/"+i,r={formSelector:$(this),url:n,type:"POST",tableSelector:"#tbl"};editRecord(r,a,"#editIpdTimelineModal"),setTimeout((function(){t($("#ipdPatientDepartmentId").val()),$("#overviewIpdTimeline").load(location.href+" #overviewIpdTimeline")}),500)})),listenClick(".delete-timeline-btn",(function(){var e=$(this).data("timeline-id");swal({title:Lang.get("js.deleted")+"!",text:Lang.get("js.are_you_sure_want_to_delete_this")+" "+Lang.get("js.ipd_timeline")+" ?",type:"warning",icon:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#50cd89",showLoaderOnConfirm:!0,buttons:{confirm:"Yes",cancel:"No"}}).then((function(a){a&&$.ajax({url:$("#showIpdTimelinesUrl").val()+"/"+e,type:"DELETE",dataType:"json",success:function(e){e.success&&setTimeout((function(){t($("#ipdPatientDepartmentId").val())}),500),swal({title:Lang.get("js.deleted")+"!",text:Lang.get("js.ipd_timeline")+" "+Lang.get("js.has_been_deleted"),icon:"success",confirmButtonColor:"#50cd89",timer:2e3}),Livewire.dispatch("refresh")}})}))})),listenHiddenBsModal("#addIpdTimelineModal",(function(){resetModalForm("#addIpdTimelineNewForm","#ipdTimelineErrorsBox"),$("#previewIpdTimelineImage").attr("src",$("#showDefaultDocumentImageUrl").val()),$("#previewIpdTimelineImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#editIpdTimelineModal",(function(){resetModalForm("#editIpdTimelineForm","#editIpdTimelineErrorsBox")})),listenChange("#ipdTimelineDocumentImage",(function(){var t=e($(this),"#ipdTimelineErrorsBox");isEmpty(t)||0==t||($("#ipdTimelineErrorsBox").html("").hide(),displayDocument(this,"#previewIpdTimelineImage",t))})),listenChange("#editIpdTimelineDocumentImage",(function(){var t=e($(this),"#editIpdTimelineErrorsBox");isEmpty(t)||0==t||($("#editIpdTimelineErrorsBox").html("").hide(),displayDocument(this,"#editPreviewIpdTimelineImage",t))})),listenClick(".removeIpdTimeline",(function(){defaultImagePreview("#previewIpdTimelineImage")})),listenClick(".removeIpdTimelineEdit",(function(){defaultImagePreview("#editPreviewIpdTimelineImage")}))})(),(()=>{function loadIpdPaymentData(){($("#addIpdPaymentNewForm").length||$("#editIpdPaymentForm").length)&&($("#ipdPaymentDate,#editIpdPaymentDate").flatpickr({dateFormat:"Y-m-d",enableTime:!1,minDate:$("#showIpdPatientCaseDate").val(),widgetPositioning:{horizontal:"right",vertical:"bottom"},locale:$(".userCurrentLanguage").val()}),$("#ipdPaymentModeId").select2({width:"100%",dropdownParent:$("#addIpdPaymentModal")}),$("#editIpdPaymentModeId").select2({width:"100%",dropdownParent:$("#editIpdPaymentModal")}))}function storePatientFailedPayment(e){$.ajax({type:"POST",url:$(".patientRazorpayPaymentFailed").val(),data:{data:e},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)}})}function renderIpdPaymentData(e){$.ajax({url:$("#showIpdPaymentUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.ipd_payment_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editIpdPaymentPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editIpdPaymentPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""!=e.data.ipd_payment_document_url&&$("#editIpdPaymentPreviewImage").css("background-image",'url("'+e.data.ipd_payment_document_url+'")'),$("#ipdPaymentId").val(e.data.id),$("#editIpdPaymentAmount").val(e.data.amount),document.querySelector("#editIpdPaymentDate")._flatpickr.setDate(moment(e.data.date).format("YYYY-MM-DD h:mm A")),$("#editIpdPaymentNote").val(e.data.notes),$("#editIpdPaymentModeId").val(e.data.payment_mode).trigger("change.select2"),$("#editIpdPaymentModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}function isValidIpdPaymentDocument(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html(Lang.get("js.document_must_be_file_type")).show(),!1):a}function deleteItemPaymentAjax(url,tableId,header){var callFunction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;$.ajax({url,type:"DELETE",dataType:"json",success:function success(obj){obj.success&&Livewire.dispatch("resetPage"),Swal.fire({icon:"success",title:"Deleted!",confirmButtonColor:"#009ef7",text:header+" "+Lang.get("js.has_been_deleted"),timer:2e3}),callFunction&&eval(callFunction)},error:function(e){Swal.fire({title:"",text:e.responseJSON.message,confirmButtonColor:"#009ef7",icon:"error",timer:5e3})}})}document.addEventListener("turbo:load",loadIpdPaymentData),listen("click",".ipdpayment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showIpdPaymentUrl").val()+"/"+t,null,$("#ipdPaymentLang").val())})),listen("click",".ipdpayment-edit-btn",(function(e){$(".ajaxCallIsRunning").val()||(ajaxCallInProgress(),renderIpdPaymentData($(e.currentTarget).attr("data-id")))})),listenSubmit("#addIpdPaymentNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnIpdPaymentSave");t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$("#showIpdPaymentCreateUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){if(e.success)if(null==e.data)displaySuccessMessage(e.message),$("#addIpdPaymentModal").modal("hide"),Livewire.dispatch("refresh");else{if("3"==e.data.payment_type){var t={amount:e.data.amount,ipdNumber:e.data.ipdID,notes:e.data.notes},a=$("#stripeConfigKey").val(),i=Stripe(a);$(this).html('<div class="spinner-border spinner-border-sm " role="status">\n                                            <span class="sr-only">Loading...</span>\n                                        </div>').addClass("disabled"),$.post($("#showListIpdStripePaymentUrl").val(),t).done((function(e){var t=e.data.sessionId;i.redirectToCheckout({sessionId:t}).then((function(e){manageAjaxErrors(e)}))})).catch((function(e){manageAjaxErrors(e)}))}if("5"==e.data.payment_type){var n={key:$(".patientRazorpayDataKey").val(),amount:0,currency:"INR",name:$(".patientRazorpayDataName").val(),order_id:"",description:"",image:$(".patientRazorpayDataImage").val(),callback_url:$(".patientRazorpayDataCallBackURL").val(),prefill:{email:"",name:"",contact:"",notes:""},readonly:{name:"true",email:"true",contact:"true",notes:"true"},modal:{ondismiss:function(){displayErrorMessage(Lang.get("js.your_payment_failed"))}}};$.ajax({type:"GET",url:route("patient.razorpay.init"),data:{amount:e.data.amount,ipdNumber:e.data.ipdID,notes:e.data.notes},success:function(e){if(e.url&&(window.location.href=e.url),e.success){var t=e.data,a=t.id,i=t.currency,r=t.amount,s=t.name,o=t.email,d=t.contact,l=t.notes;n.currency=i,n.amount=r,n.order_id=a,n.prefill.name=s,n.prefill.email=o,n.prefill.contact=d,n.prefill.notes=l;var c=new window.Razorpay(n);c.open(),c.on("payment.failed",storePatientFailedPayment)}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})}"4"==e.data.payment_type&&$.ajax({type:"GET",url:route("patient.paypal.init"),data:{amount:e.data.amount,ipdId:e.data.ipdID,notes:e.data.notes},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}}),6==e.data.payment_type&&window.location.replace(route("patient.paytm.init",{amount:e.data.amount,ipdNumber:e.data.ipdID})),7==e.data.payment_type&&window.location.replace(route("ipd.paystack.init",{amount:e.data.amount,ipdNumber:e.data.ipdID,notes:e.data.notes})),"8"==e.data.payment_type&&(window.location.href=e.data.url),"9"==e.data.payment_type&&(window.location.href=e.data.url)}},error:function(e){printErrorMessage("#ipdPaymentValidationErrorsBox",e)},complete:function(){t.button("reset")}})})),listenSubmit("#editIpdPaymentForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditIpdPaymentSave");t.button("loading");var a=$("#ipdPaymentId").val(),i=$("#showIpdPaymentUrl").val()+"/"+a,n={formSelector:$(this),url:i,type:"POST"};editIpdPaymentRecord(n,t,"#editIpdPaymentModal")})),listenHiddenBsModal("#addIpdPaymentModal",(function(){resetModalForm("#addIpdPaymentNewForm","#ipdPaymentValidationErrorsBox"),$("#ipdPaymentPreviewImage").attr("src",$("#showDefaultDocumentImageUrl").val()),$("#ipdPaymentPreviewImage").css("background-image",'url("'+$("#showDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#editIpdPaymentModal",(function(){resetModalForm("#editIpdPaymentForm","#editIpdPaymentValidationErrorsBox")})),listenChange("#ipdPaymentDocumentImage",(function(){var e=isValidIpdPaymentDocument($(this),"#ipdPaymentValidationErrorsBox");isEmpty(e)||0==e||($("#ipdPaymentValidationErrorsBox").html("").hide(),displayDocument(this,"#ipdPaymentPreviewImage",e))})),listenChange("#editIpdPaymentDocumentImage",(function(){var e=isValidIpdPaymentDocument($(this),"#editIpdPaymentValidationErrorsBox");isEmpty(e)||0==e||($("#editIpdPaymentValidationErrorsBox").html("").hide(),displayDocument(this,"#editIpdPaymentPreviewImage",e))})),window.editIpdPaymentRecord=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#EditModal",i=""===e.formSelector?e.formData:new FormData($(e.formSelector)[0]);$.ajax({url:e.url,type:e.type,data:i,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$(a).modal("hide"),Livewire.dispatch("refresh"))},error:function(e){UnprocessableInputError(e)},complete:function(){t.button("reset")}})},listen("click","#ipdPaymentDocumentImage",(function(){defaultImagePreview("#ipdPaymentPreviewImage")})),listen("click",".removeIpdPaymentImageEdit",(function(){defaultImagePreview("#editIpdPaymentPreviewImage")})),listenChange("#ipdPaymentModeId",(function(){var e=$(this).val();"3"==e||"5"==e||"4"==e||"7"==e||"8"==e||"9"==e?$(".ipd_payment_document").addClass("d-none"):$(".ipd_payment_document").removeClass("d-none"),"4"==e?$(".ipd_payment_notes").addClass("d-none"):$(".ipd_payment_notes").removeClass("d-none")}))})(),listenClick(".viewIpdPrescription",(function(){$.ajax({url:$("#showIpdPrescriptionUrl").val()+"/"+$(this).data("id"),type:"get",success:function(e){$("#ipdPrescriptionViewData").html(e),$("#showIpdPrescriptionModal").modal("show"),ajaxCallCompleted()}})})),listenClick(".printIpdPrescription",(function(){var e=document.getElementById("DivIdToPrint"),t=window.open("","Print-Window");t.document.open(),t.document.write('<html><link href="'+$("#showListBootstrapUrl").val()+'" rel="stylesheet" type="text/css"/><body onload="window.print()">'+e.innerHTML+"</body></html>"),t.document.close(),setTimeout((function(){t.close()}),10)})),document.addEventListener("turbo:load",(function(){var e;$("#showListIpdPatientDepartmentId").length&&(e=$("#showListIpdPatientDepartmentId").val(),$.ajax({url:$("#showListIpdTimelinesUrl").val(),type:"get",data:{id:e},success:function(e){$("#ipdTimelines").html(e)}}))})),(()=>{function e(e){$.ajax({type:"POST",url:$(".patientRazorpayPaymentFailed").val(),data:{data:e},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)}})}document.addEventListener("turbo:load",(function(){if($("#showListIpdTimelinesUrl").length){var t={key:$(".patientRazorpayDataKey").val(),amount:0,currency:"INR",name:$(".patientRazorpayDataName").val(),order_id:"",description:"",image:$(".patientRazorpayDataImage").val(),callback_url:$(".patientRazorpayDataCallBackURL").val(),prefill:{email:"",name:"",contact:""},readonly:{name:"true",email:"true",contact:"true"},modal:{ondismiss:function(){displayErrorMessage(Lang.get("js.your_payment_failed"))}}};listenClick("#ipdPaymentRazorpayBtn",(function(){$.ajax({type:"GET",url:route("patient.razorpay.init"),data:{amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()},success:function(a){if(a.url&&(window.location.href=a.url),a.success){var i=a.data,n=i.id,r=i.currency,s=i.amount,o=i.name,d=i.email,l=i.contact;t.currency=r,t.amount=s,t.order_id=n,t.prefill.name=o,t.prefill.email=d,t.prefill.contact=l;var c=new Razorpay(t);c.open(),c.on("payment.failed",e)}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})}))}})),listenClick("#ipdPaymentPaypalBtn",(function(){$.ajax({type:"GET",url:route("patient.paypal.init"),data:{amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listenClick("#ipdPaymentPaytmBtn",(function(){window.location.replace(route("patient.paytm.init",{amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()}))})),listenClick("#ipdPaymentPayStackBtn",(function(){window.location.replace(route("patient.paystack.init",{amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()}))}))})(),(()=>{function e(e){var t=e.replace(/\D/g,"");return parseInt(t)}function t(){var t=$(".currentCurrency").val();totalCharges=$("#totalCharges").data("amount"),totalPayments=$("#totalPayments").data("amount"),grossTotal=$("#grossTotal").data("amount"),bedCharge=$("#bedCharge").data("amount"),discountPercent=e($("#discountPercent").val()),taxPercentage=e($("#taxPercentage").val()),otherCharges=e($("#otherCharges").val()),discountPercent=isNaN(discountPercent)?0:discountPercent,taxPercentage=isNaN(taxPercentage)?0:taxPercentage,otherCharges=isNaN(otherCharges)?0:otherCharges;totalCharges,totalPayments,otherCharges;totalDiscount=a(discountPercent,totalCharges+bedCharge),totalTax=a(taxPercentage,totalCharges+bedCharge),netPayabelAmount=isNaN(totalCharges+otherCharges+totalTax-(totalPayments+totalDiscount))?0:totalCharges+otherCharges+totalTax-(totalPayments+totalDiscount),finalNetPayabelAmount=netPayabelAmount+bedCharge,finalNetPayabelAmount>0?$("#billStatus").html("Unpaid"):(finalNetPayabelAmount=0,$("#billStatus").html("Paid")),finalNetPayabelAmount=finalNetPayabelAmount.toFixed(2),$("#netPayabelAmount").text(t+addCommas(finalNetPayabelAmount))}function a(e,t){return e/100*t}document.addEventListener("turbo:load",(function(){if(!$("#ipdBillForm").length)return!1;1==$("#showIpdBillStatus").val()&&$(" #discountPercent, #taxPercentage,#otherCharges ").prop("disabled",!0);t()})),listenKeyup("#discountPercent, #taxPercentage, #otherCharges",(function(){"discountPercent"!=this.id&&"taxPercentage"!=this.id||parseInt(removeCommas($(this).val()))>100&&$(this).val(100),t()})),listenSubmit("#ipdBillForm",(function(e){e.preventDefault(),$(" #discountPercent, #taxPercentage,#otherCharges").prop("disabled",!1),screenLock(),$("#saveIpdBillbtn").attr("disabled",!0);var a=jQuery(this).find("#saveIpdBillbtn");a.button("loading"),t();var i=new FormData($(this)[0]);i.append("total_charges",totalCharges),i.append("total_payments",totalPayments),i.append("bed_charge",bedCharge),i.append("gross_total",grossTotal),i.append("net_payable_amount",finalNetPayabelAmount),$.ajax({url:$("#showIpdBillSaveUrl").val(),type:"POST",dataType:"json",data:i,processData:!1,contentType:!1,success:function(e){displaySuccessMessage(e.message),window.location.reload()},error:function(e){UnprocessableInputError(e),$("#saveIpdBillbtn").attr("disabled",!1)},complete:function(){screenUnLock(),a.button("reset")}})}))})(),listen("click",".deleteOpdPatientBtn",(function(e){var t=$(".deleteOpdPatientBtn").attr("data-id");deleteItem($("#indexOpdPatientUrl").val()+"/"+t,null,$("#opdPatientLang").val())})),document.addEventListener("turbo:load",(function(){if($("#createOpdPatientForm").length||$("#editOpdPatientDepartmentForm").length){var e=$("#customFieldDate").val(),t=$("#customFieldDateTime").val(),a=$(".opd-multi-select").data("placeholder");$(".opd-multi-select").select2({placeholder:a}),$("#opdPatientId, #opdDoctorId,#opdPaymentMode,#editOpdPatientId, #editOpdDoctorId,#editOpdPaymentMode").select2({width:"100%"}),$("#customFieldDate").flatpickr({defaultDate:e||new Date,dateFormat:"Y-m-d",locale:$(".userCurrentLanguage").val()}),$("#customFieldDateTime").flatpickr({enableTime:!0,defaultDate:t||new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),$("#opdCaseId ,#editOpdCaseId").select2({width:"100%",placeholder:Lang.get("js.choose_case")});var i=$("#opdAppointmentDate,#editOpdAppointmentDate ").flatpickr({enableTime:!0,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()});$(".lastVisit").val()&&($("#opdPatientId,#editOpdPatientId").val($(".lastVisit").val()).trigger("change"),$("#opdPatientId,#editOpdPatientId").attr("disabled",!0)),$(".isEdit").val()?($("#opdPatientId,#editOpdPatientId").attr("disabled",!0),$("#opdPatientId,#editOpdPatientId").trigger("change"),i.set("minDate",$("#opdAppointmentDate,#editOpdAppointmentDate").val())):(i.setDate(new Date),i.set("minDate",new Date))}})),listenSubmit("#createOpdPatientForm, #editOpdPatientDepartmentForm",(function(){$("#opdPatientId,#editOpdPatientId").attr("disabled",!1),$("#btnOpdSave,#btnEditOpdSave").attr("disabled",!0)})),listenChange("#opdPatientId,#editOpdPatientId",(function(){""!==$(this).val()&&$.ajax({url:$(".opdPatientCasesUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?($("#opdCaseId,#editOpdCaseId").empty(),$("#opdCaseId,#editOpdCaseId").removeAttr("disabled"),$.each(e.data,(function(e,t){$(".patientCaseId").val()==t?$("#editOpdCaseId").append($("<option></option>").attr("value",e).attr("selected",!0).text(t)):$("#opdCaseId,#editOpdCaseId").append($("<option></option>").attr("value",e).text(t))}))):$("#opdCaseId,#editOpdCaseId").prop("disabled",!0)}}),$("#opdCaseId,#editOpdCaseId").empty(),$("#opdCaseId,#editOpdCaseId").prop("disabled",!0),$("#opdCaseId ,#editOpdCaseId").select2({width:"100%",placeholder:Lang.get("js.choose_case")})})),listenChange("#opdDoctorId,#editOpdDoctorId",(function(){""!==$(this).val()&&$.ajax({url:$(".doctorOpdChargeUrl").val(),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?$("#opdStandardCharge,#editOpdStandardCharge").val(parseFloat(e.data[0].standard_charge)):$("#opdStandardCharge,#editOpdStandardCharge").val(0)}})})),listenClick("#btnOpdSave",(function(){var e,t,a;e="#createOpdErrorsBox",t=!0,(a=$("#createOpdPatientForm")).find(".dynamic-field").each((function(){var a=$(this).val(),i=$(this).closest(".form-group").find("label").text().replace(":","").trim();if($(this).is(':input[type="text"], :input[type="number"], textarea')){if(!a||""===a.trim())return $(e).show().removeClass("d-none").html(i+" field is required.").delay(5e3).slideUp(300),t=!1,!1}else if($(this).is(':input[type="checkbox"]')){if(!$(this).is(":checked"))return $(e).show().removeClass("d-none").html(i+" field is required.").delay(5e3).slideUp(300),t=!1,!1}else if($(this).is("select")&&!a&&0===$(this).val().length&&""===a.trim())return $(e).show().removeClass("d-none").html("Please select "+i).delay(5e3).slideUp(300),t=!1,!1})),event.preventDefault(),t&&a.submit()})),listen("click",".delete-visit-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showOpdPatientUrl").val()+"/"+t,"",$("#opdPatientVisitLang").val())})),document.addEventListener("turbo:load",(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),listenClick("#ipdPaymentStripeBtn",(function(){var e=this,t={amount:parseInt($("#billAmout").val()),ipdNumber:$("#ipdNumber").val()},a=$("#stripeConfigKey").val(),i=Stripe(a);$(this).html('<div class="spinner-border spinner-border-sm " role="status">\n                                            <span class="sr-only">Loading...</span>\n                                        </div>').addClass("disabled"),$.post($("#showListIpdStripePaymentUrl").val(),t).done((function(e){var t=e.data.sessionId;i.redirectToCheckout({sessionId:t}).then((function(e){$(this).html("Make Payment").removeClass("disabled"),manageAjaxErrors(e)}))})).catch((function(t){$(e).html("Make Payment").removeClass("disabled"),manageAjaxErrors(t)}))}))})),document.addEventListener("turbo:load",(function(){($("#opdDiagnosisReportDate").length||$("#editOpdDiagnosisReportDate").length)&&$("#opdDiagnosisReportDate, #editOpdDiagnosisReportDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",useCurrent:!0,sideBySide:!0,minDate:moment($("#showOpdAppointmentDate").val()).format("YYYY-MM-DD"),widgetPositioning:{horizontal:"left",vertical:"bottom"},locale:$(".userCurrentLanguage").val()})})),listenClick(".deleteOpdDiagnosisBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#showOpdDiagnosisUrl").val()+"/"+t,null,$("#opdDiagnosisLang").val())})),listenSubmit("#addOpdDiagnosisForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnOpdDiagnosisSave");t.button("loading");var a={formSelector:$(this),url:$("#showOpdDiagnosisCreateUrl").val(),type:"POST",tableSelector:null};newRecord(a,t,"#add_opd_diagnoses_modal")})),listenClick(".editOpdDiagnosisBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderOpdDiagnosisData(t)}})),window.renderOpdDiagnosisData=function(e){$.ajax({url:$("#showOpdDiagnosisUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data.opd_diagnosis_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editOpdDiagnosisPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editOpdDiagnosisPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""!=e.data.opd_diagnosis_document_url&&$("#editOpdDiagnosisPreviewImage").css("background-image",'url("'+e.data.opd_diagnosis_document_url+'")'),$("#opdDiagnosisId").val(e.data.id),$("#editOpdDiagnosisReportType").val(e.data.report_type),document.querySelector("#editOpdDiagnosisReportDate")._flatpickr.setDate(moment(e.data.report_date).format()),$("#editOpdDiagnosisDescription").val(e.data.description),""!=e.data.opd_diagnosis_document_url?($("#opdDiagnosisDocumentUrl").show(),$(".btn-view").show(),$("#opdDiagnosisDocumentUrl").attr("href",e.data.opd_diagnosis_document_url)):($("#opdDiagnosisDocumentUrl").hide(),$(".btn-view").hide()),$("#edit_opd_diagnoses_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editOpdDiagnosisForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditOpdDiagnosisSave");t.button("loading");var a=$("#opdDiagnosisId").val(),i=$("#showOpdDiagnosisUrl").val()+"/"+a,n={formSelector:$(this),url:i,type:"POST",tableSelector:null};editRecord(n,t,"#edit_opd_diagnoses_modal")})),listenHiddenBsModal("#add_opd_diagnoses_modal",(function(){resetModalForm("#addOpdDiagnosisForm","#opdDiagnosisErrorsBox"),$("#opdDiagnosisPreviewImage").attr("src",$("#showOpdDefaultDocumentImageUrl").val()),$("#opdDiagnosisPreviewImage").css("background-image",'url("'+$("#showOpdDefaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_opd_diagnoses_modal",(function(){resetModalForm("#editOpdDiagnosisForm","#editOpdDiagnosisErrorsBox"),$("#editOpdDiagnosisPreviewImage").attr("src",$("#showOpdDefaultDocumentImageUrl").val()),$("#editOpdDiagnosisPreviewImage").css("background-image",'url("'+$("#showOpdDefaultDocumentImageUrl").val()+'")')})),listenChange("#opdDiagnosisDocumentImage",(function(){var e=isValidDocumentOpdDiagnosis($(this),"#opdDiagnosisErrorsBox");isEmpty(e)||0==e||($("#opdDiagnosisErrorsBox").html("").hide(),displayDocument(this,"#opdDiagnosisPreviewImage",e))})),listenChange("#editOpdDiagnosisDocumentImage",(function(){var e=isValidDocumentOpdDiagnosis($(this),"#editOpdDiagnosisErrorsBox");isEmpty(e)||0==e||($("#editOpdDiagnosisErrorsBox").html("").hide(),displayDocument(this,"#editOpdDiagnosisPreviewImage",e))})),window.isValidDocumentOpdDiagnosis=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html(Lang.get("js.document_must_be_file_type")).show(),a},listenClick(".removeOpdDiagnosisImage",(function(){defaultImagePreview("#opdDiagnosisPreviewImage")})),listenClick(".removeOpdDiagnosisImageEdit",(function(){defaultImagePreview("#editOpdDiagnosisPreviewImage")})),listen("change",".report-generate",(function(e){var t=$(this).attr("data-id");updateDiagnosisReportStatus(t)})),window.updateDiagnosisReportStatus=function(e){$.ajax({url:route("patient.diagnosis.report.status",e),method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},(()=>{function e(e){$.ajax({url:$("#showOpdTimelinesUrl").val(),type:"get",data:{id:e},success:function(e){$("#opdTimelines").html(e)}})}document.addEventListener("turbo:load",(function(){if(!$("#opdTimelineDate").length&&!$("#editOpdTimelineDate").length)return;e($("#opdPatientDepartmentId").val()),$("#opdTimelineDate, #editOPdTimelineDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,minDate:moment($("#showOpdAppointmentDate").val()).format("YYYY-MM-DD"),locale:$(".userCurrentLanguage").val()})})),listenSubmit("#addOpdTimelineNewForm",(function(t){t.preventDefault();var a=jQuery(this).find("#btnOpdTimelineSave");a.button("loading");var i={formSelector:$(this),url:$("#showOpdTimelineCreateUrl").val(),type:"POST",tableSelector:"#tbl"};newRecord(i,a,"#addOpdTimelineModal"),setTimeout((function(){e($("#opdPatientDepartmentId").val())}),500)})),listenClick(".edit-OpdTimeline-btn",(function(){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var e=$(this).data("timeline-id");renderOpdTimelineData(e)}})),window.renderOpdTimelineData=function(e){$.ajax({url:$("#showOpdTimelinesUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){if(""!=e.data.opd_timeline_document_url){var t=e.data.opd_timeline_document_url.split(".").pop().toLowerCase();"pdf"==t?$("#editOpdPreviewTimelineImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"==t||"doc"==t?$("#editOpdPreviewTimelineImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):$("#editOpdPreviewTimelineImage").css("background-image",'url("'+e.data.opd_timeline_document_url+'")'),$("#editOpdTimeDocumentUrl").show(),$(".btn-view").show()}else $("#editOpdTimeDocumentUrl").hide(),$(".btn-view").hide(),$("#editOpdPreviewTimelineImage").css("background-image",'url("'+$("#showOpdDefaultDocumentImageUrl").val()+'")');$("#opdTimelineId").val(e.data.id),$("#editOPdTimelineTitle").val(e.data.title),document.querySelector("#editOPdTimelineDate")._flatpickr.setDate(moment(e.data.date).format()),$("#editOpdTimelineDescription").val(e.data.description),$("#editOpdTimeDocumentUrl").attr("href",e.data.opd_timeline_document_url),1==e.data.visible_to_person?$("#editOpdTimelineVisibleToPerson").prop("checked",!0):$("#editOpdTimelineVisibleToPerson").prop("checked",!1),$("#editOpdTimelineModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editOpdTimelineForm",(function(t){t.preventDefault();var a=jQuery(this).find("#btnOpdTimelineEdit");a.button("loading");var i=$("#opdTimelineId").val(),n=$("#showOpdTimelinesUrl").val()+"/"+i,r={formSelector:$(this),url:n,type:"POST",tableSelector:"#tbl"};editRecord(r,a,"#editOpdTimelineModal"),setTimeout((function(){e($("#opdPatientDepartmentId").val())}),500)})),listenClick(".delete-OpdTimeline-btn",(function(){var t=$(this).data("timeline-id");swal({title:$(".deleteVariable").val()+"!",text:$(".confirmVariable").val()+$("#opdTimelineLang").val()+"?",type:"warning",icon:"warning",showCancelButton:!0,closeOnConfirm:!1,confirmButtonColor:"#50cd89",showLoaderOnConfirm:!0,buttons:{confirm:$("#opdTimelineLangYes").val(),cancel:$("#opdTimelineLangNo").val()}}).then((function(a){a&&$.ajax({url:$("#showOpdTimelinesUrl").val()+"/"+t,type:"DELETE",dataType:"json",success:function(t){t.success&&setTimeout((function(){e($("#opdPatientDepartmentId").val())}),500),swal({title:$(".deletedVariable").val(),text:$("#opdTimelineLang").val()+$(".hasBeenDeletedVariable").val(),icon:"success",confirmButtonColor:"#50cd89",timer:2e3,buttons:{confirm:$(".okVariable").val()}}),Livewire.dispatch("refresh")}})}))})),listenHiddenBsModal("#addOpdTimelineModal",(function(){resetModalForm("#addOpdTimelineNewForm","#timeLinevalidationErrorsBox"),$("#previewTimelineImage").attr("src",$(".defaultDocumentImageUrl").val()),$("#previewTimelineImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#editOpdTimelineModal",(function(){resetModalForm("#editOpdTimelineForm","#editTimelineValidationErrorsBox")})),listenChange("#opdTimelineDocumentImage",(function(){var e=isValidOpdTimelineDocument($(this),"#timeLinevalidationErrorsBox");isEmpty(e)||0==e||($("#timeLinevalidationErrorsBox").html("").hide(),displayDocument(this,"#opdPreviewTimelineImage",e))})),listenChange("#editOpdTimelineDocumentImage",(function(){var e=isValidOpdTimelineDocument($(this),"#editTimelineValidationErrorsBox");isEmpty(e)||0==e||($("#editTimelineValidationErrorsBox").html("").hide(),displayDocument(this,"#editOpdPreviewTimelineImage",e))})),window.isValidOpdTimelineDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])&&$(t).html(Lang.get("js.document_must_be_file_type")).show(),a},listenClick(".removeOpdTimelineImage",(function(){defaultImagePreview("#opdPreviewTimelineImage")})),listenClick(".removeOpdTimelineImageEdit",(function(){defaultImagePreview("#editOpdPreviewTimelineImage")}))})(),document.addEventListener("turbo:load",(function(){var e;$("#showOpdListPatientDepartmentId").length&&(e=$("#showOpdListPatientDepartmentId").val(),$.ajax({url:$("#showOpdListTimelinesUrl").val(),type:"get",data:{id:e},success:function(e){$("#opdTimelines").html(e)}}))})),document.addEventListener("turbo:load",(function(){if($("#OPDtab").length){var e=window.location.hash;$('#OPDtab a[href="'+e+'"]').tab("show")}})),listenClick("#OPDtab a",(function(e){e.preventDefault(),$(this).tab("show")})),$("ul.nav-tabs > li > a").on("shown.bs.tab",(function(e){var t=$(e.target).attr("href").substr(1);window.location.hash=t})),(()=>{"use strict";Livewire.hook("element.init",(function(){$("#callType").select2({width:"100%"})})),listenClick("#callLogResetFilter",(function(){$("#callType").val(0).trigger("change"),hideDropdownManually($("#callTypeFilterBtn"),$(".dropdown-menu"))})),listenClick(".call-log-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".callLogUrl").val()+"/"+t,"#callLogTbl",$("#callLogLang").val())})),listenChange("#callType",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})}))})(),document.addEventListener("turbo:load",(function(){if(!$("#createCallLogForm").length&&!$("#editCallLogForm").length)return!1;var e=void 0;$("editCallLogId").length?$("#callLogDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,minDate:moment(new Date).format("YYYY-MM-DD"),locale:$(".userCurrentLanguage").val(),onChange:function(e,t,a){var i=moment($("#callLogDate").val()).format();"undefined"!=typeof followUpDate&&followUpDate.set("minDate",i)}}):$("#callLogDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,minDate:moment(new Date).format("YYYY-MM-DD"),locale:$(".userCurrentLanguage").val(),onChange:function(t,a,i){var n=moment($("#callLogDate").val()).format();void 0!==e&&e.set("minDate",n)}}),e=$("#callLogFollowUpDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()});var t=moment($("#callLogDate").val()).format();e.set("minDate",t)})),listenSubmit("#createCallLogForm, #editCallLogForm",(function(){if($(".btnSave").attr("disabled",!0),""!==$(".error-msg").text())return $(".phoneNumber").focus(),$(".btnSave").attr("disabled",!1),!1})),listen("keyup keypress","#createCallLogForm, #editCallLogForm",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),listen("keyup keypress","#createCallLogForm, #editCallLogForm",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),Livewire.hook("element.init",(function(){$("#visitorsHead").select2({width:"100%"}),$("#purposeArr").length&&$("#purposeArr").select2({width:"100%"})})),listenClick(".delete-visitor-btn",(function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-id");deleteItem($(".visitorUrl").val()+"/"+t,"#visitorTbl",$("#visitorLang").val())})),listenClick("#visitorResetFilter",(function(){$("#visitorsHead").val(0).trigger("change"),hideDropdownManually($("#visitorsFilterBtn"),$(".dropdown-menu"))})),listenChange("#visitorsHead",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),document.addEventListener("turbo:load",(function(){$("#visitorDate").length&&$("#visitorDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()}),$("#visitorOutTime").length&&($("#visitorInTime,#visitorOutTime").flatpickr({enableTime:!0,enableSeconds:!0,noCalendar:!0,dateFormat:"H:i:S",locale:$(".userCurrentLanguage").val()}),$("#visitorOutTime").flatpickr({enableTime:!0,enableSeconds:!0,noCalendar:!0,dateFormat:"H:i:S",minTime:moment(new Date).format("HH:mm:ss"),locale:$(".userCurrentLanguage").val()}),$("#visitorPurpose").select2({width:"100%"}))})),listenSubmit("#createVisitorForm, #editVisitorForm",(function(){if(""!==$(".error-msg").text())return $("#visitorPhoneNumber").focus(),!1})),listen("keyup keypress","#createVisitorForm, #editVisitorForm",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),$("#visitorInTime").on("dp.change",(function(e){$("#visitorOutTime").data("flatpickr").minTime(e.time)})),listenChange("#visitorAttachment",(function(){var e=isValidVisitorDocument($(this),"#visitorErrorsBox");isEmpty(e)||0==e||($("#visitorErrorsBox").html("").hide(),displayDocument(this,"#visitorPreviewImage",e),$("#visitorSave").attr("disabled",!1)),$("#visitorSave").attr("disabled",!1)})),window.isValidVisitorDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html(Lang.get("js.document_must_be_file_type")).removeClass("d-none"),!1):($(t).addClass("d-none"),a)},listenClick(".visitor-remove-image",(function(){defaultImagePreview("#visitorPreviewImage")})),(()=>{document.addEventListener("turbo:load",(function(){if(!$(".editPostalDate").length)return;$(".date, .editPostalDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!0,sideBySide:!0,locale:$(".userCurrentLanguage").val()}),e=$(".editPostalDate").flatpickr({format:"YYYY-MM-DD",useCurrent:!1,sideBySide:!1,locale:$(".userCurrentLanguage").val()})}));var e;$(".add_modal").val(),$(".edit_modal").val();function t(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html($(".documentError").val()).removeClass("hide"),$(t).removeAttr("style"),!1):($(t).html($(".documentError").val()).addClass("hide"),a)}listenSubmit(".addPostalForm",(function(e){e.preventDefault(),$(".btnPostalSave").attr("disabled",!0);var t=jQuery(this).find(".btnPostalSave");t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$(".postalCreateUrl").val(),type:"POST",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),($("#add_postal_receives_modal").length||$("#edit_postal_receives_modal").length)&&$("#add_postal_receives_modal,#edit_postal_receives_modal").modal("hide"),($("#add_postal_dispatch_modal").length||$("#edit_postal_dispatch_modal").length)&&$("#add_postal_dispatch_modal,#edit_postal_dispatch_modal").modal("hide"),Livewire.dispatch("refresh"),setTimeout((function(){$(".btnPostalSave").attr("disabled",!1),t.button("reset")}),1e3))},error:function(e){printErrorMessage(".validationErrorsBox",e),setTimeout((function(){$(".btnPostalSave").attr("disabled",!1),t.button("reset")}),1e3)}})})),listenClick(".delete-postal-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($(".postalUrl").val()+"/"+t,"",$(".name").val())})),listenClick(".edit-postal-btn",(function(t){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var a,i=t.currentTarget.dataset.id;a=i,$.ajax({url:$(".postalUrl").val()+"/"+a+"/edit",type:"GET",success:function(t){if(t.success){if(""!=t.data.document_url){var a=t.data.document_url.split(".").pop().toLowerCase();"pdf"===a?$(".editPreviewImage").css("background-image",'url("'+$(".pdfDocumentImageUrl").val()+'")'):"docx"===a||"doc"===a?$(".editPreviewImage").css("background-image",'url("'+$(".docxDocumentImageUrl").val()+'")'):""===a?$(".editPreviewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")'):$(".editPreviewImage").css("background-image",'url("'+t.data.document_url+'")')}$($(".hiddenId").val()).val(t.data.id),$(".editFromTitle").val(t.data.from_title),e.setDate(format(t.data.date,"YYYY-MM-DD")),$(".editReferenceNumber").val(t.data.reference_no),$(".editToTitle").val(t.data.to_title),$(".editAddress").val(t.data.address),isEmpty(t.data.document_url)?$(".edit-attachment").addClass("d-none"):$(".documentUrl").attr("href",t.data.document_url),$("#edit_postal_receives_modal").length&&$("#edit_postal_receives_modal").modal("show"),$("#edit_postal_dispatch_modal").length&&$("#edit_postal_dispatch_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit(".editPostalForm",(function(e){e.preventDefault(),$(".btnEditSave").attr("disabled",!0);var t=jQuery(this).find(".btnEditSave");if(t.button("loading"),1==$(".isPostal").val()&&0===$(".editFromTitle").val().trim().length)return displayErrorMessage("The from title is required."),$(".btnEditSave").attr("disabled",!1),!1;if(2==$(".isPostal").val()&&0===$(".editToTitle").val().trim().length)return displayErrorMessage("The to title is required."),$(".btnEditSave").attr("disabled",!1),!1;var a=$($(".hiddenId").val()).val(),i=$(".postalUrl").val()+"/"+a,n={formSelector:$(this),url:i,type:"post",tableSelector:$(".tableName").val()};$("#edit_postal_receives_modal").length&&editRecord(n,t,"#edit_postal_receives_modal"),$("#edit_postal_dispatch_modal").length&&editRecord(n,t,"#edit_postal_dispatch_modal"),$(".btnEditSave").attr("disabled",!1)})),listenChange(".postalAttachment",(function(){var e=t($(this),".validationErrorsBox");isEmpty(e)||0==e||($(".validationErrorsBox").html("").hide(),displayDocument(this,".previewImage",e))})),listenChange(".editAttachment",(function(){if($("#edit_postal_receives_modal").length)$("#edit_postal_receives_modal");$("#edit_postal_dispatch_modal").length&&$("#edit_postal_dispatch_modal");var e=t($(this),"#editReceiveErrorsBox1");isEmpty(e)||0==e||displayDocument(this,".editPreviewImage",e)})),listenClick(".remove-postal-image",(function(){defaultImagePreview(".previewImage")})),listenClick(".remove-postal-image-edit",(function(){defaultImagePreview(".editPreviewImage")})),listenHiddenBsModal("#add_postal_dispatch_modal",(function(){resetModalForm("#addDispatchForm",".validationErrorsBox"),$(".previewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_postal_dispatch_modal",(function(){resetModalForm("#editDispatchForm",".editValidationErrorsBox1"),$(".editPreviewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#add_postal_receives_modal",(function(){resetModalForm("#addReceiveForm",".validationErrorsBox"),$(".previewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')})),listenHiddenBsModal("#edit_postal_receives_modal",(function(){resetModalForm("#editReceiveForm",".editValidationErrorsBox1"),$(".editPreviewImage").css("background-image",'url("'+$(".defaultDocumentImageUrl").val()+'")')}))})(),(()=>{var e;function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Livewire.hook("element.init",(function(){$("#status").select2()})),listenClick(".appointment-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#appointmentIndexURL").val()+"/"+t,"#appointmentsTbl",$("#appointmentLang").val())})),listenClick("#resetAppointmentFilter",(function(){a.data("daterangepicker").setStartDate(moment().startOf("week").format("MM/DD/YYYY")),a.data("daterangepicker").setEndDate(moment().endOf("week").format("MM/DD/YYYY")),a.data("daterangepicker").startDate.format("YYYY-MM-D  H:mm:ss"),a.data("daterangepicker").endDate.format("YYYY-MM-D  H:mm:ss"),$("#status").val(2).trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")}));var a=$("#time_range"),i=moment().subtract(29,"days"),n=moment();function r(e,t){$("#time_range").html(e.format("MMM D, YYYY")+" - "+t.format("MMM D, YYYY"))}a.daterangepicker({startDate:i,endDate:n,locale:{customRangeLabel:Lang.get("js.custom"),applyLabel:Lang.get("js.apply"),cancelLabel:Lang.get("js.cancel"),fromLabel:Lang.get("js.from"),toLabel:Lang.get("js.to"),monthNames:[Lang.get("js.jan"),Lang.get("js.feb"),Lang.get("js.mar"),Lang.get("js.apr"),Lang.get("js.may"),Lang.get("js.jun"),Lang.get("js.jul"),Lang.get("js.aug"),Lang.get("js.sep"),Lang.get("js.oct"),Lang.get("js.nov"),Lang.get("js.dec")],daysOfWeek:[Lang.get("js.sun"),Lang.get("js.mon"),Lang.get("js.tue"),Lang.get("js.wed"),Lang.get("js.thu"),Lang.get("js.fri"),Lang.get("js.sat")]},ranges:(e={},t(e,Lang.get("js.today"),[moment(),moment()]),t(e,Lang.get("js.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),t(e,Lang.get("js.last_7_days"),[moment().subtract(6,"days"),moment()]),t(e,Lang.get("js.last_30_days"),[moment().subtract(29,"days"),moment()]),t(e,Lang.get("js.this_month"),[moment().startOf("month"),moment().endOf("month")]),t(e,Lang.get("js.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),e)},r),r(i,n),a.on("apply.daterangepicker",(function(e,t){t.startDate.format("YYYY-MM-D  H:mm:ss"),t.endDate.format("YYYY-MM-D  H:mm:ss"),Livewire.dispatch("refresh")}))})(),(()=>{function e(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","gif","webp"])?($(e).val(""),$(t).html($("#indexTestimonialProfileError").val()).removeClass("d-none"),!1):($(t).html($("#indexTestimonialProfileError").val()).addClass("d-none"),a)}document.addEventListener("turbo:load",(function(){if(!$("#indexTestimonialUrl").length)return;$(".testimonialDescription").attr("maxlength",150)})),listenSubmit("#addTestimonialForm",(function(e){e.preventDefault();var t=jQuery(this).find("#testimonialSave");t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$("#indexTestimonialCreateUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_testimonials").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#testimonialErrorsBox",e)},complete:function(){t.button("reset")}})})),listen("click",".edit-testimonial-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexTestimonialUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&(e.data.document_url.split(".").pop().toLowerCase(),$("#editTestimonialPreviewImage").css("background-image",'url("'+e.data.document_url+'")'),$("#testimonialId").val(e.data.id),$("#editTestimonialName").val(e.data.name),$("#editTestimonialDescription").val(e.data.description),isEmpty(e.data.document_url)?($("#testimonialDocumentUrl").hide(),$(".btn-view").hide()):($("#testimonialDocumentUrl").show(),$(".btn-view").show(),$("#testimonialDocumentUrl").attr("href",e.data.document_url)),$("#edit_testimonials").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenKeyup(".testimonialDescription",(function(){$(".description").attr("maxlength",150)})),listenSubmit("#editTestimonialForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editTestimonialSave");t.button("loading");var a=$("#testimonialId").val(),i=new FormData($(this)[0]);$.ajax({url:$("#indexTestimonialUrl").val()+"/"+a,type:"post",data:i,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_testimonials").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_testimonials",(function(){resetModalForm("#addTestimonialForm","#add_testimonials #testimonialErrorsBox"),$("#testimonialPreviewImage").attr("src",$("#indexTestimonialDefaultDocumentImageUrl").val()).css("background-image","url(".concat($("#indexTestimonialDefaultDocumentImageUrl").val(),")"))})),listenShownBsModal("#add_testimonials",(function(){$("#add_testimonials #testimonialErrorsBox").show(),$("#add_testimonials #testimonialErrorsBox").addClass("d-none")})),listenHiddenBsModal("#edit_testimonials",(function(){resetModalForm("#editTestimonialForm","#edit_testimonials #editTestimonialErrorsBox"),$(".editTestimonialPreviewImage").attr("src",$("#indexTestimonialDefaultDocumentImageUrl").val()).css("background-image","url(".concat($("#indexTestimonialDefaultDocumentImageUrl").val(),")"))})),listenShownBsModal("#edit_testimonials",(function(){$("#edit_testimonials #editTestimonialErrorsBox").show(),$("#edit_testimonials #editTestimonialErrorsBox").addClass("d-none")})),listen("click",".delete-testimonial-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexTestimonialUrl").val()+"/"+t,"",$("#testimonialLang").val())})),listenChange("#testimonialProfile",(function(){var t=e($(this),"#add_testimonials #testimonialErrorsBox");isEmpty(t)||0==t||displayDocument(this,"#testimonialPreviewImage",t)})),listenChange("#editTestimonialProfile",(function(){var t=e($(this),"#edit_testimonials #editTestimonialErrorsBox");isEmpty(t)||0==t||displayDocument(this,"#editTestimonialPreviewImage",t)})),listen("click",".view-testimonial-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#indexTestimonialUrl").val()+"/"+t,type:"GET",success:function(e){e.success&&($("#showTestimonialName").html(""),$("#showTestimonialDescription").html(""),$("#showTestimonialName").append(e.data.name),$("#showTestimonialDescription").append(e.data.description),$("#userProfilePicture").attr("src",e.data.document_url),$("#show_testimonials").appendTo("body").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#bloodDonationsDonorName").select2({width:"100%",dropdownParent:$("#bloodDonationsAddModal")}),$("#bloodDonationsEditDonorName").select2({width:"100%",dropdownParent:$("#bloodDonationsEditModal")}),$("#bloodDonationsAddModal, #bloodDonationsEditModal").on("shown.bs.modal",(function(){$("#bloodDonationsDonorName, #bloodDonationsEditDonorName:first").focus()}))})),listenSubmit("#bloodDonationsAddNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodDonationsBtnSave");t.button("loading"),$("#bloodDonationsBtnSave").attr("disabled",!0),$.ajax({url:$("#bloodDonationCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodDonationsAddModal").modal("hide"),Livewire.dispatch("refresh"),setTimeout((function(){t.button("reset")}),2500),$("#bloodDonationsBtnSave").attr("disabled",!1))},error:function(e){printErrorMessage("#bloodDonationsValidationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3),$("#bloodDonationsBtnSave").attr("disabled",!1)}})})),listenSubmit("#bloodDonationsEditForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodDonationsEditBtnSave");t.button("loading"),$("#bloodDonationsEditBtnSave").attr("disabled",!0);var a=$("#bloodDonationId").val();$.ajax({url:$("#bloodDonationUrl").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodDonationsEditModal").modal("hide"),Livewire.dispatch("refresh"),$("#bloodDonationsEditBtnSave").attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$("#bloodDonationsEditBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#bloodDonationsAddModal",(function(){$("#bloodDonationsDonorName").val("").trigger("change.select2"),resetModalForm("#bloodDonationsAddNewForm","#bloodDonationsValidationErrorsBox"),$("#bloodDonationsBtnSave").attr("disabled",!1)})),listenHiddenBsModal("#bloodDonationsEditModal",(function(){resetModalForm("#bloodDonationsEditForm","#bloodDonationsEditValidationErrorsBox"),$("#bloodDonationsEditBtnSave").attr("disabled",!1)})),listenClick(".blood-donations-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bloodDonationUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bloodDonationId").val(t.id),$("#bloodDonationsEditDonorName").val(t.blood_donor_id),$("#bloodDonationsEditDonorName").trigger("change"),$("#editBags").val(t.bags),$("#bloodDonationsEditModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".blood-donations-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bloodDonationUrl").val()+"/"+t,"#bloodDonationTable",$("#bloodDonationLang").val())}))})(),(()=>{"use strict";function e(e,t){$.ajax({url:$("#bloodGroupUrl").val(),type:"get",dataType:"json",data:{id:t},success:function(t){$(e).empty(),$.each(t.data,(function(t,a){$(e).append($("<option></option>").attr("value",t).text(a))}))}})}document.addEventListener("turbo:load",(function(){$("#bloodIssuesDoctorName,#bloodIssuesPatientName,#bloodIssuesDonorName,#bloodIssuesBloodGroup").select2({width:"100%",dropdownParent:$("#bloodIssuesAddModal")}),$("#editBloodIssueDoctorName,#editBloodIssuePatientName,#editBloodIssueDonorName,#editBloodIssueGroup").select2({width:"100%",dropdownParent:$("#bloodIssuesEditModal")});$("#bloodIssueDate").flatpickr({enableTime:!0,defaultDate:new Date,maxDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()})})),listenClick(".blood-issue-modal",(function(){$("#bloodIssuesBloodGroup").select2({width:"100%",dropdownParent:$("#bloodIssuesAddModal"),placeholder:Lang.get("js.select_blood_group")})})),listenSubmit("#bloodIssuesAddNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodIssuesBtnSave");t.button("loading"),$("#bloodIssuesBtnSave").attr("disabled",!0),$.ajax({url:$("#bloodIssueCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodIssuesAddModal").modal("hide"),Livewire.dispatch("refresh"),setTimeout((function(){t.button("reset")}),2500),$("#bloodIssuesBtnSave").attr("disabled",!1))},error:function(e){printErrorMessage("#bloodIssuesValidationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3),$("#bloodIssuesBtnSave").attr("disabled",!1)}})})),listenSubmit("#bloodIssuesEditForm",(function(e){e.preventDefault();var t=jQuery(this).find("#bloodIssuesEditBtnSave");t.button("loading"),$("#bloodIssuesEditBtnSave").attr("disabled",!0);var a=$("#bloodIssueId").val();$.ajax({url:$("#bloodIssueUrl").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#bloodIssuesEditModal").modal("hide"),Livewire.dispatch("refresh"),$("#bloodIssuesEditBtnSave").attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$("#bloodIssuesEditBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".blood-issues-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress(),$("#editBloodIssueGroup").select2({width:"100%",dropdownParent:$("#bloodIssuesEditModal"),placeholder:Lang.get("js.select_blood_group")});var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#bloodIssueUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#bloodIssueId").val(t.id),$("#editBloodIssueDate").flatpickr({enableTime:!0,maxDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}).setDate(t.issue_date),$("#editBloodIssueDoctorName").val(t.doctor_id).trigger("change"),$("#editBloodIssuePatientName").val(t.patient_id).trigger("change"),$("#editBloodIssueDonorName").val(t.donor_id).trigger("change",[{isEdit:!0}]),$("#editBloodIssueAmount").val(t.amount),$(".price-input").trigger("input"),$("#editBloodIssueRemarks").val(t.remarks),$("#bloodIssuesEditModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenChange("#bloodIssuesDonorName",(function(){e("#bloodIssuesBloodGroup",$(this).val())})),listenChange("#editBloodIssueDonorName",(function(){e("#editBloodIssueGroup",$(this).val())})),listenHiddenBsModal("#bloodIssuesAddModal",(function(){$("#bloodIssuesBtnSave").attr("disabled",!1),resetModalForm("#bloodIssuesAddNewForm","#bloodIssuesValidationErrorsBox")})),listenHiddenBsModal("#bloodIssuesEditModal",(function(){$("#bloodIssuesDtnSave").attr("disabled",!1),resetModalForm("#bloodIssuesEditForm","#editValidationErrorsBox")})),listenClick(".blood-issues-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#bloodIssueUrl").val()+"/"+t,"#bloodIssuesTable",$("#bloodIssueLang").val())}))})(),(()=>{Livewire.hook("element.init",(function(){$("#liveConsultationFilterStatusArr").select2({width:"100%"}),function(){if(!$("#indexLiveConsultationUrl").length)return;listenShownBsModal("#add_consulatation_modal",(function(){$(".doctor-name,.patient-name,.consultation-type,.consultation-type-number,.change-status,.platform-type").select2({width:"100%",dropdownParent:"#add_consulatation_modal"})})),listenShownBsModal("#edit_consulatation_modal",(function(){$(".edit-doctor-name,.edit-patient-name,.edit-consultation-type,.edit-consultation-type-number,.edit-change-status").select2({width:"100%",dropdownParent:"#edit_consulatation_modal"})})),$("#liveConsultationFilterStatusArr").select2({width:"100%"}),$(".consultation-date").flatpickr({enableTime:!0,defaultDate:new Date,minDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),$(".edit-consultation-date").flatpickr({enableTime:!0,minDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}),$(".change-consultation-status").select2({width:"100%"})}()})),listenHiddenBsModal("#add_consulatation_modal",(function(){resetModalForm("#addConsultationForm","#consultationErrorsBox"),$(".consultation-type, .consultation-type-number").val("").trigger("change"),$("select").each((function(e,t){var a="#"+$(this).attr("id");$(a).val(""),$(a).prop("selectedIndex",0).trigger("change")})),$("#consultationTypeNumber").val(null).trigger("change"),$("#consultationTypeNumber").append($('<option selected="selected" value="">Select Type Number</option>'))})),listenHiddenBsModal("#edit_consulatation_modal",(function(){resetModalForm("#editConsultationForm","#editConsultationErrorsBox")}));var e=null;listenChange(".consultation-type, .edit-consultation-type",(function(){!function(e,t,a){""!==$(e).val()&&$.ajax({url:$("#indexLiveConsultationTypeNumber").val(),type:"get",dataType:"json",data:{consultation_type:t,patient_id:a},success:function(t){0!==t.data.length?($(e).empty(),$(e).removeAttr("disabled"),$(e).append('<option selected="selected" value="">'+Lang.get("js.select_type_number")+"</option>"),$.each(t.data,(function(t,a){$(e).append($("<option></option>").attr("value",t).text(a))})),$(".consultation-type-number").select2({width:"100%",dropdownParent:$("#add_consulatation_modal")}),$(".edit-consultation-type-number").select2({width:"100%",dropdownParent:$("#edit_consulatation_modal")})):($(e).empty(),$(e).append('<option selected="selected" value="">'+Lang.get("js.select_type_number")+"</option>"),$(e).prop("disabled",!0))}});$(e).empty(),$(e).prop("disabled",!0),$(e).append("<option>Select Type Number</option>")}(".consultation-type-number, .edit-consultation-type-number",$(this).val(),e)})),listenChange(".patient-name, .edit-patient-name",(function(){""!==$(this).val()&&(e=$(this).val(),$(".consultation-type-number, .edit-consultation-type-number").empty(),$(".consultation-type-number, .edit-consultation-type-number").append('<option selected="selected" value="">'+Lang.get("js.select_type_number")+"</option>"),$(".consultation-type, .edit-consultation-type").removeAttr("disabled"))})),listenSubmit("#addConsultationForm",(function(e){e.preventDefault();var t=jQuery(this).find("#consultationSave");t.button("loading"),$("#consultationSave").attr("disabled",!0),$("#consultationSave").text("Processing..."),$.ajax({url:$("#indexLiveConsultationCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_consulatation_modal").modal("hide"),setTimeout((function(){t.button("reset")}),2500),$("#consultationSave").attr("disabled",!1),$("#consultationSave").text("save"),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#consultationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3),$("#consultationSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editConsultationForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editConsultationSave");t.button("loading"),$("#editConsultationSave").attr("disabled",!0),$("#editConsultationSave").text("Processing...");var a=$("#liveConsultationId").val();$.ajax({url:$("#indexLiveConsultationUrl").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_consulatation_modal").modal("hide"),$("#editConsultationSave").attr("disabled",!1),$("#editConsultationSave").text("Save"),Livewire.dispatch("refresh"))},error:function(e){manageAjaxErrors(e),$("#editConsultationSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".editConsultationBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexLiveConsultationUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#liveConsultationId").val(t.id),$(".edit-consultation-title").val(t.consultation_title),$(".edit-consultation-date").val(moment(t.consultation_date).format("YYYY-MM-DD h:mm A")),$(".edit-platform-type").val(t.platform_type).trigger("change"),$(".edit-consultation-duration-minutes").val(t.consultation_duration_minutes),$(".edit-patient-name").val(t.patient_id).trigger("change"),$(".edit-doctor-name").val(t.doctor_id).trigger("change"),$(".host-enable,.host-disabled").prop("checked",!1),t.host_video,$('input[name="host_video"][value='.concat(t.host_video,"]")).prop("checked",!0),$(".client-enable,.client-disabled").prop("checked",!1),t.participant_video,$('input[name="participant_video"][value='.concat(t.participant_video,"]")).prop("checked",!0),$(".edit-consultation-type").val(t.type).trigger("change"),setTimeout((function(){$(".edit-consultation-type-number").val(t.type_number).trigger("change")}),1e3),$(".edit-description").val(t.description),$("#edit_consulatation_modal").modal("show"),ajaxCallCompleted()}},error:function(e){401==e.status?displayErrorMessage("js.disconnect_or_reconnect"):manageAjaxErrors(e)}})}})),listenClick(".startConsultationBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexLiveConsultationUrl").val()+"/"+t+"/start",type:"GET",success:function(e){if(e.success){var t=e.data;$("#startConsultationId").val(t.liveConsultation.id),$(".start-modal-title").text(t.liveConsultation.consultation_title),$(".host-name").text(t.liveConsultation.user.full_name),$(".date").text(t.liveConsultation.consultation_date),$(".minutes").text(t.liveConsultation.consultation_duration_minutes),$("#startModal").find(".status").append("started"===t.zoomLiveData.status?$(".status").text("Started"):$(".status").text("Awaited")),$(".start").attr("href",$("#indexConsultationPatientRole").val()?t.liveConsultation.meta.join_url:"started"===t.zoomLiveData.status?$(".start").addClass("disabled"):t.liveConsultation.meta.start_url),"waiting"===t.zoomLiveData.status&&$(".start").removeClass("disabled"),$("#startModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenClick(".deleteConsultationBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexLiveConsultationUrl").val()+"/"+t,"",$("#liveConsultationLang").val())})),listenChange(".change-consultation-status",(function(){var e=$(this).val();$.ajax({url:$("#indexLiveConsultationUrl").val()+"/change-status",type:"GET",data:{statusId:e,id:$(this).attr("data-id")},success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){manageAjaxErrors(e)}})})),listenClick(".showConsultationData",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#indexLiveConsultationUrl").val()+"/"+t,type:"GET",success:function(e){if(e.success){var t=e.data.liveConsultation,a=$("#show_live_consultations_modal");$("#startLiveConsultationId").val(t.id),$("#showConsultationTitle").text(t.consultation_title),$("#showConsultationDate").text(moment(t.consultation_date).format("Do MMM, Y")+" "+moment(t.consultation_date).format("LT")),$("#showConsultationDurationMinutes").text(t.consultation_duration_minutes),$("#showConsultationPatient").text(t.patient.patient_user.full_name),$("#showConsultationDoctor").text(t.doctor.doctor_user.full_name),0==t.type?a.find("#showConsultationType").append("OPD"):a.find("#showConsultationType").append("IPD"),0==t.type?a.find("#showConsultationTypeNumber").append(t.opd_patient.opd_number):a.find("#showConsultationTypeNumber").append(t.ipd_patient.ipd_number),2!=t.platform_type?($(".showConsultationHostVideo").removeClass("d-none"),$(".showConsultationParticipantVideo").removeClass("d-none"),$("#showConsultationHostVideo").text(0===t.host_video?"Disable":"Enable"),$("#showConsultationParticipantVideo").text(0===t.participant_video?"Disable":"Enable"),$("#showConsultationPlatformType").text(Lang.get("js.zoom"))):($(".showConsultationHostVideo").addClass("d-none"),$(".showConsultationParticipantVideo").addClass("d-none"),$("#showConsultationPlatformType").text(Lang.get("js.google_meet"))),isEmpty(t.description)?$("#showConsultationDescription").text("N/A"):$("#showConsultationDescription").text(t.description),a.modal("show")}},error:function(e){manageAjaxErrors(e)}})})),listenHiddenBsModal("#show_live_consultations_modal",(function(){$(this).find("#showConsultationTitle, #showConsultationDate, #showConsultationDurationMinutes, #showConsultationPatient, #showConsultationDoctor, #showConsultationType, #showConsultationTypeNumber, #showConsultationHostVideo, #showConsultationParticipantVideo, #showConsultationDescription").empty()})),listenClick(".add-credential",(function(){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var e,t=$("#zoomUserId").val();e=t,$.ajax({url:"user-zoom-credential/"+e+"/fetch",type:"GET",success:function(e){if(e.success){var t=e.data;isEmpty(t)||($("#zoomApiKey").val(t.zoom_api_key),$("#zoomApiSecret").val(t.zoom_api_secret)),$("#addCredential").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#addZoomForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnZoomSave");t.button("loading"),$.ajax({url:$("#indexZoomCredentialCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addCredential").modal("hide"),setTimeout((function(){t.button("reset")}),2500),Livewire.dispatch("refresh"))},error:function(e){printErrorMessage("#credentialValidationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3)}})})),listenChange("#liveConsultationFilterStatusArr",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#consultationResetFilter",(function(){$("#liveConsultationFilterStatusArr").val(0).trigger("change"),hideDropdownManually($("#liveConsultationFilterBtn"),$(".dropdown-menu"))})),listenChange(".consultation-type",(function(){$(".consultation-type-number").val("").trigger("change")})),listenChange(".patient-name",(function(){$(".consultation-type").val("").trigger("change"),$(".consultation-type-number").trigger("change")})),listenChange(".platform-type",(function(){var e=$(this).val();2==e&&null!=e?($(".host-video-section").addClass("d-none"),$(".participant-video-section").addClass("d-none")):($(".host-video-section").removeClass("d-none"),$(".participant-video-section").removeClass("d-none"))}))})(),Livewire.hook("element.init",(function(){$("#liveMeetingFilterArrID").select2({width:"100%"}),$("#indexLiveMeetingUrl").length&&($(".change-meeting-status").select2({width:"100%"}),$("#meetingUserId, .change-meeting-status").select2({width:"100%"}),$(".editUserId").select2({width:"100%"}),$(".consultation-date, .edit-consultation-date").flatpickr({enableTime:!0,minDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()}))})),listenSubmit("#addLiveMeetingForm",(function(e){e.preventDefault();var t=jQuery(this).find("#meetingSave");$("#meetingSave").attr("disabled",!0),$.ajax({url:$("#indexLiveMeetingCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_live_meeting_modal").modal("hide"),t.attr("disabled",!1),Livewire.dispatch("refresh"),$(".change-meeting-status").select2({width:"100%"}),setTimeout((function(){t.attr("disabled",!1)}),3e3))},error:function(e){setTimeout((function(){t.attr("disabled",!1)}),2e3),printErrorMessage("#meetingErrorsBox",e)}})})),listenHiddenBsModal("#add_live_meeting_modal",(function(){resetModalForm("#addLiveMeetingForm","#meetingErrorsBox"),$("#meetingUserId").val($(".loggedInUserId").val()).trigger("change.select2")})),listenChange(".change-meeting-status",(function(){var e=$(this).val();$.ajax({url:$("#indexLiveMeetingUrl").val()+"/change-status",type:"GET",data:{statusId:e,id:$(this).attr("data-id")},success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){manageAjaxErrors(e)}})})),listen("click",".startMeetingBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexLiveMeetingUrl").val()+"/"+t+"/start",type:"GET",success:function(e){if(e.success){var t=e.data;$("#startLiveConsultationId").val(t.liveMeeting.id),$(".start-modal-title").text(t.liveMeeting.consultation_title),$(".host-name").text(t.liveMeeting.user.full_name),$(".date").text(t.liveMeeting.consultation_date),$(".minutes").text(t.liveMeeting.consultation_duration_minutes),$("#startConsultationModal").find(".status").append("started"===t.zoomLiveData.status?$(".status").text("Started"):$(".status").text("Awaited")),$("#indexMeetingAdminRole").val()||$("#indexMeetingDoctorRole").val()?"started"===t.zoomLiveData.status?$(".start").addClass("disabled"):$(".start").attr("href",t.liveMeeting.meta.start_url):$(".start").attr("href",t.liveMeeting.meta.join_url),"waiting"===t.zoomLiveData.status&&$(".start").removeClass("disabled"),$("#startConsultationModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listen("click",".showMeetingData",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#indexLiveMeetingUrl").val()+"/"+t,type:"GET",success:function(e){if(e.success){var t=e.data;$("#showMeetingId").val(t.id),$("#showMeetingTitle").text(t.consultation_title),$("#showMeetingDate").text(moment(t.consultation_date).format("Do MMM, Y")+" "+moment(t.consultation_date).format("LT")),$("#showMeetingMinutes").text(t.consultation_duration_minutes),0==t.host_video?$("#showMeetingHost").text("Disable"):$("#showMeetingHost").text("Enable"),0==t.participant_video?$("#showMeetingParticipant").text("Disable"):$("#showMeetingParticipant").text("Enable"),isEmpty(t.description)?$("#showMeetingDescription").text("N/A"):$("#showMeetingDescription").text(t.description),$("#show_live_meetings_modal").modal("show")}},error:function(e){manageAjaxErrors(e)}})})),listen("click",".editMeetingBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexLiveMeetingUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#liveMeetingId").val(t.id),$(".edit-consultation-title").val(t.consultation_title),$(".edit-consultation-date").val(moment(t.consultation_date).format("YYYY-MM-DD h:mm A")),$(".edit-consultation-duration-minutes").val(t.consultation_duration_minutes),$(".editUserId").val(t.meetingUsers).trigger("change.select2"),$(".host-enable,.host-disabled").prop("checked",!1),t.host_video,$('input[name="host_video"][value='.concat(t.host_video,"]")).prop("checked",!0),$(".client-enable,.client-disabled").prop("checked",!1),t.participant_video,$('input[name="participant_video"][value='.concat(t.participant_video,"]")).prop("checked",!0),$(".edit-description").val(t.description),$("#edit_live_meeting_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editMeetingForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editMeetingSave");t.button("loading"),t.attr("disabled",!0);var a=$("#liveMeetingId").val();$.ajax({url:$("#indexLiveMeetingUrl").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_live_meeting_modal").modal("hide"),t.attr("disabled",!1),Livewire.dispatch("refresh"))},error:function(e){t.attr("disabled",!1),manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listen("click",".deleteMeetingBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexLiveMeetingUrl").val()+"/"+t,"",$("#liveMeetingLang").val())})),listenHiddenBsModal("#show_live_meetings_modal",(function(){$(this).find("#showMeetingTitle,#showMeetingDate, #showMeetingMinutes, #showMeetingHost, #showMeetingParticipant, #showMeetingDescription").empty()})),listenChange("#liveMeetingFilterArrID",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick("#liveMeetingResetFilter",(function(){$("#liveMeetingFilterArrID").val(0).trigger("change"),hideDropdownManually($("#liveMeetingFilterBtn"),$(".dropdown-menu"))})),listenSubmit("#addVaccinatedNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnVSave");t.button("loading"),$.ajax({url:$("#vaccinationCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addVaccinatedModal").modal("hide"),Livewire.dispatch("refresh"),setTimeout((function(){t.button("reset")}),2500))},error:function(e){printErrorMessage("#validationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3)}})})),listenHiddenBsModal("#addVaccinatedModal",(function(){resetModalForm("#addVaccinatedNewForm","#CreateVValidationErrorsBox")})),listenClick(".edit-vaccinated-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderVaccinationData(t)}})),window.renderVaccinationData=function(e){$.ajax({url:$("#vaccinationUrl").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#vaccinationId").val(t.id),$("#editVaccinatedName").val(t.name),$("#editManufacturedBy").val(t.manufactured_by),$("#editVaccinatedBrand").val(t.brand),$("#editVaccinatedModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editVaccinatedForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnEditVSave");t.button("loading");var a=$("#vaccinationId").val();$.ajax({url:$("#vaccinationUrl").val()+"/"+a+"/update",type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editVaccinatedModal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenClick(".delete-vaccination-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#vaccinationUrl").val()+"/"+t,"#vaccinationsTable",$("#vaccinationLang").val())})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#vaccinatedPatientName,#vPatientVaccinationName").select2({width:"100%",dropdownParent:$("#addVaccinatedPatientModal")}),$("#editVaccinatedPatientName,#editVaccinationPatientName").select2({width:"100%",dropdownParent:$("#editVaccinatedPatientModal")});$("#doesVPGivenDate,#editVPDoesGivenDate").flatpickr({enableTime:!0,defaultDate:new Date,dateFormat:"Y-m-d H:i",locale:$(".userCurrentLanguage").val()})})),listenShownBsModal("#addVaccinatedPatientModal",(function(){$("#doesVPGivenDate").val(moment().format("YYYY-MM-DD HH:mm"))})),listenSubmit("#addVaccinatedPatientNewForm",(function(e){e.preventDefault();var t=jQuery(this).find("#btnVPSave");t.button("loading"),$("#btnVPSave").attr("disabled",!0),$.ajax({url:$("#vaccinatedPatientsStore").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addVaccinatedPatientModal").modal("hide"),Livewire.dispatch("refresh"),setTimeout((function(){t.button("reset")}),2500),$("#btnVPSave").attr("disabled",!1))},error:function(e){printErrorMessage("#validationErrorsBox",e),setTimeout((function(){t.button("reset")}),2e3),$("#btnVPSave").attr("disabled",!1)}})})),listenHiddenBsModal("#addVaccinatedPatientModal",(function(){$("#vaccinatedPatientName").val("").trigger("change"),$("#vPatientVaccinationName").val("").trigger("change"),resetModalForm("#addVaccinatedPatientNewForm","#validationErrorsBox"),$("#btnVPSave").attr("disabled",!1)})),listenClick(".edit-vaccinated-patient-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderVaccinatedPatientData(t)}})),window.renderVaccinatedPatientData=function(e){$.ajax({url:$("#vaccinatedPatientsIndex").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#vPatientId").val(t.id),$("#editVaccinatedPatientName").val(t.patient_id).trigger("change.select2"),$("#editVaccinationPatientName").val(t.vaccination_id).trigger("change.select2"),$("#editVPSerialNo").val(t.vaccination_serial_number),$("#editVPDoseNumber").val(t.dose_number),$("#editVPDoesGivenDate").val(moment(t.dose_given_date).utc().format("YYYY-MM-DD HH:mm:ss")),$("#editVPDescription").val(t.description),$("#editVaccinatedPatientModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editVaccinatedPatientForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editVPBtnSave");t.button("loading");var a=$("#vPatientId").val();$("#editVPBtnSave").attr("disabled",!0),$.ajax({url:$("#vaccinatedPatientsIndex").val()+"/"+a+"/update",type:"post",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editVaccinatedPatientModal").modal("hide"),$("#editVPBtnSave").attr("disabled",!1),Livewire.dispatch("refresh"))},error:function(e){manageAjaxErrors(e),$("#editVPBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".delete-vaccinated-patient-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#vaccinatedPatientsIndex").val()+"/"+t,"#vaccinatedPatientTable",$("#vaccinationPatientLang").val())}))})(),Livewire.hook("element.init",(function(e){"user-table"==e.component.name&&$("#userStatusArr,#userRoleArr").select2({width:"100%"})})),listen("change","#userStatusArr",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listen("change","#userRoleArr",(function(){Livewire.dispatch("changeRoleFilter",{roleFilter:$(this).val()})})),listenClick(".delete-user-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexUserUrl").val()+"/"+t,"#usersTable",$("#userLang").val())})),listenClick("#resetUserFilter",(function(){$("#userRoleArr").val(0).trigger("change"),$("#userStatusArr").val(0).trigger("change"),hideDropdownManually($("#userFilterButton"),$(".dropdown-menu"))})),listenClick(".show-user-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderUsersData(t)})),window.renderUsersData=function(e){$.ajax({url:route("users.show.modal",e),type:"GET",success:function(e){var t;e.success&&($("#userFirstName").text(e.data.first_name),$("#userLastName").text(e.data.last_name),$("#userEmail").text(e.data.email),$("#userShowRole").text(e.data.department.name),$("#userPhone").text(null!==(t=e.data.phone)&&void 0!==t?t:"N/A"),$("#userGender").text(e.data.gender_string),$("#userDob").text(""),null!=e.data.dob&&$("#userDob").text(moment(e.data.dob).format("Mo MMM, YYYY")),$("#userStatus").empty(),1==e.data.status?$("#userStatus").append('<span class="badge bg-light-success">'+Lang.get("js.active")+"</span>"):$("#userStatus").append('<span class="badge bg-light-danger">'+Lang.get("js.deactive")+"</span>"),$("#UserCreatedOn").text(moment(e.data.created_at).fromNow()),$("#userUpdatedOn").text(moment(e.data.updated_at).fromNow()),$("#userProfilePicture").attr("src",e.data.image_url),setValueOfEmptySpan(),$("#showUser").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listen("change",".is-verified-user",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#indexUserUrl").val()+"/"+t+"/is-verified",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})})),listen("change",".user-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateUserStatus(t)})),window.updateUserStatus=function(e){$.ajax({url:$("#indexUserUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},Livewire.hook("element.init",(function(){$("#hospitalStatusArr,#planTypeFilter,#subscriptionStatusFilter,#subscriptionExpireStatusFilter,#super_admin_enquiry_filter").select2({width:"100%"})})),listenSubmit("#addHospitalTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#hospitalTypeSaveBtn");t.button("loading"),$.ajax({url:$(".hospitalTypeCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#createHospitalTypeModal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){t.button("reset")}})})),listenClick(".editHospitalTypeBtn",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:route("super.admin.hospitals.type.edit",t),type:"GET",success:function(e){e.success&&($("#editHospitalTypeId").val(e.data.id),$("#editHospitalTypeName").val(e.data.name),$("#editHospitalTypeModal").modal("show"))},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editHospitalTypeForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editHospitalTypeSaveBtn");t.button("loading");var a=$("#editHospitalTypeId").val();$.ajax({url:route("super.admin.hospitals.type.update",a),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editHospitalTypeModal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){t.button("reset")}})})),listenClick(".deleteHospitalTypeBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("super.admin.hospitals.type.delete",t),"","Hospital Type")})),listenHiddenBsModal("#createHospitalTypeModal",(function(){resetModalForm("#addHospitalTypeForm")})),listenHiddenBsModal("#editHospitalTypeModal",(function(){resetModalForm("#editHospitalTypeForm")})),(()=>{"use strict";document.addEventListener("turbo:load",(function(){if(!$("#userDob").length)return;if($("#userDob").flatpickr({maxDate:new Date,locale:$(".userCurrentLanguage").val()}),!$(".userDoctorDepartment").length)return!1})),listenKeyup("#userFacebookUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#userTwitterUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#userInstagramUrl",(function(){this.value=this.value.toLowerCase()})),listenKeyup("#userLinkedInUrl",(function(){this.value=this.value.toLowerCase()})),listenClick("#btnUserSave",(function(){if(""!==$(".error-msg").text())return $("#phoneNumber").focus(),!1;var e=$("#userFacebookUrl").val(),t=$("#userTwitterUrl").val(),a=$("#userInstagramUrl").val(),i=$("#userLinkedInUrl").val(),n=!0,r=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)facebook.[a-z]{2,3}\/?.*/i),s=new RegExp(/^(https?:\/\/)?((m{1}\.)?)?((w{2,3}\.)?)twitter\.[a-z]{2,3}\/?.*/i),o=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)instagram.[a-z]{2,3}\/?.*/i),d=new RegExp(/^(https?:\/\/)?((w{2,3}\.)?)linkedin\.[a-z]{2,3}\/?.*/i),l=""==e||!!e.match(r);return Lang.setLocale($(".userCurrentLanguage").val()),l?""!=t&&!t.match(s)?(displayErrorMessage(Lang.get("js.please_enter_valid_twitter_url")),setTimeout((function(){$("#btnUserSave").removeAttr("disabled")}),3e3),n=!1,!1):""!=a&&!a.match(o)?(displayErrorMessage(Lang.get("js.please_enter_valid_Instagram_url")),setTimeout((function(){$("#btnUserSave").removeAttr("disabled")}),3e3),n=!1,!1):""!=i&&!i.match(d)?(displayErrorMessage(Lang.get("js.please_enter_valid_linkedin_url")),setTimeout((function(){$("#btnUserSave").removeAttr("disabled")}),3e3),n=!1,!1):void(n&&$("#createUserForm, #editUserForm").submit()):(displayErrorMessage(Lang.get("js.please_enter_valid_facebook_url")),setTimeout((function(){$("#btnUserSave").removeAttr("disabled")}),3e3),n=!1,!1)})),$("#createUserForm, #editUserForm").on("keyup keypress",(function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1})),listen("change","#userProfileImage",(function(){var e=isValidDocument($(this),"#userValidationErrorsBox");isEmpty(e)||0==e||($("#userValidationErrorsBox").html("").hide(),displayDocument(this,"#userPreviewImage",e))})),window.isValidDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg","pdf","doc","docx"])?($(e).val(""),$(t).html(Lang.get("js.image_must_be")).removeClass("display-none").show(),setTimeout((function(){$(t).slideUp(300)}),5e3),!1):($(t).addClass("display-none"),a)},listenClick(".remove-image",(function(){defaultImagePreview("#userPreviewImage",1)})),2==$("#userRole").val()&&($(".doctor_department").removeClass("d-none"),$("#userDoctorDepartmentId").attr("required")),listenChange("#userRole",(function(){2==$(this).val()?($(".doctor_department").removeClass("d-none"),$("#userDoctorDepartmentId").attr("required")):($(".doctor_department").addClass("d-none"),$("#userDoctorDepartmentId").removeAttr("required"))}))})(),listenChange("#aboutUsImage",(function(){var e,t,a,i=(e=$(this),t="#aboutUsErrorsBox",a=$(e).val().split(".").pop().toLowerCase(),-1==$.inArray(a,["jpg","png","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html("The image must be a file of type: jpg, jpeg, png.").show(),!1):($(t).hide(),!0));isEmpty(i)||0==i||($("#aboutUsErrorsBox").html("").hide(),displayDocument(this,"#aboutUsPreviewImage",i))})),listenHiddenBsModal("#editBedTypeModal",(function(){resetModalForm("#editBedTypeForm","#editValidationErrorsBox"),$("#btnEditSave").attr("disabled",!1)})),document.addEventListener("turbo:load",(function(){$("#editBedType").length&&$("#editBedType").select2({width:"100%",dropdownParent:$("#edit_beds_modal")})})),listenHiddenBsModal("#edit_beds_modal",(function(){resetModalForm("#EditBedsForm","#editValidationErrorsBox")})),(()=>{"use strict";listenClick(".editDocsTypeBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#showDocTypeUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#docTypeId").val(e.data.id),$("#editDocTypeName").val(e.data.name),$("#edit_document_types_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),window.editDocumentTypeRecordWithForm=function(e,t){var a=""===e.formSelector?e.formData:$(e.formSelector).serialize();$(t).attr("disabled",!0),$.ajax({url:e.url,type:e.type,data:a,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_document_types_modal").modal("hide"),setTimeout((function(){window.location.reload()}),3e3),$(t).attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$(t).attr("disabled",!1)},complete:function(){t.button("reset")}})}})(),document.addEventListener("turbo:load",(function(){if($("#termConditionPrivacyPolicy").length&&void 0!==$("#termConditionPrivacyPolicy").val()&&1==$("#termConditionPrivacyPolicy").val()){var e=new Quill("#termConditionId",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},placeholder:Lang.get("js.terms_conditions"),theme:"snow"});e.on("text-change",(function(t,a,i){0===e.getText().trim().length&&e.setContents([{insert:""}])}));var t=new Quill("#privacyPolicyId",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]]},placeholder:Lang.get("js.privacy_policy"),theme:"snow"});t.on("text-change",(function(e,a,i){0===t.getText().trim().length&&t.setContents([{insert:""}])}));var a=document.createElement("textarea");a.innerHTML=$(".termConditionData").val(),e.root.innerHTML=a.value,a.innerHTML=$(".privacyPolicyData").val(),t.root.innerHTML=a.value,listenSubmit("#termsAndCondition",(function(){var a=document.createElement("textarea"),i=e.root.innerHTML;a.innerHTML=i;var n=t.root.innerHTML;return 0===e.getText().trim().length?(displayErrorMessage(Lang.get("js.terms_condition_required")),!1):0===t.getText().trim().length?(displayErrorMessage(Lang.get("js.privacy_policy")),!1):($("#termData").val(i.toString()),void $("#privacyData").val(n.toString()))}))}})),listenChange(".homePageImage",(function(){var e,t,a,i=(e=$(this),t="#homeErrorsBox",a=$(e).val().split(".").pop().toLowerCase(),-1==$.inArray(a,["jpg","png","jpeg"])?($(e).val(""),$(t).removeClass("d-none"),$(t).html(Lang.get("js.image_must_be")).show(),!1):($(t).hide(),!0));isEmpty(i)||0==i||($("#homeErrorsBox").html("").hide(),displayDocument(this,"#homePreviewImage",i))})),listenSubmit("#addCMSForm",(function(){var e=$("#homeTitleId").val(),t=$("#homePageExperience").val(),a=$("#homeShortDescription").val(),i=$("#homePageBoxTitle").val(),n=$("#homePageBoxDes").val(),r=$("#homeDoctorTextId").val(),s=$("#homeDoctorTitleId").val(),o=$("#homeDoctorDescription").val(),d=$("#homePageCerBoxTl").val(),l=$("#homePageCerBoxDes").val(),c=$("#homePageStep1Tl").val(),u=$("#homePageStep1Des").val(),p=$("#homePageStep2Tl").val(),m=$("#homePageStep2Des").val(),g=$("#homePageStep3Tl").val(),h=$("#homePageStep3Des").val(),v=$("#homePageStep4Tl").val(),f=$("#homePageStep4Des").val();return isEmpty($.trim(t))?(displayErrorMessage(Lang.get("js.home_page_experience")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(e))?(displayErrorMessage(Lang.get("js.home_page_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(a))?(displayErrorMessage(Lang.get("js.home_page_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(i))?(displayErrorMessage(Lang.get("js.home_page_box_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(n))?(displayErrorMessage(Lang.get("js.home_page_box_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(r))?(displayErrorMessage(Lang.get("js.home_page_certified_doctor_text")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(s))?(displayErrorMessage(Lang.get("js.home_page_certified_doctor_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(o))?(displayErrorMessage(Lang.get("js.home_page_certified_doctor_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(d))?(displayErrorMessage(Lang.get("js.home_page_certified_box_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(l))?(displayErrorMessage(Lang.get("js.home_page_certified_box_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(c))?(displayErrorMessage(Lang.get("js.home_page_step_1_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(u))?(displayErrorMessage(Lang.get("js.home_page_step_1_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(p))?(displayErrorMessage(Lang.get("js.home_page_step_2_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(m))?(displayErrorMessage(Lang.get("js.home_page_step_2_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(g))?(displayErrorMessage(Lang.get("js.home_page_step_3_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(h))?(displayErrorMessage(Lang.get("js.home_page_step_3_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(v))||isEmpty($.trim(v))?(displayErrorMessage(Lang.get("js.home_page_step_4_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(f))?(displayErrorMessage(Lang.get("js.home_page_step_4_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):void 0})),listenSubmit("#createAboutUs",(function(){var e=$("#aboutUsTitle").val(),t=$("#aboutUsDes").val(),a=$("#aboutUsMission").val();return isEmpty($.trim(e))?(displayErrorMessage(Lang.get("js.about_us_title")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(t))?(displayErrorMessage(Lang.get("js.about_us_description")+" "+Lang.get("js.field_not_contain_white_space")),!1):isEmpty($.trim(a))?(displayErrorMessage(Lang.get("js.about_us_mission")+" "+Lang.get("js.field_not_contain_white_space")),!1):void 0})),listenSubmit("#addFrontServiceForm",(function(e){e.preventDefault();var t=jQuery(this).find("#frontServiceSave");$("#frontServiceSave").attr("disabled",!0),t.button("loading");var a=new FormData($(this)[0]);$.ajax({url:$("#indexFrontServicesUrl").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_front_service_modal").modal("hide"),$("#frontServiceSave").attr("disabled",!1),Livewire.dispatch("refresh"))},error:function(e){$("#frontServiceSave").attr("disabled",!1),printErrorMessage("#frontServiceErrorsBox",e)},complete:function(){t.button("reset")}})})),listen("click",".editFrontServiceBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexFrontServicesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){e.success&&($("#frontServiceId").val(e.data.id),e.data.icon_url?$("#editFrontServicePreviewImage").css("background-image",'url("'+e.data.icon_url+'")'):$("#editFrontServicePreviewImage").css("background-image",'url("'+$("#indexServiceDefaultDocumentImageUrl").val()+'")'),$("#editFrontServiceName").val(e.data.name),$("#editFrontServiceDescription").val(e.data.short_description),isEmpty(e.data.icon_url)?($("#frontServiceIconUrl").hide(),$(".btn-view").hide()):($("#frontServiceIconUrl").show(),$(".btn-view").show(),$("#frontServiceIconUrl").attr("href",e.data.icon_url)),$("#edit_front_service_modal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editFrontServiceForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editFrontServiceSave");$("#editFrontServiceSave").attr("disabled",!0),t.button("loading");var a=$("#frontServiceId").val(),i=new FormData($(this)[0]);$.ajax({url:$("#indexFrontServicesUrl").val()+"/"+a,type:"post",data:i,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editFrontServiceSave").attr("disabled",!1),$("#edit_front_service_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){$("#editFrontServiceSave").attr("disabled",!1),manageAjaxErrors(e)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#add_front_service_modal",(function(){resetModalForm("#addFrontServiceForm","#add_front_service_modal #frontServiceErrorsBox"),$("#frontServiceSave").attr("disabled",!1),$("#frontServicePreviewImage").attr("src",$("#indexServiceDefaultDocumentImageUrl").val()).css("background-image","url(".concat($("#indexServiceDefaultDocumentImageUrl").val(),")"))})),listenShownBsModal("#add_front_service_modal",(function(){$("#add_front_service_modal #frontServiceErrorsBox").show(),$("#add_front_service_modal #frontServiceErrorsBox").addClass("d-none")})),listenHiddenBsModal("#edit_front_service_modal",(function(){resetModalForm("#editFrontServiceForm","#edit_front_service_modal #editFrontServiceErrorsBox"),$("#editFrontServiceSave").attr("disabled",!1),$("#editFrontServicePreviewImage").attr("src",$("#indexServiceDefaultDocumentImageUrl").val()).css("background-image","url(".concat($("#indexServiceDefaultDocumentImageUrl").val(),")"))})),listenShownBsModal("#edit_front_service_modal",(function(){$("#edit_front_service_modal #editFrontServiceErrorsBox").show(),$("#edit_front_service_modal #editFrontServiceErrorsBox").addClass("d-none")})),listen("click",".deleteFrontServiceBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexFrontServicesUrl").val()+"/"+t,"","Service")})),document.addEventListener("turbo:load",(function(){})),listenChange(".superUserStatus",(function(e){var t=$(e.currentTarget).attr("data-id");updateHospitalStatus(t)})),window.updateHospitalStatus=function(e){$.ajax({url:$("#userIndexUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenChange(".super-user-is-verified",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#userIndexUrl").val()+"/"+t+"/is-verified",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})})),listenClick(".super-user-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#hospitalIndexUrl").val()+"/"+t,"#superAdminUsersTable","Hospital")})),listenClick(".user-hospital-impersonate",(function(){var e=$(this).data("id"),t=document.createElement("a");t.setAttribute("href",$("#impersonateRoute").val()+"/"+e),document.body.appendChild(t),t.click(),document.body.removeChild(t),$(".user-hospital-impersonate").prop("disabled",!0)})),listenClick("#resetHospitalFilter",(function(){$("#hospitalStatusArr").val("").trigger("change"),hideDropdownManually($("#hospitalFilterBtn"),$(".dropdown-menu"))})),listenChange("#hospitalStatusArr",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),(()=>{Livewire.hook("element.init",(function(){$("#statusArr,#roleArr").select2({width:"100%"})})),listenClick("#hospitalUserResetFilter",(function(){$("#roleArr, #statusArr").val(0).trigger("change"),hideDropdownManually($("#hospitalUserFilterButton"),$(".dropdown-menu"))})),listenChange("#statusArr",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange("#roleArr",(function(){Livewire.dispatch("changeRoleFilter",{roleFilter:$(this).val()})})),$(document).on("contextmenu",".user-impersonate",(function(e){return e.preventDefault(),!1}));var e=!1;$(document).on("keyup keydown",(function(t){e=t.ctrlKey})),$(document).on("click",".user-impersonate",(function(){if(e)return!1;var t=$(this).data("id"),a=document.createElement("a");a.setAttribute("href",$("#showUserIndexURL").val()+"/"+t+"/login"),document.body.appendChild(a),a.click(),document.body.removeChild(a),$(".user-impersonate").prop("disabled",!0)}))})(),document.addEventListener("turbo:load",(function(){})),listenSubmit("#createAdminForm, #editAdminForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1})),listenClick(".admin-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#adminUrl").val()+"/"+t,"",$("#Admin").val())})),listenChange(".admin-status",(function(e){var t=$(e.currentTarget).attr("data-id");updateAdminStatus(t)})),window.updateAdminStatus=function(e){$.ajax({url:$("#adminUrl").val()+"/"+e+"/active-deactive",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},Livewire.hook("element.init",(function(){$("#billingStatusArr,#billingPaymentType").select2({width:"100%"})})),listenClick(".billing-modal",(function(e){var t=$(e.currentTarget).attr("data-id");renderBillingData(t)})),window.renderBillingData=function(e){$.ajax({url:$("#superAdminHospitalBillingModalID").val()+"/"+e,type:"GET",success:function(e){e.success&&($("#plan_name").text(e.data[0].subscription_plan.name),$("#transaction").empty(),1==e.data[0].transactions.payment_type?$("#transaction").append('<span class="badge bg-light-primary">'.concat($("#userStripeType").val(),"</span>")):$("#transaction").append('<span class="badge bg-light-primary">'.concat($("#userPaypalType").val(),"</span>")),$("#amount").text(e.data[0].plan_amount),$("#frequency").text(1==e.data[0].plan_frequency?$("#userSubscriptionMonth").val():$("#userSubscriptionYear").val()),$("#start_date").text(moment(e.data[0].starts_at).format("Do MMM, Y")),$("#end_date").text(moment(e.data[0].ends_at).format("Do MMM, Y")),e.data[0].trial_ends_at?$("#trail_end_date").text(moment(e.data[0].trial_ends_at).format("Do MMM, Y")):$("#trail_end_date").text("N/A"),$("#status").empty(),1==e.data[0].status?$("#status").append('<span class="badge bg-light-success">'.concat($("#userStatusActive").val(),"</span>")):$("#status").append('<span class="badge bg-light-danger">'.concat($("#userStatusDeactive").val(),"</span>")),setValueOfEmptySpan(),$("#showBillingModal").appendTo("body").modal("show"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})},listenClick("#hospitalBillsResetFilter",(function(){$("#billingStatusArr").val(0).trigger("change"),$("#billingPaymentType").val("").trigger("change"),hideDropdownManually($("#hospitalBillsFilterButton"),$(".dropdown-menu"))})),listenChange("#billingStatusArr",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange("#billingPaymentType",(function(){Livewire.dispatch("changePaymentFilter",{paymentFilter:$(this).val()})})),Livewire.hook("element.init",(function(){$("#paymentType").select2({width:"100%"})})),listenClick("#hospitalTransactionsResetFilter",(function(){$("#paymentType").val("").trigger("change"),hideDropdownManually($("#hospitalTransactionsFilterButton"),$(".dropdown-menu"))})),listenChange("#paymentType",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),document.addEventListener("turbo:load",(function(){listenSubmit("#createHospitalUserForm, #editHospitalUserForm",(function(){if(""!==$(".error-msg").text())return $(".phoneNumber").focus(),!1;$(".alert").delay(5e3).slideUp(300)}))})),document.addEventListener("turbo:load",(function(){})),listenClick("#resetSubscriptionPlanFilter",(function(){$("#planTypeFilter").val("").trigger("change"),hideDropdownManually($("#subscriptionPlanFilter"),$(".dropdown-menu"))})),listenChange("#planTypeFilter",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenClick(".subscription-plan-delete-btn",(function(e){var t=$(this).data("id"),a=$("#subscriptionPlanUrl").val()+"/"+t;deleteItem(a,"#subscriptionPlanTable",$("#adminSubscriptionPlanLang").val())})),listenClick(".subscription_plan_is_default",(function(e){var t=$(e.currentTarget).attr("data-id");updateStatusToDefault(t)})),window.updateStatusToDefault=function(e){$.ajax({url:$("#subscriptionPlanUrl").val()+"/"+e+"/make-plan-as-default",method:"post",cache:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})},(()=>{function e(){$(".sms-limit").is(":checked")?$(".sms-limit-section").removeClass("d-none"):$(".sms-limit-section").addClass("d-none")}document.addEventListener("turbo:load",(function(){if($(".price-input").trigger("input"),!$(".currency").length)return;if(!$(".planType").length)return;$(".currency").select2(),$(".planType").select2(),e(),$(".sms-limit").is(":checked")?$(".sms-limit-section").removeClass("d-none"):$(".sms-limit-section").addClass("d-none");$(window).on("beforeunload",(function(){$("input[type=submit]").prop("disabled","disabled")})),$("#createSubscriptionPlanForm, #editSubscriptionPlanForm").find("input:text:visible:first").focus(),listenSubmit("#createSubscriptionPlanForm, #editSubscriptionPlanForm",(function(){$("#btnSave").attr("disabled",!0)}))})),listenChange(".sms-limit , #selectAllPlanFeatures",(function(t){e()}))})(),document.addEventListener("turbo:load",(function(){window.featureChecked=function(e){e===$(".feature:checkbox").length?$("#selectAllPlanFeatures").prop("checked",!0):$("#selectAllPlanFeatures").prop("checked",!1)};var e=$(".feature:checkbox:checked").length;featureChecked(e),listenClick("#selectAllPlanFeatures",(function(){$("#selectAllPlanFeatures").is(":checked")?$(".feature").each((function(){$(this).prop("checked",!0)})):$(".feature").each((function(){$(this).prop("checked",!1)}))})),listenClick(".feature",(function(){var e=$(".feature:checkbox:checked").length;featureChecked(e)}))})),document.addEventListener("turbo:load",(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),listenClick(".freePayment",(function(){var e=this;if("undefined"!=typeof getLoggedInUserdata&&""==getLoggedInUserdata)return window.location.href=logInUrl,!0;if(0===$(this).data("plan-price")){$(this).addClass("disabled");var t={plan_id:$(this).data("id"),price:$(this).data("plan-price")};return $.post(makePaymentURL,t).done((function(e){displaySuccessMessage(e.message),setTimeout((function(){location.reload()}),5e3)})).catch((function(t){$(e).html(subscribeText).removeClass("disabled"),$(".freePayment").attr("disabled",!1),displayErrorMessage(t.responseJSON.message)})),!0}}))})),Livewire.hook("element.init",(function(){$("#paymentTypeArr").select2({width:"100%"}),listenChange("#paymentTypeArr",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})}))})),listenChange(".payment-approve",(function(){var e=$(this).attr("data-id"),t=$(this).val();$.ajax({url:route("change-payment-status",e),type:"GET",data:{id:e,status:t},success:function(e){displaySuccessMessage(e.message),Livewire.dispatch("refresh")},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick("#transactionSideResetFilter",(function(){$("#paymentTypeArr").val(9).trigger("change"),hideDropdownManually($("#subscriptionTransaction"),$(".dropdown-menu"))})),document.addEventListener("turbo:load",(function(){listenClick(".subscribe-delete-btn",(function(){var e=$(this).attr("data-id");deleteItem($("#superAdminSubscribeDestroy").val()+"/"+e,null,$("#subscribeLang").val())}))})),document.addEventListener("turbo:load",(function(){})),listenHiddenBsModal("#createServiceSliderModal",(function(){$("#inputImage").removeClass("image-input-changed"),$("#createServiceImage").val(""),$(".previewImage").css("background-image","url("+$("#defaultServiceSliderDocumentImageUrl").val()+")"),$("#serviceSliderSaveBtn").attr("disabled",!1)})),listenHiddenBsModal("#editServiceSliderModal",(function(){$("#editInputImage").removeClass("image-input-changed"),$("#editServiceImage").val(""),$("#serviceSliderEditBtnSave").attr("disabled",!1)})),listenClick("#serviceSliderSaveBtn",(function(){$("#serviceSliderSaveBtn").attr("disabled",!0),$.ajax({url:$("#superAdminServiceSliderStore").val(),type:"POST",data:new FormData($("#serviceSliderForm")[0]),contentType:!1,processData:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#createServiceSliderModal").modal("hide"),$("#serviceSliderSaveBtn").attr("disabled",!1),setTimeout((function(){Livewire.dispatch("refresh")}),2e3))},error:function(e){displayErrorMessage(e.responseJSON.message),$("#serviceSliderSaveBtn").attr("disabled",!1)},complete:function(){}})})),listenClick(".service-slider-edit-btn",(function(e){!function(e){$.ajax({url:$("#superAdminServiceSliderIndex").val()+"/"+e+"/edit",type:"GET",success:function(e){$("#serviceId").val(e.data.id),$("#editDocumentImage").attr("src",e.data.image_url),$("#previewEditImage").css("background-image",'url("'+e.data.image_url+'")'),$("#editServiceSliderModal").modal("show")}})}($(e.currentTarget).attr("data-id"))})),listenChange("#serviceImage",(function(){var e=isValidFile($(this),"#serviceSliderValidationErrorsBox");isEmpty(e)||0==e||($("#serviceSliderValidationErrorsBox").html("").hide(),displayServicePhoto(this,"#previewImage",e))})),listenChange("#editServiceImage",(function(){var e=isValidFile($(this),"#editServiceSliderValidationErrorsBox");isEmpty(e)||0==e||($("#editServiceSliderValidationErrorsBox").html("").hide(),displayServicePhoto(this,"#previewEditImage",e))})),listenClick("#serviceSliderEditBtnSave",(function(){$("#serviceSliderEditBtnSave").attr("disabled",!0);var e=$("#serviceId").val();$.ajax({url:$("#superAdminServiceSliderIndex").val()+"/"+e,type:"POST",data:new FormData($("#serviceSliderEditForm")[0]),processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editServiceSliderModal").modal("hide"),$("#serviceSliderEditBtnSave").attr("disabled",!1),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message),$("#serviceSliderEditBtnSave").attr("disabled",!1)}})})),listenClick(".service-slider-delete-btn",(function(){var e=$(this).attr("data-id");deleteItem($("#superAdminServiceSliderIndex").val()+"/"+e,null,$("#serviceSliderLang").val())})),window.displayServicePhoto=function(e,t){var a=!0;if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){var i=new Image;i.src=e.target.result,i.onload=function(){$(t).attr("src",e.target.result),a=!0}},a&&(i.readAsDataURL(e.files[0]),$(t).show())}},document.addEventListener("turbo:load",(function(){})),listenSubmit("#addNewFAQForm",(function(e){e.preventDefault();var t=jQuery(this).find("#faqBtnSave");t.button("loading"),$("#faqBtnSave").attr("disabled",!0),$.ajax({url:$("#superAdminFAQStore").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#createFAQModal").modal("hide"),Livewire.dispatch("refresh"),$("#faqBtnSave").attr("disabled",!1))},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#faqBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".faq-edit-btn",(function(e){var t=$(e.currentTarget).attr("data-id");renderFaqData(t)})),listenClick(".faq-show-btn",(function(e){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");$.ajax({url:$("#superAdminFAQIndex").val()+"/"+t,type:"GET",success:function(e){e.success&&($("#showQuestion").text(e.data.question),$("#showAnswer").text(e.data.answer),$("#showFAQModal").modal("show"))},error:function(e){manageAjaxErrors(e)}})})),window.renderFaqData=function(e){$.ajax({url:$("#superAdminFAQIndex").val()+"/"+e+"/edit",type:"GET",success:function(e){$("#faqsId").val(e.data.id),$("#editQuestion").val(e.data.question),$("#editAnswer").val(e.data.answer),$("#editFAQModal").modal("show"),ajaxCallCompleted()},error:function(e){manageAjaxErrors(e)}})},listenSubmit("#editFAQForm",(function(e){e.preventDefault();var t=jQuery(this).find("#faqBtnEditSave");t.button("loading"),$("#faqBtnEditSave").attr("disabled",!0);var a=$("#faqsId").val();$.ajax({url:$("#superAdminFAQIndex").val()+"/"+a,type:"post",data:$(this).serialize(),success:function(e){displaySuccessMessage(e.message),$("#editFAQModal").modal("hide"),Livewire.dispatch("refresh"),$("#faqBtnEditSave").attr("disabled",!1)},error:function(e){manageAjaxErrors(e),$("#faqBtnEditSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#createFAQModal",(function(){resetModalForm("#addNewFAQForm","#createFAQModal #validationErrorsBox"),$("#faqBtnSave").attr("disabled",!1)})),listenHiddenBsModal("#editFAQModal",(function(){resetModalForm("#editFAQForm","#editFAQModal #editValidationErrorsBox"),$("#faqBtnEditSave").attr("disabled",!1)})),listenClick(".faq-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#superAdminFAQIndex").val()+"/"+t,$("#faqsTable"),$("#faqLang").val())})),document.addEventListener("turbo:load",(function(){listenClick(".super-admin-enquiry-delete-btn",(function(e){var t=$(e.currentTarget).data("id");deleteItem($("#enquiryIndexUrl").val()+"/"+t,"#superAdminEnquiriesTable",$("#adminEnquiryLang").val())})),listenClick("#resetAdminEnquiryFilter",(function(){$("#super_admin_enquiry_filter").val(2).trigger("change"),hideDropdownManually($("#adminEnquiriesFilterBtn"),$(".dropdown-menu"))})),listenChange("#super_admin_enquiry_filter",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})}))})),document.addEventListener("turbo:load",(function(){$(".razorpayDataKey").val(),$(".razorpayDataName").val(),$(".razorpayDataImage").val(),$(".razorpayDataCallBackURL").val()})),(()=>{function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;toastData=e,null!==toastData&&setTimeout((function(){$.toast({heading:toastData.toastType,icon:toastData.toastType,bgColor:"danger",textColor:"#ffffff",text:toastData.toastMessage,position:"top-right",stack:!1})}),1e3)}document.addEventListener("turbo:load",(function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),""==$("#paymentType").val()&&$(".paypalPayment, .razor_pay_payment, .cash_payment, .paymentByPaytm, .paymentByPaystack").attr("disabled",!0)})),listenClick(".makePayment",(function(){var t=this;if(void 0!==$(".getLoggedInUserdata").val()&&""==$(".getLoggedInUserdata").val())return window.location.href=$(".logInUrl").val(),!0;var a={plan_id:$(this).data("id"),from_pricing:void 0!==$(".fromPricing").val()?$(".fromPricing").val():null,price:$(this).data("plan-price"),payment_type:$("#paymentType option:selected").val()};$(this).addClass("disabled"),$.post($(".makePaymentURL").val(),a).done((function(t){if(void 0===t.data)return e({toastType:"success",toastMessage:t.message}),setTimeout((function(){window.location.href=$(".subscriptionPlans").val()}),5e3),!0;var a=t.data.sessionId;stripe.redirectToCheckout({sessionId:a}).then((function(t){$(this).html($(".subscribeText").val()).removeClass("disabled"),$(".makePayment").attr("disabled",!1),e({toastType:"error",toastMessage:t.responseJSON.message})}))})).catch((function(a){$(t).html($(".subscribeText").val()).removeClass("disabled"),$(".makePayment").attr("disabled",!1),e({toastType:"error",toastMessage:a.responseJSON.message})}))})),listenChange("#paymentType",(function(){var e=$(this).val();""==e&&$(".makePayment,.paymentByPaypal, .razor_pay_payment, .cash_payment, .paymentByPaytm, .paymentByPaystack, .phonePePayment, .flutterWavePayment").attr("disabled",!0),1==e&&($(".proceed-to-payment, .razorPayPayment, .cashPayment, .paytmPayment, .paystackPayment,.manuallyPayAttachment, .phonePePayment, .flutterWavePayment").addClass("d-none"),$(".stripePayment").removeClass("d-none"),$(".makePayment").attr("disabled",!1)),2==e&&($(".proceed-to-payment, .razorPayPayment, .cashPayment, .paytmPayment, .paystackPayment,.manuallyPayAttachment, .phonePePayment, .flutterWavePayment").addClass("d-none"),$(".paypalPayment").removeClass("d-none"),$(".paymentByPaypal").attr("disabled",!1)),3==e&&($(".proceed-to-payment, .paypalPayment, .cashPayment, .paytmPayment, .paystackPayment,.manuallyPayAttachment, .phonePePayment, .flutterWavePayment").addClass("d-none"),$(".razorPayPayment").removeClass("d-none"),$(".razor_pay_payment").attr("disabled",!1)),4==e&&($(".proceed-to-payment, .paypalPayment, .razorPayPayment, .paytmPayment, .paystackPayment, .phonePePayment, .flutterWavePayment").addClass("d-none"),$(".cashPayment").removeClass("d-none"),$(".manuallyPayAttachment").removeClass("d-none"),$(".cash_payment").attr("disabled",!1),null!=$(".manual-intro").val()?$(".manualIntro").removeClass("d-none"):$(".manualIntro").addClass("d-none")),5==e&&($(".proceed-to-payment, .paypalPayment, .razorPayPayment, .cashPayment, .paystackPayment,.manuallyPayAttachment, .flutterWavePayment").addClass("d-none"),$(".paytmPayment").removeClass("d-none"),$(".paymentByPaytm").attr("disabled",!1)),6==e&&($(".proceed-to-payment, .paypalPayment, .razorPayPayment, .cashPayment, .paytmPayment,.manuallyPayAttachment, .phonePePayment, .flutterWavePayment").addClass("d-none"),$(".paystackPayment").removeClass("d-none"),$(".paymentByPaystack").attr("disabled",!1)),7==e&&($(".proceed-to-payment, .paypalPayment, .razorPayPayment, .cashPayment, .paytmPayment,.manuallyPayAttachment, .paystackPayment, .flutterWavePayment").addClass("d-none"),$(".phonePePayment").removeClass("d-none"),$(".paymentByPhonePe").attr("disabled",!1)),8==e&&($(".proceed-to-payment, .paypalPayment, .razorPayPayment, .cashPayment, .paytmPayment,.manuallyPayAttachment, .paystackPayment, .phonePePayment").addClass("d-none"),$(".flutterWavePayment").removeClass("d-none"),$(".paymentByflutterWave").attr("disabled",!1))})),listenClick(".paymentByPaypal",(function(){var t=void 0!==$(".fromPricing").val()?$(".fromPricing").val():null;$(this).addClass("disabled"),$.ajax({type:"GET",url:route("paypal.init"),data:{planId:$(this).data("id"),from_pricing:t,payment_type:$("#paymentType option:selected").val()},success:function(t){if(t.success)return e({toastType:"success",toastMessage:t.message}),setTimeout((function(){window.location.href=$(".subscriptionPlans").val()}),5e3),!0;if(t.url&&(window.location.href=t.url),201==t.status){location.href=t.link}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listenClick(".paymentByPhonePe",(function(){var e=void 0!==$(".fromPricing").val()?$(".fromPricing").val():null;$(this).addClass("disabled"),$.ajax({type:"GET",url:route("subscription.phonepe.init"),data:{planId:$(this).data("id"),from_pricing:e},success:function(e){null!=e.data.url&&(window.location.href=e.data.url)},error:function(e){$(".ajax-message").css("display","block"),$(".ajax-message").html('<div class="err alert alert-danger">'+e.responseJSON.message+"</div>").delay(5e3).hide("slow"),displayErrorMessage(e.responseJSON.message),$(this).removeClass("disabled")}})})),listenClick(".paymentByPaytm",(function(){var e=void 0!==$(".fromPricing").val()?$(".fromPricing").val():null;window.location.replace(route("paytm.init",{planId:$(this).data("id"),from_pricing:e}))}));var t={key:$(".razorpayDataKey").val(),amount:1,currency:"INR",name:$(".razorpayDataName").val(),order_id:"",description:"",image:$(".razorpayDataImage").val(),callback_url:route("razorpay.success"),prefill:{email:"",name:"",contact:""},readonly:{name:"true",email:"true",contact:"true"},modal:{ondismiss:function(){$.ajax({type:"POST",url:$(".razorpayPaymentFailed").val(),success:function(e){e.url&&(displayErrorMessage("Payment not completed."),setTimeout((function(){window.location.href=e.url}),3e3))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}}};function a(e){$.ajax({type:"POST",url:$(".razorpayPaymentFailed").val(),data:{data:e},success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)}})}listenClick(".razor_pay_payment",(function(){$(this).addClass("disabled"),$.ajax({type:"POST",url:$(".makeRazorpayURl").val(),data:{plan_id:$(this).data("id"),from_pricing:void 0!==$(".fromPricing").val()?$(".fromPricing").val():null},success:function(e){if(e.url&&(window.location.href=e.url),e.success){var i=e.data,n=i.id,r=i.amount,s=i.name,o=i.email,d=i.contact,l=i.planID;t.amount=r,t.order_id=n,t.prefill.name=s,t.prefill.email=o,t.prefill.contact=d,t.prefill.planID=l;var c=new Razorpay(t);c.open(),c.on("payment.failed",a)}},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listenClick(".cash_payment",(function(){$(this).addClass("disabled");var e=new FormData($(".manuallyPaymentForm")[0]);$.ajax({type:"POST",url:$(".cashPaymentUrl").val(),data:e,processData:!1,contentType:!1,success:function(e){e.url&&(window.location.href=e.url)},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){}})})),listenClick(".paymentByPaystack",(function(){var e=void 0!==$(".fromPricing").val()?$(".fromPricing").val():null;window.location.replace(route("paystack.init",{planId:$(this).data("id"),from_pricing:e}))})),listenClick("#resetSubscriptionFilter",(function(){$("#subscriptionStatusFilter").val("").trigger("change"),$("#subscriptionExpireStatusFilter").val("").trigger("change"),hideDropdownManually($("#subscriptionFilter"),$(".dropdown-menu"))})),listenChange("#subscriptionStatusFilter",(function(){Livewire.dispatch("changeFilter",{statusFilter:$(this).val()})})),listenChange("#subscriptionExpireStatusFilter",(function(){Livewire.dispatch("changeExpireFilter",{expireStatusFilter:$(this).val()})})),listenClick(".paymentByflutterWave",(function(){$(this).addClass("disabled"),$.ajax({type:"GET",url:route("purchase.subscription.flutterwave"),data:{plan_id:$(this).data("id"),from_pricing:void 0!==$(".fromPricing").val()?$(".fromPricing").val():null},success:function(e){null!=e.data.url&&(window.location.href=e.data.url)},error:function(e){$(".ajax-message").css("display","block"),$(".ajax-message").html('<div class="err alert alert-danger">'+e.responseJSON.message+"</div>").delay(5e3).hide("slow"),displayErrorMessage(e.responseJSON.message),$(this).removeClass("disabled")}})}))})(),document.addEventListener("turbo:load",(function(){})),listenSubmit("#addNewTestimonialForm",(function(e){e.preventDefault();var t=jQuery(this).find("#testimonialBtnSave");t.button("loading");var a=new FormData($(this)[0]);$("#testimonialBtnSave").attr("disabled",!0),$.ajax({url:$("#superAdminTestimonialStore").val(),type:"POST",dataType:"json",data:a,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addTestimonialModal").modal("hide"),Livewire.dispatch("refresh"),$("#testimonialBtnSave").attr("disabled",!1))},error:function(e){printErrorMessage("#validationErrorsBox",e),$("#testimonialBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".testimonial-show-btn",(function(){var e=$(this).attr("data-id");$.ajax({url:$("#superAdminTestimonialIndex").val()+"/"+e,type:"GET",success:function(e){e.success&&(e.data.image_url.split(".").pop().toLowerCase(),$("#showPreviewImage").css("background-image",'url("'+e.data.image_url+'")'),$(".show-name").text(e.data.name),$(".show-position").text(e.data.position),$(".show-description").text(e.data.description),isEmpty(e.data.document_url)?($("#documentUrl").hide(),$(".btn-view").hide()):($("#documentUrl").show(),$(".btn-view").show(),$("#documentUrl").attr("href",e.data.document_url)),$("#showModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})})),listenClick(".testimonial-edit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderTestimonialData(t)}})),window.renderTestimonialData=function(e){$.ajax({url:$("#superAdminTestimonialIndex").val()+"/"+e+"/edit",type:"GET",success:function(e){e.success&&(e.data.image_url.split(".").pop().toLowerCase(),$("#editPreviewImage").css("background-image",'url("'+e.data.image_url+'")'),$("#testimonialId").val(e.data.id),$("#editName").val(e.data.name),$("#editPosition").val(e.data.position),$("#editDescription").val(e.data.description),isEmpty(e.data.document_url)?($("#documentUrl").hide(),$(".btn-view").hide()):($("#documentUrl").show(),$(".btn-view").show(),$("#documentUrl").attr("href",e.data.document_url)),$("#editTestimonialModal").modal("show"),ajaxCallCompleted())},error:function(e){manageAjaxErrors(e)}})},$(".description").on("keyup",(function(){$(".description").attr("maxlength",150)})),$(".description").attr("maxlength",150),listenSubmit("#editAdminTestimonialForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editTestimonialBtnSave");t.button("loading"),$("#editTestimonialBtnSave").attr("disabled",!0);var a=$("#testimonialId").val(),i=new FormData($(this)[0]);$.ajax({url:$("#superAdminTestimonialIndex").val()+"/"+a,type:"post",data:i,processData:!1,contentType:!1,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editTestimonialModal").modal("hide"),Livewire.dispatch("refresh"),$("#editTestimonialBtnSave").attr("disabled",!1))},error:function(e){manageAjaxErrors(e),$("#editTestimonialBtnSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addTestimonialModal",(function(){resetModalForm("#addNewTestimonialForm","#addTestimonialModal #validationErrorsBox"),$("#previewImage").attr("src",$("#testimonialDefaulImageURL").val()).css("background-image","url(".concat($("#testimonialDefaulImageURL").val(),")")),$("#testimonialBtnSave").attr("disabled",!1)})),listenShownBsModal("#addTestimonialModal",(function(){$("#addTestimonialModal #validationErrorsBox").show(),$("#addTestimonialModal #validationErrorsBox").addClass("d-none")})),listenHiddenBsModal("#editTestimonialModal",(function(){resetModalForm("#editAdminTestimonialForm","#editTestimonialModal #editValidationErrorsBox"),$("#previewImage").attr("src",$("#testimonialDefaulImageURL").val()).css("background-image","url(".concat($("#testimonialDefaulImageURL").val(),")")),$("#editTestimonialBtnSave").attr("disabled",!1)})),listenShownBsModal("#editTestimonialModal",(function(){$("#editTestimonialModal #editValidationErrorsBox").show(),$("#editTestimonialModal #editValidationErrorsBox").addClass("d-none")})),listenClick(".testimonial-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("admin-testimonial.destroy",t),$("#AdminTestimonialTbl"),$("#adminTestimonialLang").val())})),listenChange("#profile",(function(){var e=isValidDocument($(this),"#addTestimonialModal #validationErrorsBox");isEmpty(e)||0==e||displayDocument(this,"#previewImage",e)})),listenChange("#editProfile",(function(){var e=isValidDocument($(this),"#editTestimonialModal #editValidationErrorsBox");isEmpty(e)||0==e||displayDocument(this,"#editPreviewImage",e)})),window.isValidDocument=function(e,t){var a=$(e).val().split(".").pop().toLowerCase();return-1==$.inArray(a,["png","jpg","jpeg"])?($(e).val(""),$(t).html($("#testimonialProfileError").val()).removeClass("d-none"),!1):($(t).html($("#testimonialProfileError").val()).addClass("d-none"),a)},$(document).ready((function(){$(document).on("click",".languageSelection",(function(){var e=$(this).attr("data-prefix-value");$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",url:"/language-change-name",data:{languageName:e},success:function(){location.reload()}})}))})),(()=>{function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Livewire.hook("element.init",(function(){!function(){var t;if(!$(".super-admin-dashboard").length)return;var a,i,n,r,s="line",o=moment(),d=o.clone().startOf("month"),l=o.clone().endOf("month");function c(e,t){$("#chartFilter").html(e+" - "+t)}function u(e,t){$.ajax({type:"GET",url:route("super.admin.income.chart"),dataType:"json",data:{start_date:e,end_date:t},success:function(e){if(e.success){$("#hospitalIncomeChart").html(""),$("#hospitalIncomeChart").append('<canvas id="revenueChart" height="200"></canvas>');var t=document.getElementById("revenueChart").getContext("2d");t.canvas.style.height="500px";new Chart(t,{type:s,data:{labels:e.data.days,datasets:[e.data.income]},options:{plugins:{tooltip:{callbacks:{label:function(e){var t=e.dataset.label||"";return t&&(t+=": "),null!==e.parsed.y&&(t+=$(".superAdminCurrentCurrency").val()+new Intl.NumberFormat("en-US",{}).format(e.parsed.y)),t}}},legend:{display:!1}},scales:{y:{beginAtZero:!0,stacked:!0,ticks:{min:0,callback:function(e){return $(".superAdminCurrentCurrency").val()+new Intl.NumberFormat("en-US",{}).format(e)}}}},responsive:!0,maintainAspectRatio:!0,responsiveAnimationDuration:500,legend:{display:!1}}})}}})}$("#chartFilter").daterangepicker({startDate:d,endDate:l,locale:{format:"D/MM/Y",customRangeLabel:Lang.get("js.custom"),applyLabel:Lang.get("js.apply"),cancelLabel:Lang.get("js.cancel"),fromLabel:Lang.get("js.from"),toLabel:Lang.get("js.to"),monthNames:[Lang.get("js.jan"),Lang.get("js.feb"),Lang.get("js.mar"),Lang.get("js.apr"),Lang.get("js.may"),Lang.get("js.jun"),Lang.get("js.jul"),Lang.get("js.aug"),Lang.get("js.sep"),Lang.get("js.oct"),Lang.get("js.nov"),Lang.get("js.dec")],daysOfWeek:[Lang.get("js.sun"),Lang.get("js.mon"),Lang.get("js.tue"),Lang.get("js.wed"),Lang.get("js.thu"),Lang.get("js.fri"),Lang.get("js.sat")]},ranges:(t={},e(t,Lang.get("js.today"),[moment(),moment()]),e(t,Lang.get("js.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(t,Lang.get("js.last_7_days"),[moment().subtract(6,"days"),moment()]),e(t,Lang.get("js.last_30_days"),[moment().subtract(29,"days"),moment()]),e(t,Lang.get("js.this_month"),[moment().startOf("month"),moment().endOf("month")]),e(t,Lang.get("js.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),t)},c),c(d,l),setTimeout((function(){a=d.format("DD-MM-YYYY"),i=l.format("DD-MM-YYYY"),u(a,i)}),1e3),$("#chartFilter").on("apply.daterangepicker",(function(e,t){d=t.startDate.format("YYYY-MM-D"),l=t.endDate.format("YYYY-MM-D"),u(d,l)})),listenClick("#changeChart",(function(){"line"==s?(s="bar",$(".chart").removeClass("fa-chart-bar"),$(".chart").addClass("fa-chart-line"),n?u(n,r):u(a,i)):(s="line",$(".chart").addClass("fa-chart-bar"),$(".chart").removeClass("fa-chart-line"),n?u(n,r):u(a,i))}))}()}))})(),document.addEventListener("turbo:load",(function(){listenClick("#resetFilter",(function(){$("#paymentTypeArr, #statusArr, #frequencyArr").val("").trigger("change"),hideDropdownManually(".dropdown-menu,#dropdownMenuButton1")}))})),document.addEventListener("turbo:load",(function(){$("#subscriptionStatus").select2(),$("#subscriptionEndsAt").flatpickr({dateFormat:"Y-m-d H:i",defaultDate:$("#subscriptionEndAt").val(),minDate:$("#subscriptionEndAt").val(),enableTime:!0,locale:$(".userCurrentLanguage").val()}),listenSubmit("#editSubscription",(function(){$("#subscriptionBtnSave").attr("disabled",!0)}))})),document.addEventListener("turbo:load",(function(){})),listenSubmit("#addCurrencyForm",(function(e){e.preventDefault(),$.ajax({url:$("#indexCurrencyCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_currency_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenHiddenBsModal("#add_currency_modal",(function(){resetModalForm("#addCurrencyForm")})),listenClick(".currency-edit-btn",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexCurrenciesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#editCurrencyId").val(t.id),$("#editCurrencyName").val(t.currency_name),$("#editCurrencyCode").val(t.currency_code),$("#editCurrencyIcon").val(t.currency_icon),$("#edit_currency_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editCurrencyForm",(function(e){e.preventDefault();var t=$("#editCurrencyId").val();$.ajax({url:$("#indexCurrenciesUrl").val()+"/"+t,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_currency_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick(".currency-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexCurrenciesUrl").val()+"/"+t,"",Lang.get("js.currency"))})),document.addEventListener("turbo:load",(function(){})),listenSubmit("#addSuperAdminCurrencyForm",(function(e){e.preventDefault(),$.ajax({url:$("#indexAdminCurrencyCreateUrl").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#add_admin_currency_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenHiddenBsModal("#add_admin_currency_modal",(function(){resetModalForm("#addSuperAdminCurrencyForm")})),listenClick(".admin-currency-edit-btn",(function(e){var t,a=$(e.currentTarget).attr("data-id");t=a,$.ajax({url:$("#indexAdminCurrenciesUrl").val()+"/"+t+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#editAdminCurrencyId").val(t.id),$("#editAdminCurrencyName").val(t.currency_name),$("#editAdminCurrencyCode").val(t.currency_code),$("#editAdminCurrencyIcon").val(t.currency_icon),$("#edit_admin_currency_modal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})})),listenSubmit("#editAdminCurrencyForm",(function(e){e.preventDefault();var t=$("#editAdminCurrencyId").val();$.ajax({url:$("#indexAdminCurrenciesUrl").val()+"/"+t,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_admin_currency_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick(".admin-currency-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("super-admin-currency-settings.destroy",t),"",Lang.get("js.currency"))})),(()=>{function e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Livewire.hook("element.init",(function(){!function(){var t;if(function(){var t;if(!$("#holidayDateFilter").length)return;var a=moment().startOf("week"),i=moment().endOf("week");function n(e,t){$("#holidayDateFilter").val(e.format("YYYY-MM-DD")+" - "+t.format("YYYY-MM-DD"))}$("#holidayDateFilter").daterangepicker({startDate:a,endDate:i,opens:"left",showDropdowns:!0,locale:{customRangeLabel:Lang.get("js.custom"),applyLabel:Lang.get("js.apply"),cancelLabel:Lang.get("js.cancel"),fromLabel:Lang.get("js.from"),toLabel:Lang.get("js.to"),monthNames:[Lang.get("js.jan"),Lang.get("js.feb"),Lang.get("js.mar"),Lang.get("js.apr"),Lang.get("js.may"),Lang.get("js.jun"),Lang.get("js.jul"),Lang.get("js.aug"),Lang.get("js.sep"),Lang.get("js.oct"),Lang.get("js.nov"),Lang.get("js.dec")],daysOfWeek:[Lang.get("js.sun"),Lang.get("js.mon"),Lang.get("js.tue"),Lang.get("js.wed"),Lang.get("js.thu"),Lang.get("js.fri"),Lang.get("js.sat")]},ranges:(t={},e(t,Lang.get("js.today"),[moment(),moment()]),e(t,Lang.get("js.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(t,Lang.get("js.this_week"),[moment().startOf("week"),moment().endOf("week")]),e(t,Lang.get("js.last_30_days"),[moment().subtract(29,"days"),moment()]),e(t,Lang.get("js.this_month"),[moment().startOf("month"),moment().endOf("month")]),e(t,Lang.get("js.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),t)},n),n(a,i)}(),listenClick(".doctor-holiday-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("holidays.destroy",t),"",Lang.get("js.holiday"))})),!$("#doctorHolidayDateFilter").length)return;var a=moment().startOf("week"),i=moment().endOf("week");function n(e,t){$("#doctorHolidayDateFilter").val(e.format("YYYY-MM-DD")+" - "+t.format("YYYY-MM-DD"))}$("#doctorHolidayDateFilter").daterangepicker({startDate:a,endDate:i,opens:"left",showDropdowns:!0,locale:{customRangeLabel:Lang.get("js.custom"),applyLabel:Lang.get("js.apply"),cancelLabel:Lang.get("js.cancel"),fromLabel:Lang.get("js.from"),toLabel:Lang.get("js.to"),monthNames:[Lang.get("js.jan"),Lang.get("js.feb"),Lang.get("js.mar"),Lang.get("js.apr"),Lang.get("js.may"),Lang.get("js.jun"),Lang.get("js.jul"),Lang.get("js.aug"),Lang.get("js.sep"),Lang.get("js.oct"),Lang.get("js.nov"),Lang.get("js.dec")],daysOfWeek:[Lang.get("js.sun"),Lang.get("js.mon"),Lang.get("js.tue"),Lang.get("js.wed"),Lang.get("js.thu"),Lang.get("js.fri"),Lang.get("js.sat")]},ranges:(t={},e(t,Lang.get("js.today"),[moment(),moment()]),e(t,Lang.get("js.yesterday"),[moment().subtract(1,"days"),moment().subtract(1,"days")]),e(t,Lang.get("js.this_week"),[moment().startOf("week"),moment().endOf("week")]),e(t,Lang.get("js.last_7_days"),[moment().subtract(6,"days"),moment()]),e(t,Lang.get("js.last_30_days"),[moment().subtract(29,"days"),moment()]),e(t,Lang.get("js.this_month"),[moment().startOf("month"),moment().endOf("month")]),e(t,Lang.get("js.last_month"),[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]),t)},n),n(a,i)}()})),listenChange("#doctorHolidayStatus",(function(){$("#doctorHolidayStatus").val($(this).val()),Livewire.dispatch("changeStatusFilter",$(this).val())})),listenChange("#holidayDateFilter,#doctorHolidayDateFilter",(function(){Livewire.dispatch("changeDateFilter",{dateFilter:$(this).val()})})),listenClick(".holiday-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("doctors.holiday-destroy",t),Lang.get("messages.holiday.holiday"))})),listenClick("#holidayDateResetFilter",(function(){$("#holidayDateFilter").data("daterangepicker").setStartDate(moment().startOf("week").format("MM/DD/YYYY")),$("#holidayDateFilter").data("daterangepicker").setEndDate(moment().endOf("week").format("MM/DD/YYYY")),hideDropdownManually($("#holidayFilterBtn"),$(".dropdown-menu"))})),listenClick("#doctorHolidayResetFilter",(function(){$("#doctorHolidayDateFilter").data("daterangepicker").setStartDate(moment().startOf("week").format("MM/DD/YYYY")),$("#doctorHolidayDateFilter").data("daterangepicker").setEndDate(moment().endOf("week").format("MM/DD/YYYY")),hideDropdownManually($("#doctorHolidayFilterBtn"),$(".dropdown-menu"))}))})(),document.addEventListener("turbo:load",(function(){var e=$(".currentLanguage").val();$("#doctorHolidayDate").flatpickr({locale:e,minDate:(new Date).fp_incr(1),disableMobile:!0})})),document.addEventListener("turbo:load",(function(){var e=$(".currentLanguage").val();$("#doctorLunchBreakDate").flatpickr({locale:e,minDate:new Date,disableMobile:!0}),$(".breakFrom").flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",minTime:"00:05:00",time_24hr:!0}),$(".breakTo").flatpickr({enableTime:!0,noCalendar:!0,enableSeconds:!0,dateFormat:"H:i:S",time_24hr:!0,minTime:"00:05:00"})})),listenClick("#editOneDay",(function(){$(".customiseDate").removeClass("d-none")})),listenClick("#editEveryDay",(function(){$(".customiseDate").addClass("d-none")})),listenClick(".doctor-lunch-break-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("breaks.destroy",t),"",Lang.get("js.lunch_break"))})),listenSubmit(".doctorBreakForm",(function(e){e.preventDefault();var t=$(".breakFrom").val(),a=$(".breakTo").val();return"00:00:00"==t?(displayErrorMessage(Lang.get("js.break_time_greater_than_zero")),!1):"00:00:00"==a?(displayErrorMessage(Lang.get("js.break_to_time_greater_than_zero")),!1):a==t?(displayErrorMessage(Lang.get("js.break_to_time_greater_than_from_time")),!1):1==$("#editOneDay").is(":checked")&&""==$.trim($("#doctorLunchBreakDate").val())?(displayErrorMessage(Lang.get("js.date_required")),!1):void $(this)[0].submit()})),(()=>{"use strict";listenSubmit("#addPathologyUnitForm",(function(e){e.preventDefault();var t=jQuery(this).find("#pathologyUnitSave");t.button("loading"),$("#pathologyUnitSave").attr("disabled",!0),$.ajax({url:$("#createPathologyUnitURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addPathologyUnitsModal").modal("hide"),Livewire.dispatch("refresh"),$("#pathologyUnitSave").attr("disabled",!1))},error:function(e){printErrorMessage("#pUniValidationErrorsBox",e),$("#pathologyUnitSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editPathologyUnitsForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editPathologyUnitSaveBtn");t.button("loading");var a=$("#pathologyUnitId").val();$("#editPathologyUnitSaveBtn").attr("disabled",!0),$.ajax({url:$("#pathologyUnitURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editPathologyUnitsModal").modal("hide"),Livewire.dispatch("refresh"),$("#editPathologyUnitSaveBtn").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#editPathologyUnitSaveBtn").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addPathologyUnitsModal",(function(){resetModalForm("#addPathologyUnitForm","#pUniValidationErrorsBox"),$("#pathologyUnitSave").attr("disabled",!1)})),listenHiddenBsModal("#editPathologyUnitsModal",(function(){resetModalForm("#editPathologyUnitsForm","#editPUniValidationErrorsBox"),$("#editPathologyUnitSaveBtn").attr("disabled",!1)})),window.renderPathologyUnitData=function(e){$.ajax({url:$("#pathologyUnitURL").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#pathologyUnitId").val(t.id),$("#editPathologyUnitName").val(t.name),$("#editPathologyUnitsModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".edit-pathology-unit-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderPathologyUnitData(t)}})),listenClick(".delete-pathology-unit-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#pathologyUnitURL").val()+"/"+t,"#pathologyUnitTable",$("#pathologyUnitLang").val())}))})(),(()=>{"use strict";document.addEventListener("turbo:load",(function(){$("#pathologyParameterUnitId,.edit-unit").select2({width:"100%"})})),listenSubmit("#addPathologyParameterForm",(function(e){e.preventDefault();var t=jQuery(this).find("#pathologyParameterSave");t.button("loading"),$("#pathologyParameterSave").attr("disabled",!0),$.ajax({url:$("#createPathologyParameterURL").val(),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addPathologyParametersModal").modal("hide"),Livewire.dispatch("refresh"),$("#pathologyParameterSave").attr("disabled",!1))},error:function(e){printErrorMessage("#parameterValidationErrorsBox",e),$("#pathologyParameterSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenSubmit("#editPathologyParameterForm",(function(e){e.preventDefault();var t=jQuery(this).find("#editPathologyParameterSaveBtn");t.button("loading");var a=$("#pathologyParameterId").val();$("#editPathologyCategorySaveBtn").attr("disabled",!0),$.ajax({url:$("#pathologyParameterURL").val()+"/"+a,type:"patch",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#editPathologyParametersModal").modal("hide"),Livewire.dispatch("refresh"),$("#editPathologyParameterSaveBtn").attr("disabled",!1))},error:function(e){UnprocessableInputError(e),$("#editPathologyParameterSaveBtn").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenHiddenBsModal("#addPathologyParametersModal",(function(){resetModalForm("#addPathologyParameterForm","#parameterValidationErrorsBox"),$("#pathologyParameterSave").attr("disabled",!1)})),listenHiddenBsModal("#editPathologyParametersModal",(function(){resetModalForm("#editPathologyParameterForm","#editParameterValidationErrorsBox"),$("#editPathologyParameterSaveBtn").attr("disabled",!1)})),window.renderPathologyParameterData=function(e){$.ajax({url:$("#pathologyParameterURL").val()+"/"+e+"/edit",type:"GET",success:function(e){if(e.success){var t=e.data;$("#pathologyParameterId").val(t.id),$("#editPathologyParameterName").val(t.parameter_name),$("#editParameterRange").val(t.reference_range),$("#editPathologyUnitId").val(t.unit_id).trigger("change"),$("#editParameterDescription").val(t.description),$("#editPathologyParametersModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})},listenClick(".edit-pathology-parameter-btn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t=$(e.currentTarget).attr("data-id");renderPathologyParameterData(t)}})),listenClick(".delete-pathology-parameter-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#pathologyParameterURL").val()+"/"+t,"#pathologyParameterTable",$("#pathologyParameterLang").val())}))})(),document.addEventListener("turbo:load",(function(){if($("#cardTemplateID,.patient-id").select2({width:"100%",dropdownParent:$("#addPatientCardModal")}),!$(".header-color-wrapper").length)return!1;var e=Pickr.create({el:".header-color-wrapper",theme:"nano",closeWithKey:"Enter",autoReposition:!0,defaultRepresentation:"HEX",position:"bottom-start",swatches:["rgba(244, 67, 54, 1)","rgba(233, 30, 99, 1)","rgba(156, 39, 176, 1)","rgba(103, 58, 183, 1)","rgba(63, 81, 181, 1)","rgba(33, 150, 243, 1)","rgba(3, 169, 244, 1)","rgba(0, 188, 212, 1)","rgba(0, 150, 136, 1)","rgba(76, 175, 80, 1)","rgba(139, 195, 74, 1)","rgba(205, 220, 57, 1)","rgba(255, 235, 59, 1)","rgba(255, 193, 7, 1)"],components:{preview:!0,hue:!0,interaction:{input:!0,clear:!1,save:!1}}});$("#headerColorId").val(e.getColor().toHEXA().toString()),e.on("change",(function(){var t=e.getColor().toHEXA().toString();$(".custom-card-header").css("background-color",t),$("#editHeaderColorId").length?(e.setColor(t),$("#editHeaderColorId").val(t)):(e.setColor(t),$("#headerColorId").val(t))})),e.on("init",(function(){e.setColor($("#editHeaderColorId").val())})),$("#showEmail").on("change",(function(){0==$(this).prop("checked")?$("#patientEmail").addClass("d-none"):$("#patientEmail").removeClass("d-none")})),$("#showPhone").on("change",(function(){0==$(this).prop("checked")?$("#patientNumber").addClass("d-none"):$("#patientNumber").removeClass("d-none")})),$("#showDob").on("change",(function(){0==$(this).prop("checked")?$("#patientDob").addClass("d-none"):$("#patientDob").removeClass("d-none")})),$("#showBloodGroup").on("change",(function(){0==$(this).prop("checked")?$("#patientBloodGroup").addClass("d-none"):$("#patientBloodGroup").removeClass("d-none")})),$("#showAddress").on("change",(function(){0==$(this).prop("checked")?$("#patientAddress").addClass("d-none"):$("#patientAddress").removeClass("d-none")})),$("#showUniqueID").on("change",(function(){0==$(this).prop("checked")?$("#patientUniqueID").addClass("d-none"):$("#patientUniqueID").removeClass("d-none")}))})),listenChange("#show_email, #show_phone, #show_address, #show_blood_group, #show_dob, #show_patient_unique_id",(function(){var e=$(this).prop("checked")?1:0,t=$(this).attr("data-id"),a=$(this).attr("name");$.ajax({url:route("patient-smart-card-templates.status",t),type:"post",data:{status:e,name:a},success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})})),listenChange("#color",(function(){var e=$(this).attr("data-id"),t=$(this).val();$.ajax({type:"post",url:route("patient-smart-card-templates.status",e),data:{color:t},success:function(e){e.success&&(displaySuccessMessage(e.message),Livewire.dispatch("refresh"))}})})),listenClick(".delete-smart-card-template",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("patient-smart-card-templates.destroy",t),"",Lang.get("js.card_template"))})),listenClick(".delete-smart-patient-card-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("smart-patient-cards.destroy",t),"",Lang.get("js.smart_patient_card"))})),listenClick("#onePatient",(function(e){$(".customisePatient").removeClass("d-none"),$.ajax({url:route("get.patients"),type:"GET",data:$(this).serialize(),success:function(e){e.success&&($("#cardTemplatePatientID").find("option").remove(),$("#cardTemplatePatientID").append($("<option></option>").attr("placeholder","").text(Lang.get("js.select_patient"))),$.each(e.data,(function(e,t){$("#cardTemplatePatientID").append($("<option></option>").attr("value",e).text(t))})))},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),listenClick("#allPatient,#remainingPatient",(function(){$(".customisePatient").addClass("d-none")})),listenHiddenBsModal("#addPatientCardModal",(function(){resetModalForm("#addPatientCardForm","#patientCardErrorsBox"),$(".template-name").trigger("change"),$(".patient-id").trigger("change"),$(".customisePatient").addClass("d-none"),$("#patientCardSave").attr("disabled",!1)})),listenSubmit("#addPatientCardForm",(function(e){if(e.preventDefault(),""==$.trim($(".template-name").val()))return displayErrorMessage(Lang.get("js.template_required")),!1;if(1==$(".one-patient").is(":checked")&&""==$.trim($(".patient-id").val()))return displayErrorMessage(Lang.get("js.patient_required")),!1;var t=jQuery(this).find("#patientCardSave");t.button("loading"),$("#patientCardSave").attr("disabled",!0),$.ajax({url:route("smart-patient-cards.store"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addPatientCardModal").modal("hide"),Livewire.dispatch("refresh"),$("#patientCardSave").attr("disabled",!1))},error:function(e){printErrorMessage("#patientCardErrorsBox",e),$("#patientCardSave").attr("disabled",!1)},complete:function(){t.button("reset")}})})),listenClick(".show-patient-smart-card",(function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-id");$("#patientCardAddress,#patientCardBloodGroup,#patientCardDob,#uniqueCardID,#patientCardEmail,patientCardMob").text(""),$(".patientAddress,.patientBloodGroup,.patientDob,.patient-code,.patientEmail,.patientNumber").addClass("d-none"),$.ajax({url:route("smart-patient-cards.show",t),type:"GET",success:function(e){if(e.success){var t=e.data.address;$("#patientCardBloodGroup").text(),$(".profile-img").attr("src",e.data.profile),$(".patient-card-header").css("background-color",e.data.smart_card_template.header_color),$(".download-icon").css("color",e.data.smart_card_template.header_color),$("#patientCardName").text(e.data.patient_user.full_name),1!=e.data.smart_card_template.show_address||isEmpty(t)||($(".patientAddress").removeClass("d-none"),$("#patientCardAddress").text(t.address1)),1!=e.data.smart_card_template.show_blood_group||isEmpty(e.data.patient_user.blood_group)||($(".patientBloodGroup").removeClass("d-none"),$("#patientCardBloodGroup").text(e.data.patient_user.blood_group)),1!=e.data.smart_card_template.show_dob||isEmpty(e.data.patient_user.dob)||($(".patientDob").removeClass("d-none"),$("#patientCardDob").text(e.data.patient_user.dob)),1==e.data.smart_card_template.show_patient_unique_id&&($(".patient-code").removeClass("d-none"),$("#uniqueCardID").text(e.data.patient_unique_id)),1==e.data.smart_card_template.show_email&&($(".patientEmail").removeClass("d-none"),$("#patientCardEmail").text(e.data.patient_user.email)),1!=e.data.smart_card_template.show_phone||isEmpty(e.data.patient_user.phone)||($(".patientNumber").removeClass("d-none"),$("#patientCardMob").text(e.data.patient_user.phone)),$("#showSmartCardModal").modal("show")}},error:function(e){displayErrorMessage(e.responseJSON.message)}}),$.ajax({url:route("smart.card.qr.code",t),type:"GET",success:function(e){$(".qr-code").html(e)},error:function(e){displayErrorMessage(Lang.get("js.qr_code_not_found"))}})})),(()=>{function e(e){var t=e.replace(/[^a-zA-Z0-9]+/g,",");return t=(t=t.replace(/,+$/,"")).trim()}window.addEventListener("turbo:load",(function(){if(!$("#module_name").length)return;if($("#module_name").select2({dropdownParent:$("#add_custom_field_modal")}),$("#edit_module_name").select2({dropdownParent:$("#edit_custom_field_modal")}),!$("#field_type").length)return;$("#field_type").select2({dropdownParent:$("#add_custom_field_modal")}),$("#edit_field_type").select2({dropdownParent:$("#edit_custom_field_modal")})})),listenChange($("#field_type"),(function(){var e=$("#field_type").val();4==e||5==e?$(".fieldValue").removeClass("d-none"):$(".fieldValue").addClass("d-none")})),listenSubmit("#addCustomFieldForm",(function(t){t.preventDefault();var a=$("#values").val().replace(/[;\-!@£$%^&*()_={}<>.,]+/g," "),i=$("#field_type").val();if(1!=a.split(" ").length||4!=i&&5!=i){$("#values").val(e($("#values").val()));var n=$(this).serialize();$.ajax({url:route("custom-fields.store"),type:"POST",data:n,success:function(e){e.success&&(displaySuccessMessage(e.message),$("#addCustomFieldForm")[0].reset(),$("#add_custom_field_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}else displayErrorMessage(Lang.get("js.value_must_be_greter_then"))})),listenHiddenBsModal("#add_custom_field_modal",(function(){resetModalForm("#addCustomFieldForm","#addCustomFieldErrorsBox"),$("#module_name").val("").trigger("change.select2").select2("close"),$("#field_type").val("").trigger("change.select2").select2("close")})),listenClick(".updateCustomFieldBtn",(function(e){var t=$(e.currentTarget).attr("data-id");$.ajax({url:route("custom-fields.edit",t),type:"GET",success:function(e){var t=e.data;e.success&&($("#editFieldId").val(t.id),$("#edit_module_name").val(t.module_name).trigger("change.select2"),$("#edit_field_type").val(t.field_type).trigger("change.select2"),$("#edit_field_name").val(t.field_name),$("#edit_grid").val(t.grid),$("#edit_values").val(t.values),0==t.is_required?$("#edit_is_reqired").val(0).prop("checked",!1):$("#edit_is_reqired").val(1).prop("checked",!0),4==t.field_type||5==t.field_type?$(".EditFieldValue").removeClass("d-none"):$(".EditFieldValue").addClass("d-none"))}})})),listenChange($("#edit_field_type"),(function(){var e=$("#edit_field_type").val();4==e||5==e?$(".EditFieldValue").removeClass("d-none"):$(".EditFieldValue").addClass("d-none")})),listenSubmit("#editCustomFieldForm",(function(t){t.preventDefault();var a=$("#edit_values").val().replace(/[;\-!@£$%^&*()_={}<>,]+/g," "),i=$("#edit_field_type").val();if(1!=a.split(" ").length||4!=i&&5!=i){$("#edit_values").val(e($("#edit_values").val()));var n=$("#editFieldId").val();$.ajax({url:$("#indexAddCustomFieldURL").val()+"/"+n,type:"put",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#edit_custom_field_modal").modal("hide"),Livewire.dispatch("refresh"))},error:function(e){displayErrorMessage(e.responseJSON.message)}})}else displayErrorMessage(Lang.get("js.value_must_be_greter_then"))})),listenHiddenBsModal("#edit_custom_field_modal",(function(){resetModalForm("#editCustomFieldForm","#editCustomFieldErrorsBox"),$("#edit_module_name").val("").trigger("change.select2").select2("close"),$("#edit_field_type").val("").trigger("change.select2").select2("close")})),listenClick(".custom-field-delete-btn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem($("#indexAddCustomFieldURL").val()+"/"+t,"",$("#customField").val())}))})(),(()=>{document.addEventListener("turbo:load",(function(){if(!$("#editOpdPrescriptionModal").length&&!$("#addOpdPrescriptionModal").length)return;$(".opdCategoryId,.medicineId,.opdDoseDuration,.opdDoseInterval,.opdMealList").select2({width:"100%"}),listen("click",".deleteOpdPrescriptionBtn",(function(e){var t=$(e.currentTarget).attr("data-id");deleteItem(route("opd.prescription.destroy",t),"",$("#opdPrescriptionLang").val())})),listenClick(".deleteOpdPrescription, .deleteOpdPrescriptionOnEdit",(function(){$(this).parents("tr").remove(),a(parseInt($(this).data("edit")))})),listenChange(".opdCategoryId",(function(e,a){var i=$(document).find("[data-medicine-id='"+$(this).data("id")+"']"),n=$(this).attr("data-id");""!==$(this).val()&&$.ajax({url:route("opd.medicine.list"),type:"get",dataType:"json",data:{id:$(this).val()},success:function(e){0!==e.data.length?(i.empty(),i.removeAttr("disabled"),i.append($("<option></option>").text(Lang.get("js.select_medicine"))),$.each(e.data,(function(e,t){i.append($("<option></option>").attr("value",e).text(t))})),$(".available-qty-div"+n).find("small").text("").end().css("margin-top","0px"),$(".modal").hasClass("show")&&t($(".modal.fade.show").attr("id")),void 0!==a&&i.val(a.medicineId).trigger("change.select2")):(i.append($("<option></option>").text(Lang.get("js.select_medicine"))),$(".available-qty-div"+n).find("small").text("").end().css("margin-top","0px"))}}),i.empty(),i.prop("disabled",!0)})),listenClick(".editOpdPrescriptionBtn",(function(e){if(!$(".ajaxCallIsRunning").val()){ajaxCallInProgress();var t,a=e.currentTarget.dataset.id;t=a,$.ajax({url:route("opd.prescription.edit",t),type:"GET",success:function(e){if(e.success){var t=e.data.opdPrescription,a=e.data.opdPrescriptionItems;$("#opdEditPrescriptionId").val(t.id),$("#editOpdHeaderNote").val(t.header_note),$("#editOpdFooterNote").val(t.footer_note),$.each(a,(function(e,t){$("#addOpdPrescriptionItemOnEdit").trigger("click");var a=$("#showOpdUniqueId").val()-1,i=$(document).find("[data-avlMedicine-id='"+a+"']"),n=t.medicine.available_quantity,r=Lang.get("js.available_quantity")+": "+n;i.text(r).addClass(n<=10?"text-danger":"text-success"),$(document).find("[data-id='"+a+"']").val(t.category_id).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dose-duration-id='"+a+"']").val(t.day).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dose-interval-id='"+a+"']").val(t.dose_interval).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-meal-id='"+a+"']").val(t.time).trigger("change",[{medicineId:t.medicine_id}]),$(document).find("[data-dosage-id='"+a+"']").val(t.dosage),$(document).find("[data-instruction-id='"+a+"']").val(t.instruction)}));var i=1;$(".edit-opd-prescription-item-container>tr").each((function(){$(this).find(".opd-prescription-item-numberr").text(i),i++})),$("#editOpdPrescriptionModal").modal("show"),ajaxCallCompleted()}},error:function(e){manageAjaxErrors(e)}})}})),listenSubmit("#editOpdPrescriptionForm",(function(e){if(e.preventDefault(),!0!==i())return!1;var t=jQuery(this).find("#btnEditOpdPrescriptionSave");t.button("loading");var a=$("#opdEditPrescriptionId").val(),n=$("#showOpdPrescriptionUrl").val()+"/"+a,r={formSelector:$(this),url:n,type:"POST"};editRecord(r,t,"#editOpdPrescriptionModal")})),listenHiddenBsModal("#addOpdPrescriptionModal",(function(){$("#avlQtyDiv").find("small").text("").end().css("margin-top","0px"),resetModalForm("#addOpdPrescriptionForm","#opdPrescriptionErrorsBox"),$("#opdPrescriptionTbl").find("tr:gt(1)").remove(),$(".opdCategoryId").val(""),$(".opdCategoryId").trigger("change")})),listenShownBsModal("#addOpdPrescriptionModal",(function(){t(".medicineId"),e("#opdPrescriptionItemTemplate")})),listenHiddenBsModal("#editOpdPrescriptionModal",(function(){$("#avlQtyDiv").find("small").text("").end().css("margin-top","0px"),$("#editOpdPrescriptionTbl").find("tr:gt(0)").remove(),resetModalForm("#editOpdPrescriptionForm","#editOpdPrescriptionErrorsBox")})),listenClick(".viewOpdPrescription",(function(e){var t=e.currentTarget.dataset.id;$.ajax({url:$("#showOpdPrescriptionUrl").val()+"/"+t,type:"get",beforeSend:function(){screenLock()},success:function(e){$("#opdPrescriptionViewData").html(e),$("#showOpdPrescriptionModal").modal("show"),ajaxCallCompleted()},complete:function(){screenUnLock()}})}))}));var e=function(e){"#opdPrescriptionItemTemplate"===e?($(".opdCategoryId").select2({placeholder:Lang.get("js.select_category"),width:"100%",dropdownParent:$("#addOpdPrescriptionModal")}),$(".opdDoseDuration,.opdDoseInterval,.opdMealList").select2({width:"100%"}),$(".medicineId").select2({placeholder:Lang.get("js.select_medicine"),width:"100%",dropdownParent:$("#addOpdPrescriptionModal")})):($(".opdCategoryId").select2({placeholder:Lang.get("js.select_category"),width:"100%",dropdownParent:$("#editOpdPrescriptionModal")}),$(".opdDoseDuration,.opdDoseInterval,.opdMealList").select2({width:"100%"}),$(".medicineId").select2({placeholder:Lang.get("js.select_medicine"),width:"100%",dropdownParent:$("#editOpdPrescriptionModal")}))};e("#opdPrescriptionItemTemplate");var t=function(e){"addOpdPrescriptionModal"===e?$(".medicineId").select2({placeholder:Lang.get("js.select_medicine"),width:"100%",dropdownParent:$("#addOpdPrescriptionModal")}):$(".medicineId").select2({placeholder:Lang.get("js.select_medicine"),width:"100%",dropdownParent:$("#editOpdPrescriptionModal")})};listenClick("#addOpdPrescriptionItem, #addOpdPrescriptionItemOnEdit",(function(){var t=parseInt($(this).data("edit"))?"#editopdPrescriptionItemTemplate":"#opdPrescriptionItemTemplate",i=parseInt($(this).data("edit"))?".edit-opd-prescription-item-container":".opd-prescription-item-container",n=$("#showOpdUniqueId").val(),r={medicineCategories:JSON.parse($("#showOpdMedicineCategories").val()),opdDoseDuration:JSON.parse($(".opdPrescriptionDurations").val()),opdDoseInterval:JSON.parse($(".opdPrescriptionIntervals").val()),opdMealList:JSON.parse($(".opdPrescriptionMeals").val()),uniqueId:n},s=prepareTemplateRender(t,r);$(i).append(s),e(t),n++,$("#showOpdUniqueId").val(n),a(parseInt($(this).data("edit")))}));var a=function(t){var a=t?"#editopdPrescriptionItemTemplate":"#opdPrescriptionItemTemplate",i=t?".edit-opd-prescription-item-container":".opd-prescription-item-container",n=t?".edit-opd-prescription-item-number":".opd-prescription-item-number",r=1;$(i+">tr").each((function(){$(this).find(n).text(r),r++}));var s=$("#showOpdUniqueId").val();if(r-1==0){var o={medicineCategories:JSON.parse($("#showOpdMedicineCategories").val()),opdDoseDuration:JSON.parse($(".opdPrescriptionDurations").val()),opdDoseInterval:JSON.parse($(".opdPrescriptionIntervals").val()),opdMealList:JSON.parse($(".opdPrescriptionMeals").val()),uniqueId:s},d=prepareTemplateRender(a,o);$(i).append(d),e(a),s++}};function i(){var e=!0;return $(".medicineId").each((function(){if("Select Medicine"==$(this).val())return displayErrorMessage(Lang.get("js.medicine_required")),e=!1,!1})),e}listenSubmit("#addOpdPrescriptionForm",(function(e){if(e.preventDefault(),!0!==i())return!1;var t=jQuery(this).find("#btnOpdPrescriptionSave");t.button("loading");var a={formSelector:$(this),url:$("#showOpdPrescriptionCreateUrl").val(),type:"POST"};newRecord(a,t,"#addOpdPrescriptionModal")})),listenChange(".opd-prescription-medicine",(function(){var e=$(this).val(),t=$(this).attr("data-medicine-id");e==Lang.get("js.select_medicine")&&$(".available-qty-div"+t).find("small").text("").end().css("margin-top","0px"),$.ajax({url:route("get-medicine-quantity",e),method:"get",cache:!1,success:function(e){if(null==e.data)return $(".available-qty-div"+t).find("small").text("").end().css("margin-top","0px"),!1;e.success&&(e.data.available_quantity<=10?($(".opd-available-quantity"+t).text(Lang.get("js.available_quantity")+" : "+e.data.available_quantity).addClass("text-danger").removeClass("text-success"),$(".available-qty-div"+t).css({"margin-top":"22px"})):($(".opd-available-quantity"+t).text(Lang.get("js.available_quantity")+" : "+e.data.available_quantity).addClass("text-success").removeClass("text-danger"),$(".available-qty-div"+t).css({"margin-top":"22px"})))}})}))})(),listenClick(".viewOpdPrescription",(function(){$("#showOpdPrescriptionUrl").val(),$(this).data("id"),$.ajax({url:$("#showOpdPrescriptionUrl").val()+"/"+$(this).data("id"),type:"get",success:function(e){$("#opdPrescriptionViewData").html(e),$("#showOpdPrescriptionModal").modal("show"),ajaxCallCompleted()}})})),(()=>{"use strict";listenSubmit("#googleCalendarForm",(function(e){e.preventDefault(),$(".google-calendar").is(":checked")?$.ajax({url:route("event.google.calendar.store"),type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),setTimeout((function(){location.reload()}),1200))},error:function(e){displayErrorMessage(e.responseJSON.message)}}):displayErrorMessage(Lang.get("js.select_calendar"))})),listenClick("#syncGoogleCalendar",(function(){$(".google-calendar").is(":checked")?$.ajax({url:route("syncGoogleCalendarList"),type:"GET",success:function(e){e.success&&(displaySuccessMessage(e.message),setTimeout((function(){location.reload()}),1200))},error:function(e){401==e.status?displayErrorMessage("js.disconnect_or_reconnect"):displayErrorMessage(e.responseJSON.message)}}):displayErrorMessage(Lang.get("js.select_calendar"))})),listenChange(".google_json_file",(function(){$("#jsonFileImage").css("background-image","url('assets/img/json.png')")}))})()})();